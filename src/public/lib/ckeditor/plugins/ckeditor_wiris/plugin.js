/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./global.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./global.js":
/*!*******************!*\
  !*** ./global.js ***!
  \*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _integration_js_src_core_src_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-js/src/core.src.js */ \"./integration-js/src/core.src.js\");\n/* harmony import */ var _integration_js_src_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integration-js/src/parser.js */ \"./integration-js/src/parser.js\");\n/* harmony import */ var _integration_js_src_util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./integration-js/src/util.js */ \"./integration-js/src/util.js\");\n/* harmony import */ var _integration_js_src_image_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./integration-js/src/image.js */ \"./integration-js/src/image.js\");\n/* harmony import */ var _integration_js_src_configuration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./integration-js/src/configuration.js */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _integration_js_src_listeners__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./integration-js/src/listeners */ \"./integration-js/src/listeners.js\");\n/* harmony import */ var _integration_js_src_backwardslib_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./integration-js/src/backwardslib.js */ \"./integration-js/src/backwardslib.js\");\n/* harmony import */ var _integration_js_src_polyfills_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./integration-js/src/polyfills.js */ \"./integration-js/src/polyfills.js\");\n/* harmony import */ var _integration_js_src_integrationmodel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./integration-js/src/integrationmodel.js */ \"./integration-js/src/integrationmodel.js\");\n/* harmony import */ var _plugin_src_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./plugin.src.js */ \"./plugin.src.js\");\n/* harmony import */ var _integration_js_src_latex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./integration-js/src/latex */ \"./integration-js/src/latex.js\");\n/* harmony import */ var _integration_js_src_test__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./integration-js/src/test */ \"./integration-js/src/test.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Expose WirisPlugin variable to the window.\nwindow.WirisPlugin = {\n  Core: _integration_js_src_core_src_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  Parser: _integration_js_src_parser_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  Image: _integration_js_src_image_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  Util: _integration_js_src_util_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  Configuration: _integration_js_src_configuration_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  Listeners: _integration_js_src_listeners__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  IntegrationModel: _integration_js_src_integrationmodel_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  currentInstance: _plugin_src_js__WEBPACK_IMPORTED_MODULE_9__[\"currentInstance\"],\n  instances: _plugin_src_js__WEBPACK_IMPORTED_MODULE_9__[\"instances\"],\n  CKEditor4Integration: _plugin_src_js__WEBPACK_IMPORTED_MODULE_9__[\"CKEditor4Integration\"],\n  Latex: _integration_js_src_latex__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  Test: _integration_js_src_test__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n};\n\n//# sourceURL=webpack:///./global.js?");

/***/ }),

/***/ "./integration-js/lang/strings.json":
/*!******************************************!*\
  !*** ./integration-js/lang/strings.json ***!
  \******************************************/
/*! exports provided: ar, ca, cs, da, de, en, es, et, eu, fi, fr, gl, he, hr, hu, it, ja, ko, nl, no, pl, pt, pt_br, ru, sv, tr, zh, el, , default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"ar\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"إلغاء\\\",\\\"accept\\\":\\\"موا�?ق\\\",\\\"manual\\\":\\\"الدليل\\\",\\\"insert_math\\\":\\\"إدراج صيغة رياضية - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"ca\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancel·lar\\\",\\\"accept\\\":\\\"Acceptar\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Inserir fórmula matemàtica - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"cs\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Storno\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Příru�?ka\\\",\\\"insert_math\\\":\\\"Vložit matematický vzorec - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"da\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Annuller\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Brugervejledning\\\",\\\"insert_math\\\":\\\"Indsæt matematisk formel - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"de\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Abbrechen\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Handbuch\\\",\\\"insert_math\\\":\\\"Mathematische Formel einfügen - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"en\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancel\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Insert a math equation - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"es\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancelar\\\",\\\"accept\\\":\\\"Aceptar\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Insertar fórmula matemática - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"et\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Loobu\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Käsiraamat\\\",\\\"insert_math\\\":\\\"Lisa matemaatiline valem – WIRIS\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"eu\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Ezeztatu\\\",\\\"accept\\\":\\\"Onartu\\\",\\\"manual\\\":\\\"Gida\\\",\\\"insert_math\\\":\\\"Txertatu matematikako formula - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"fi\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Peruuta\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Liitä matemaattinen kaava - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"fr\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Annuler\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Manuel\\\",\\\"insert_math\\\":\\\"Insérer une formule mathématique - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"gl\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancelar\\\",\\\"accept\\\":\\\"Aceptar\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Inserir fórmula matemática - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"he\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"ביטול\\\",\\\"accept\\\":\\\"�?ישור\\\",\\\"manual\\\":\\\"מדריך\\\",\\\"insert_math\\\":\\\"הוסף נוסחה מתמטית - MathType\\\",\\\"insert_chem\\\":\\\"הוספת כתיבה כימית - ChemType\\\",\\\"minimize\\\":\\\"מזערי\\\",\\\"maximize\\\":\\\"מרבי\\\",\\\"fullscreen\\\":\\\"מסך מל�?\\\",\\\"exit_fullscreen\\\":\\\"יצי�?ה ממצב מסך מל�?\\\",\\\"close\\\":\\\"סגירה\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"ה�?�? לצ�?ת? שינויי�? �?שר בוצעו ימחקו.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" �?יננה פונקציה\\\",\\\"exception_invalid_date_format\\\":\\\"תסדיר ת�?ריך �?ינו תקין : \\\",\\\"exception_casting\\\":\\\"ל�? ניתן להמיר \\\",\\\"exception_casting_to\\\":\\\" ל \\\"},\\\"hr\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Poništi\\\",\\\"accept\\\":\\\"U redu\\\",\\\"manual\\\":\\\"Priru�?nik\\\",\\\"insert_math\\\":\\\"Umetnite matemati�?ku formulu - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"hu\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Mégsem\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Kézikönyv\\\",\\\"insert_math\\\":\\\"Matematikai képlet beszúrása - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"it\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Annulla\\\",\\\"accept\\\":\\\"Accetta\\\",\\\"manual\\\":\\\"Manuale\\\",\\\"insert_math\\\":\\\"Inserisci una formula matematica - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"ja\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"キャンセル\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"マニュアル\\\",\\\"insert_math\\\":\\\"数�?を挿入 - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"ko\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"취소\\\",\\\"accept\\\":\\\"승�?�\\\",\\\"manual\\\":\\\"설명서\\\",\\\"insert_math\\\":\\\"수학 공�? 삽입 - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"nl\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Annuleren\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Handleiding\\\",\\\"insert_math\\\":\\\"Wiskundige formule invoegen - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"no\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Avbryt\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Håndbok\\\",\\\"insert_math\\\":\\\"Sett inn matematikkformel - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"pl\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Anuluj\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Instrukcja\\\",\\\"insert_math\\\":\\\"Wstaw formułę matematyczną - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"pt\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancelar\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Inserir fórmula matemática - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"pt_br\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Cancelar\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Manual\\\",\\\"insert_math\\\":\\\"Inserir fórmula matemática - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"ru\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"отмена\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"вручную\\\",\\\"insert_math\\\":\\\"В�?тавить математиче�?кую формулу: WIRIS\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"sv\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Avbryt\\\",\\\"accept\\\":\\\"OK\\\",\\\"manual\\\":\\\"Bruksanvisning\\\",\\\"insert_math\\\":\\\"Infoga matematisk formel - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"tr\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Vazgeç\\\",\\\"accept\\\":\\\"Tamam\\\",\\\"manual\\\":\\\"Kılavuz\\\",\\\"insert_math\\\":\\\"Matematik formülü ekle - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"zh\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"�?�消\\\",\\\"accept\\\":\\\"确定\\\",\\\"manual\\\":\\\"手册\\\",\\\"insert_math\\\":\\\"�?�入数学公�? - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"el\\\":{\\\"latex\\\":\\\"LaTeX\\\",\\\"cancel\\\":\\\"Άκυ�?ο\\\",\\\"accept\\\":\\\"ΟΚ\\\",\\\"manual\\\":\\\"Χει�?οκίνητα\\\",\\\"insert_math\\\":\\\"Εισαγωγή μαθηματικο�? τ�?που - MathType\\\",\\\"insert_chem\\\":\\\"Insert a chemistry formula - ChemType\\\",\\\"minimize\\\":\\\"Minimize\\\",\\\"maximize\\\":\\\"Maximize\\\",\\\"fullscreen\\\":\\\"Full-screen\\\",\\\"exit_fullscreen\\\":\\\"Exit full-screen\\\",\\\"close\\\":\\\"Close\\\",\\\"mathtype\\\":\\\"MathType\\\",\\\"title_modalwindow\\\":\\\"MathType modal window\\\",\\\"close_modal_warning\\\":\\\"Are you sure you want to leave? The changes you made will be lost.\\\",\\\"latex_name_label\\\":\\\"Latex Formula\\\",\\\"browser_no_compatible\\\":\\\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\\\",\\\"error_convert_accessibility\\\":\\\"Error converting from MathML to accessible text.\\\",\\\"exception_cross_site\\\":\\\"Cross site scripting is only allowed for HTTP.\\\",\\\"exception_high_surrogate\\\":\\\"High surrogate not followed by low surrogate in fixedCharCodeAt()\\\",\\\"exception_string_length\\\":\\\"Invalid string. Length must be a multiple of 4\\\",\\\"exception_key_nonobject\\\":\\\"Object.keys called on non-object\\\",\\\"exception_null_or_undefined\\\":\\\" this is null or not defined\\\",\\\"exception_not_function\\\":\\\" is not a function\\\",\\\"exception_invalid_date_format\\\":\\\"Invalid date format : \\\",\\\"exception_casting\\\":\\\"Cannot cast \\\",\\\"exception_casting_to\\\":\\\" to \\\"},\\\"\\\":{}}\");\n\n//# sourceURL=webpack:///./integration-js/lang/strings.json?");

/***/ }),

/***/ "./integration-js/src/accessibility.js":
/*!*********************************************!*\
  !*** ./integration-js/src/accessibility.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Accessibility; });\n/* harmony import */ var _textcache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textcache */ \"./integration-js/src/textcache.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringmanager */ \"./integration-js/src/stringmanager.js\");\n\n\n\n\n\n/**\r\n * @classdesc\r\n * This class represents MathType accessible class. Converts MathML to accessible text and manages\r\n * the associated client-side cache.\r\n */\nclass Accessibility {\n  /**\r\n  * Static property.\r\n  * Accessibility cache, each entry contains a MathML and its correspondent accessibility text.\r\n  * @type {TextCache}\r\n  */\n  static get cache() {\n    return Accessibility._cache;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set accessibility cache.\r\n   * @param {TextCahe} value - The property value.\r\n   * @ignore\r\n   */\n  static set cache(value) {\n    Accessibility._cache = value;\n  }\n\n  /**\r\n   * Converts MathML strings to its accessible text representation.\r\n   * @param {String} mathML - MathML to be converted to accessible text.\r\n   * @param {String} [language] - Language of the accessible text. 'en' by default.\r\n   * @param {Array.<String>} [data] - Parameters to send to mathml2accessible service.\r\n   * @return {String} Accessibility text.\r\n   */\n  static mathMLToAccessible(mathML, language, data) {\n    if (typeof language === 'undefined') {\n      language = 'en';\n    }\n    // Check MathML class. If the class is chemistry,\n    // we add chemistry to data to force accessibility service\n    // to load chemistry grammar.\n    if (_mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].containClass(mathML, 'wrs_chemistry')) {\n      data.mode = 'chemistry';\n    }\n    let accessibleText = '';\n    if (Accessibility.cache.get(mathML)) {\n      accessibleText = Accessibility.cache.get(mathML);\n    } else {\n      data.service = 'mathml2accessible';\n      data.lang = language;\n      const accessibleJsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getService('service', data));\n      if (accessibleJsonResponse.status !== 'error') {\n        accessibleText = accessibleJsonResponse.result.text;\n        Accessibility.cache.populate(mathML, accessibleText);\n      } else {\n        accessibleText = _stringmanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('error_convert_accessibility');\n      }\n    }\n    return accessibleText;\n  }\n}\n\n/**\r\n * Contains an instance of TextCache class to manage the JavaScript accessible cache.\r\n * Each entry of the cache object contains the MathML and it's correspondent accessibility text.\r\n * @private\r\n * @type {TextCache}\r\n */\nAccessibility._cache = new _textcache__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n//# sourceURL=webpack:///./integration-js/src/accessibility.js?");

/***/ }),

/***/ "./integration-js/src/backwardslib.js":
/*!********************************************!*\
  !*** ./integration-js/src/backwardslib.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.src */ \"./integration-js/src/core.src.js\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \"./integration-js/src/parser.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n/* eslint-disable */\n// This file has backwards compatibility purposes, eslint\n// is disabled.\n\n\n\n\nvar backwardsLib;\n/* harmony default export */ __webpack_exports__[\"default\"] = (backwardsLib);\n\n// Backward compatibility library for public methods previous to version 7.6.0\n/**\r\n * Add a new callback to a MathType listener.\r\n * @param {Object} jsonListener - an Object containing listener name and a callback.\r\n * @tutorial tutorial\r\n * @deprecated Since version 7.6.0. Use Listeners.newListener instead.\r\n * @ignore\r\n */\nfunction wrs_addPluginListener(jsonListener) {\n  // TODO: Add documentation URL + doc example.\n  console.warn('Deprecated method');\n  var eventName;\n  eventName = Object.keys(jsonListener)[0];\n  var callback;\n  callback = jsonListener[eventName];\n  var pluginListener = _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"].newListener(eventName, callback);\n  _core_src__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addGlobalListener(pluginListener);\n}\n\n// Expose the method globally.\nwindow.wrs_addPluginListener = wrs_addPluginListener;\n\n/**\r\n * Parses initial HTML code. If the HTML contains data generated by WIRIS, this data would be converted as following:\r\n * <pre>\r\n * MathML code: Image containing the corresponding MathML formulas.\r\n * MathML code with LaTeX annotation : LaTeX.\r\n * </pre>\r\n * @param {string} code - HTML code with data generated by MathType.\r\n * @param {string} language - language for the formula.\r\n * @return {string} HTML code with the WIRIS data converted into LaTeX and images.\r\n * @deprecated Since version 7.6.0. Use Parser.initParse instead.\r\n * @ignore\r\n */\nfunction wrs_initParse(code, language) {\n  console.warn('Deprecated method. Use Parser.endParse instead.');\n  return _parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].initParse(code, language);\n}\n\n// Expose the method globally.\nwindow.wrs_initParse = wrs_initParse;\n\n/**\r\n * Parses end HTML code. The end HTML code is HTML code with embedded images or LaTeX formulas created with MathType. <br>\r\n * By default this method converts the formula images and LaTeX strings in MathML. <br>\r\n * If image mode is enabled the images will not be converted into MathML. For further information see {@link http://www.wiris.com/plugins/docs/full-mathml-mode}.\r\n * @param {string} code - string to be parsed.\r\n * @param {Object} wirisProperties - extra attributes for the formula.\r\n * @param {string} language - language for the formula.\r\n * @return {string}\r\n * @deprecated Since version 7.6.0. Use Parser.initParse instead.\r\n * @ignore\r\n */\nfunction wrs_endParse(code, wirisProperties, language) {\n  console.warn('Deprecated method. Use Parser.endParse instead.');\n  return _parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].endParse(code, wirisProperties, language);\n}\n\n// Expose the method globally.\nwindow.wrs_endParse = wrs_endParse;\n\n//# sourceURL=webpack:///./integration-js/src/backwardslib.js?");

/***/ }),

/***/ "./integration-js/src/configuration.js":
/*!*********************************************!*\
  !*** ./integration-js/src/configuration.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Configuration; });\n/**\r\n * This class represents the configuration class.\r\n * Usually used to retrieve configuration properties generated in the backend into the frontend.\r\n */\nclass Configuration {\n  /**\r\n   * Adds a properties object to {@link Configuration.properties}.\r\n   * @param {Object} properties - properties to append to current properties.\r\n   */\n  static addConfiguration(properties) {\n    Object.assign(Configuration.properties, properties);\n  }\n\n  /**\r\n  * Static property.\r\n  * The configuration properties object.\r\n  * @private\r\n  * @type {Object}\r\n  */\n  static get properties() {\n    return Configuration._properties;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set configuration properties.\r\n   * @param {Object} value - The property value.\r\n   * @ignore\r\n   */\n  static set properties(value) {\n    Configuration._properties = value;\n  }\n\n  /**\r\n   * Returns the value of a property key.\r\n   * @param {String} key - Property key\r\n   * @returns {String} Property value\r\n   */\n  static get(key) {\n    if (!Object.prototype.hasOwnProperty.call(Configuration.properties, key)) {\n      // Backwards compatibility.\n      if (Object.prototype.hasOwnProperty.call(Configuration.properties, '_wrs_conf_')) {\n        return Configuration.properties[\"_wrs_conf_\".concat(key)];\n      }\n      return false;\n    }\n    return Configuration.properties[key];\n  }\n\n  /**\r\n   * Adds a new property to Configuration class.\r\n   * @param {String} key - Property key.\r\n   * @param {Object} value - Property value.\r\n   */\n  static set(key, value) {\n    Configuration.properties[key] = value;\n  }\n\n  /**\r\n   * Updates a property object value with new values.\r\n   * @param {String} key - The property key to be updated.\r\n   * @param {Object} propertyValue - Object containing the new values.\r\n   */\n  static update(key, propertyValue) {\n    if (!Configuration.get(key)) {\n      Configuration.set(key, propertyValue);\n    } else {\n      const updateProperty = Object.assign(Configuration.get(key), propertyValue);\n      Configuration.set(key, updateProperty);\n    }\n  }\n}\n\n/**\r\n * Static properties object. Stores all configuration properties.\r\n * Needed to attribute accessors.\r\n * @private\r\n * @type {Object}\r\n */\nConfiguration._properties = {};\n\n//# sourceURL=webpack:///./integration-js/src/configuration.js?");

/***/ }),

/***/ "./integration-js/src/constants.js":
/*!*****************************************!*\
  !*** ./integration-js/src/constants.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Constants; });\n/**\r\n * This class represents all the constants needed in a MathType integration among different classes.\r\n * If a constant should be used across different classes should be defined using attribute\r\n * accessors.\r\n */\nclass Constants {\n  /**\r\n   * Safe XML entities.\r\n   * @type {Object}\r\n   */\n  static get safeXmlCharactersEntities() {\n    return {\n      tagOpener: '&laquo;',\n      tagCloser: '&raquo;',\n      doubleQuote: '&uml;',\n      realDoubleQuote: '&quot;'\n    };\n  }\n\n  /**\r\n   * Blackboard invalid safe characters.\r\n   * @type {Object}\r\n   */\n  static get safeBadBlackboardCharacters() {\n    return {\n      ltElement: '«mo»<«/mo»',\n      gtElement: '«mo»>«/mo»',\n      ampElement: '«mo»&«/mo»'\n    };\n  }\n\n  /**\r\n   * Blackboard valid safe characters.\r\n   * @type{Object}\r\n   */\n  static get safeGoodBlackboardCharacters() {\n    return {\n      ltElement: '«mo»§lt;«/mo»',\n      gtElement: '«mo»§gt;«/mo»',\n      ampElement: '«mo»§amp;«/mo»'\n    };\n  }\n\n  /**\r\n   * Standard XML special characters.\r\n   * @type {Object}\r\n   */\n  static get xmlCharacters() {\n    return {\n      id: 'xmlCharacters',\n      tagOpener: '<',\n      // Hex: \\x3C.\n      tagCloser: '>',\n      // Hex: \\x3E.\n      doubleQuote: '\"',\n      // Hex: \\x22.\n      ampersand: '&',\n      // Hex: \\x26.\n      quote: '\\'' // Hex: \\x27.\n    };\n  }\n\n  /**\r\n  * Safe XML special characters. This characters are used instead the standard\r\n  * the standard to parse the  MathML if safeXML save mode is enable. Each XML\r\n  * special character have a UTF-8 representation.\r\n  * @type {Object}\r\n  */\n  static get safeXmlCharacters() {\n    return {\n      id: 'safeXmlCharacters',\n      tagOpener: '«',\n      // Hex: \\xAB.\n      tagCloser: '»',\n      // Hex: \\xBB.\n      doubleQuote: '¨',\n      // Hex: \\xA8.\n      ampersand: '§',\n      // Hex: \\xA7.\n      quote: '`',\n      // Hex: \\x60.\n      realDoubleQuote: '¨'\n    };\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/constants.js?");

/***/ }),

/***/ "./integration-js/src/contentmanager.js":
/*!**********************************************!*\
  !*** ./integration-js/src/contentmanager.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ContentManager; });\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _editorlistener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editorlistener */ \"./integration-js/src/editorlistener.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n\n\n\n\n\nclass ContentManager {\n  /**\r\n   * @classdesc\r\n   * This class represents a modal dialog, managing the following:\r\n   * - The insertion of content into the current instance of the {@link ModalDialog} class.\r\n   * - The actions to be done once the modal object has been submitted\r\n   *   (submitAction} method).\r\n   * - The update of the content when the {@link ModalDialog} class is also updated,\r\n   *   for example when ModalDialog is re-opened.\r\n   * - The communication between the {@link ModalDialog} class and itself, if the content\r\n   *   has been changed (hasChanges} method).\r\n   * @constructs\r\n   * @param {Object} contentManagerAttributes - Object containing all attributes needed to\r\n   * create a new instance.\r\n   */\n  constructor(contentManagerAttributes) {\n    /**\r\n     * An object containing MathType editor parameters. See\r\n     * http://docs.wiris.com/en/mathtype/mathtype_web/sdk-api/parameters for further information.\r\n     * @type {Object}\r\n     */\n    this.editorAttributes = {};\n    if ('editorAttributes' in contentManagerAttributes) {\n      this.editorAttributes = contentManagerAttributes.editorAttributes;\n    } else {\n      throw new Error('ContentManager constructor error: editorAttributes property missed.');\n    }\n\n    /**\r\n     * CustomEditors instance. Contains the custom editors.\r\n     * @type {CustomEditors}\r\n     */\n    this.customEditors = null;\n    if ('customEditors' in contentManagerAttributes) {\n      this.customEditors = contentManagerAttributes.customEditors;\n    }\n\n    /**\r\n    * Environment properties. This object contains data about the integration platform.\r\n    * @type {Object}\r\n    * @property {String} editor - Editor name. Usually the HTML editor.\r\n    * @property {String} mode - Save mode. Xml by default.\r\n    * @property {String} version - Plugin version.\r\n    */\n    this.environment = {};\n    if ('environment' in contentManagerAttributes) {\n      this.environment = contentManagerAttributes.environment;\n    } else {\n      throw new Error('ContentManager constructor error: environment property missed');\n    }\n\n    /**\r\n      * ContentManager language.\r\n      * @type {String}\r\n      */\n    this.language = '';\n    if ('language' in contentManagerAttributes) {\n      this.language = contentManagerAttributes.language;\n    } else {\n      throw new Error('ContentManager constructor error: language property missed');\n    }\n\n    /**\r\n    * {@link EditorListener} instance. Manages the changes inside the editor.\r\n    * @type {EditorListener}\r\n    */\n    this.editorListener = new _editorlistener__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    /**\r\n     * MathType editor instance.\r\n     * @type {JsEditor}\r\n     */\n    this.editor = null;\n\n    /**\r\n     * Navigator user agent.\r\n     * @type {String}\r\n     */\n    this.ua = navigator.userAgent.toLowerCase();\n\n    /**\r\n     * Mobile device properties object\r\n     * @type {DeviceProperties}\r\n     */\n    this.deviceProperties = {};\n    this.deviceProperties.isAndroid = this.ua.indexOf('android') > -1;\n    this.deviceProperties.isIOS = this.ua.indexOf('ipad') > -1 || this.ua.indexOf('iphone') > -1;\n\n    /**\r\n     * Custom editor toolbar.\r\n     * @type {String}\r\n     */\n    this.toolbar = null;\n\n    /**\r\n     * Instance of the {@link ModalDialog} class associated with the current\r\n     * {@link ContentManager} instance.\r\n     * @type {ModalDialog}\r\n     */\n    this.modalDialogInstance = null;\n\n    /**\r\n     * ContentManager listeners.\r\n     * @type {Listeners}\r\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n    /**\r\n     * MathML associated to the ContentManager instance.\r\n     * @type {String}\r\n     */\n    this.mathML = null;\n\n    /**\r\n     * Indicates if the edited element is a new one or not.\r\n     * @type {Boolean}\r\n     */\n    this.isNewElement = true;\n\n    /**\r\n     * {@link IntegrationModel} instance. Needed to call wrapper methods.\r\n     * @type {IntegrationModel}\r\n     */\n    this.integrationModel = null;\n\n    /**\r\n     * Indicates if the editor is loaded.\r\n     * @type {Boolean}\r\n     */\n    this.isEditorLoaded = false;\n  }\n\n  /**\r\n   * Adds a new listener to the current {@link ContentManager} instance.\r\n   * @param {Object} listener - The listener to be added.\r\n   */\n  addListener(listener) {\n    this.listeners.add(listener);\n  }\n\n  /**\r\n   * Sets an instance of {@link IntegrationModel} class to the current {@link ContentManager}\r\n   * instance.\r\n   * @param {IntegrationModel} integrationModel - The {@link IntegrationModel} instance.\r\n   */\n  setIntegrationModel(integrationModel) {\n    this.integrationModel = integrationModel;\n  }\n\n  /**\r\n   * Sets the {@link ModalDialog} instance into the current {@link ContentManager} instance.\r\n   * @param {ModalDialog} modalDialogInstance - The {@link ModalDialog} instance\r\n   */\n  setModalDialogInstance(modalDialogInstance) {\n    this.modalDialogInstance = modalDialogInstance;\n  }\n\n  /**\r\n   * Inserts the content into the current {@link ModalDialog} instance updating\r\n   * the title and inserting the JavaScript editor.\r\n   */\n  insert() {\n    // Before insert the editor we update the modal object title to avoid weird render display.\n    this.updateTitle(this.modalDialogInstance);\n    this.insertEditor(this.modalDialogInstance);\n  }\n\n  /**\r\n   * Inserts MathType editor into the {@link ModalDialog.contentContainer}. It waits until\r\n   * editor's JavaScript is loaded.\r\n   */\n  insertEditor() {\n    // To know if editor JavaScript is loaded we need to wait until\n    // window.com.wiris.jsEditor.JsEditor.newInstance is ready.\n    if (window.com && window.com.wiris && window.com.wiris.jsEditor && window.com.wiris.jsEditor.JsEditor && window.com.wiris.jsEditor.JsEditor.newInstance) {\n      this.editor = window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes);\n      this.editor.insertInto(this.modalDialogInstance.contentContainer);\n      this.editor.focus();\n      if (this.modalDialogInstance.rtl) {\n        this.editor.action('rtl');\n      }\n      // Setting div in rtl in case of it's activated.\n      if (this.editor.getEditorModel().isRTL()) {\n        this.editor.element.style.direction = 'rtl';\n      }\n\n      // Editor listener: this object manages the changes logic of editor.\n      this.editor.getEditorModel().addEditorListener(this.editorListener);\n\n      // iOS events.\n      if (this.modalDialogInstance.deviceProperties.isIOS) {\n        setTimeout(function hide() {\n          this.modalDialogInstance.hideKeyboard();\n        }, 400);\n        const formulaDisplayDiv = document.getElementsByClassName('wrs_formulaDisplay')[0];\n        _util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addEvent(formulaDisplayDiv, 'focus', this.modalDialogInstance.handleOpenedIosSoftkeyboard);\n        _util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addEvent(formulaDisplayDiv, 'blur', this.modalDialogInstance.handleClosedIosSoftkeyboard);\n      }\n      // Fire onLoad event. Necessary to set the MathML into the editor\n      // after is loaded.\n      this.listeners.fire('onLoad', {});\n      this.isEditorLoaded = true;\n    } else {\n      setTimeout(ContentManager.prototype.insertEditor.bind(this), 100);\n    }\n  }\n\n  /**\r\n   * Initializes the current class by loading MathType script.\r\n   */\n  init() {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    let editorUrl = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('editorUrl');\n    // We create an object url for parse url string and work more efficiently.\n    const urlObject = document.createElement('a');\n    urlObject.href = editorUrl;\n\n    // Change to https if necessary.\n    if (window.location.href.indexOf('https://') === 0) {\n      // It check if browser is https and configuration is http.\n      // If this is so, we will replace protocol.\n      if (urlObject.protocol === 'http:') {\n        urlObject.protocol = 'https:';\n      }\n    }\n\n    // Check protocol and remove port if it's standard.\n    if (urlObject.port === '80' || urlObject.port === '443') {\n      editorUrl = \"\".concat(urlObject.protocol, \"//\").concat(urlObject.hostname, \"/\").concat(urlObject.pathname);\n    } else {\n      editorUrl = \"\".concat(urlObject.protocol, \"//\").concat(urlObject.hostname, \":\").concat(urlObject.port, \"/\").concat(urlObject.pathname);\n    }\n\n    // Editor stats. Use environment property to set it.\n    const stats = {};\n    if ('editor' in this.environment) {\n      stats.editor = this.environment.editor;\n    } else {\n      stats.editor = 'unknown';\n    }\n    if ('mode' in this.environment) {\n      stats.mode = this.environment.mode;\n    } else {\n      stats.mode = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('saveMode');\n    }\n    if ('version' in this.environment) {\n      stats.version = this.environment.version;\n    } else {\n      stats.version = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('version');\n    }\n\n    // Load editor URL. We add stats as GET params.\n    script.src = \"\".concat(editorUrl, \"?lang=\").concat(this.language, \"&stats-editor=\").concat(stats.editor, \"&stats-mode=\").concat(stats.mode, \"&stats-version=\").concat(stats.version);\n    document.getElementsByTagName('head')[0].appendChild(script);\n  }\n\n  /**\r\n  * Sets the {@link ContentManager.editor} initial content.\r\n  */\n  setInitialContent() {\n    if (!this.isNewElement) {\n      this.setMathML(this.mathML);\n    }\n  }\n\n  /**\r\n   * Sets a MathML into {@link ContentManager.editor} instance.\r\n   * @param {String} mathml - MathML string.\r\n   * @param {Boolean} focusDisabled - If true editor don't get focus after the MathML is set.\r\n   * False by default.\r\n   */\n  setMathML(mathml, focusDisabled) {\n    // By default focus is enabled.\n    if (typeof focusDisabled === 'undefined') {\n      focusDisabled = false;\n    }\n    // Using setMathML method is not a change produced by the user but for the API\n    // so we set to false the contentChange property of editorListener.\n    this.editor.setMathMLWithCallback(mathml, () => {\n      this.editorListener.setWaitingForChanges(true);\n    });\n\n    // We need to wait a little until the callback finish.\n    setTimeout(() => {\n      this.editorListener.setIsContentChanged(false);\n    }, 500);\n\n    // In some scenarios - like closing modal object - editor mustn't be focused.\n    if (!focusDisabled) {\n      this.onFocus();\n    }\n  }\n\n  /**\r\n   * Sets the focus to the current instance of {@link ContentManager.editor}. Triggered by\r\n   * {@link ModalDialog.focus}.\r\n   */\n  onFocus() {\n    if (typeof this.editor !== 'undefined' && this.editor != null) {\n      this.editor.focus();\n    }\n  }\n\n  /**\r\n   * Updates the edition area by calling {@link IntegrationModel.updateFormula}.\r\n   * Triggered by {@link ModalDialog.submitAction}.\r\n   */\n  submitAction() {\n    if (!this.editor.isFormulaEmpty()) {\n      let mathML = this.editor.getMathMLWithSemantics();\n      // Add class for custom editors.\n      if (this.customEditors.getActiveEditor() !== null) {\n        const {\n          toolbar\n        } = this.customEditors.getActiveEditor();\n        mathML = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addCustomEditorClassAttribute(mathML, toolbar);\n      } else {\n        // We need - if exists - the editor name from MathML\n        // class attribute.\n        Object.keys(this.customEditors.editors).forEach(key => {\n          mathML = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].removeCustomEditorClassAttribute(mathML, key);\n        });\n      }\n      const mathmlEntitiesEncoded = _mathml__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mathMLEntities(mathML);\n      this.integrationModel.updateFormula(mathmlEntitiesEncoded);\n    } else {\n      this.integrationModel.updateFormula(null);\n    }\n    this.customEditors.disable();\n    this.integrationModel.notifyWindowClosed();\n\n    // Set disabled focus to prevent lost focus.\n    this.setEmptyMathML();\n    this.customEditors.disable();\n  }\n\n  /**\r\n   * Sets an empty MathML as {@link ContentManager.editor} content.\r\n   */\n  setEmptyMathML() {\n    // As second argument we pass.\n    if (this.deviceProperties.isAndroid || this.deviceProperties.isIOS) {\n      // We need to set a empty annotation in order to maintain editor in Hand mode.\n      // Adding dir rtl in case of it's activated.\n      if (this.editor.getEditorModel().isRTL()) {\n        this.setMathML('<math dir=\"rtl\"><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>', true);\n      } else {\n        this.setMathML('<math><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>', true);\n      }\n    } else if (this.editor.getEditorModel().isRTL()) {\n      this.setMathML('<math dir=\"rtl\"/>', true);\n    } else {\n      this.setMathML('<math/>', true);\n    }\n  }\n\n  /**\r\n   * Open event. Triggered by {@link ModalDialog.open}. Does the following:\r\n   * - Updates the {@link ContentManager.editor} content\r\n   *   (with an empty MathML or an existing formula),\r\n   * - Updates the {@link ContentManager.editor} toolbar.\r\n   * - Recovers the the focus.\r\n   */\n  onOpen() {\n    if (this.isNewElement) {\n      this.setEmptyMathML();\n    } else {\n      this.setMathML(this.mathML);\n    }\n    this.updateToolbar();\n    this.onFocus();\n  }\n\n  /**\r\n   * Sets the correct toolbar depending if exist other custom toolbars\r\n   * at the same time (e.g: Chemistry).\r\n   */\n  updateToolbar() {\n    this.updateTitle(this.modalDialogInstance);\n    const customEditor = this.customEditors.getActiveEditor();\n    if (customEditor) {\n      const toolbar = customEditor.toolbar ? customEditor.toolbar : _wrs_int_wirisProperties.toolbar;\n      if (this.toolbar == null || this.toolbar !== toolbar) {\n        this.setToolbar(toolbar);\n      }\n    } else {\n      const toolbar = this.getToolbar();\n      if (this.toolbar == null || this.toolbar !== toolbar) {\n        this.setToolbar(toolbar);\n        this.customEditors.disable();\n      }\n    }\n  }\n\n  /**\r\n   * Updates the current {@link ModalDialog.title}. If a {@link CustomEditors} is enabled\r\n   * sets the custom editor title. Otherwise sets the default title.\r\n   */\n  updateTitle() {\n    const customEditor = this.customEditors.getActiveEditor();\n    if (customEditor) {\n      this.modalDialogInstance.setTitle(customEditor.title);\n    } else {\n      this.modalDialogInstance.setTitle('MathType');\n    }\n  }\n\n  /**\r\n   * Returns the editor toolbar, depending on the configuration local or server side.\r\n   * @returns {String} - Toolbar identifier.\r\n   */\n  getToolbar() {\n    let toolbar = 'general';\n    if ('toolbar' in this.editorAttributes) {\n      ({\n        toolbar\n      } = this.editorAttributes);\n    }\n    // TODO: Change global integration variable for integration custom toolbar.\n    if (toolbar === 'general') {\n      // eslint-disable-next-line camelcase\n      toolbar = typeof _wrs_int_wirisProperties === 'undefined' || typeof _wrs_int_wirisProperties.toolbar === 'undefined' ? 'general' : _wrs_int_wirisProperties.toolbar;\n    }\n    return toolbar;\n  }\n\n  /**\r\n   * Sets the current {@link ContentManager.editor} instance toolbar.\r\n   * @param {String} toolbar - The toolbar name.\r\n   */\n  setToolbar(toolbar) {\n    this.toolbar = toolbar;\n    this.editor.setParams({\n      toolbar: this.toolbar\n    });\n  }\n\n  /**\r\n   * Returns true if the content of the editor has been changed. The logic of the changes\r\n   * is delegated to {@link EditorListener} class.\r\n   * @returns {Boolean} True if the editor content has been changed. False otherwise.\r\n   */\n  hasChanges() {\n    return !this.editor.isFormulaEmpty() && this.editorListener.getIsContentChanged();\n  }\n\n  /**\r\n   * Handle keyboard events detected in modal when elements of this class intervene.\r\n   * @param {KeyboardEvent} keyboardEvent - The keyboard event.\r\n   */\n  onKeyDown(keyboardEvent) {\n    if (keyboardEvent.key !== undefined && keyboardEvent.repeat === false) {\n      if (keyboardEvent.key === 'Escape' || keyboardEvent.key === 'Esc') {\n        // Code to detect Esc event.\n        // There should be only one element with class name 'wrs_pressed' at the same time.\n        let list = document.getElementsByClassName('wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed');\n        if (list.length === 0) {\n          list = document.getElementsByClassName('wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed');\n          if (list.length === 0) {\n            list = document.getElementsByClassName('wrs_select wrs_pressed');\n            if (list.length === 0) {\n              this.modalDialogInstance.cancelAction();\n              keyboardEvent.stopPropagation();\n              keyboardEvent.preventDefault();\n            }\n          }\n        }\n      } else if (keyboardEvent.shiftKey && keyboardEvent.key === 'Tab') {\n        // Code to detect shift Tab event.\n        if (document.activeElement === this.modalDialogInstance.submitButton) {\n          // Focus is on OK button.\n          this.editor.focus();\n          keyboardEvent.stopPropagation();\n          keyboardEvent.preventDefault();\n        } else {\n          const element = document.querySelector('[title=\"Manual\"]');\n          if (document.activeElement === element) {\n            // Focus is on editor help.\n            this.modalDialogInstance.cancelButton.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          }\n        }\n      } else if (keyboardEvent.key === 'Tab') {\n        // Code to detect Tab event.\n        if (document.activeElement === this.modalDialogInstance.cancelButton) {\n          // Focus is on cancel button.\n          const element = document.querySelector('[title=\"Manual\"]');\n          element.focus();\n          keyboardEvent.stopPropagation();\n          keyboardEvent.preventDefault();\n        } else {\n          // There should be only one element with class name 'wrs_formulaDisplay'.\n          const element = document.getElementsByClassName('wrs_formulaDisplay')[0];\n          if (element.getAttribute('class') === 'wrs_formulaDisplay wrs_focused') {\n            // Focus is on formuladisplay.\n            this.modalDialogInstance.submitButton.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          }\n        }\n      }\n    }\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/contentmanager.js?");

/***/ }),

/***/ "./integration-js/src/core.src.js":
/*!****************************************!*\
  !*** ./integration-js/src/core.src.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Core; });\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parser */ \"./integration-js/src/parser.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringmanager */ \"./integration-js/src/stringmanager.js\");\n/* harmony import */ var _contentmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contentmanager */ \"./integration-js/src/contentmanager.js\");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./latex */ \"./integration-js/src/latex.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _customeditors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./customeditors */ \"./integration-js/src/customeditors.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _jsvariables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./jsvariables */ \"./integration-js/src/jsvariables.js\");\n/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./event */ \"./integration-js/src/event.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./image */ \"./integration-js/src/image.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modal */ \"./integration-js/src/modal.js\");\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./polyfills */ \"./integration-js/src/polyfills.js\");\n/* harmony import */ var _styles_styles_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../styles/styles.css */ \"./integration-js/styles/styles.css\");\n/* harmony import */ var _styles_styles_css__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_styles_styles_css__WEBPACK_IMPORTED_MODULE_15__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * @typedef {Object} CoreProperties\r\n * @property {ServiceProviderProperties} serviceProviderProperties\r\n * - The ServiceProvider class properties. *\r\n */\nclass Core {\n  /**\r\n   * @classdesc\r\n   * This class represents MathType integration Core, managing the following:\r\n   * - Integration initialization.\r\n   * - Event managing.\r\n   * - Insertion of formulas into the edit area.\r\n   * ```js\r\n   *       let core = new Core();\r\n   *       core.addListener(listener);\r\n   *       core.language = 'en';\r\n   *\r\n   *       // Initializing Core class.\r\n   *       core.init(configurationService);\r\n   * ```\r\n   * @constructs\r\n   * Core constructor.\r\n   * @param {CoreProperties}\r\n   */\n  constructor(coreProperties) {\n    /**\r\n     * Language. Needed for accessibility and locales. 'en' by default.\r\n     * @type {String}\r\n     */\n    this.language = 'en';\n\n    /**\r\n     * Edit mode, 'images' by default. Admits the following values:\r\n     * - images\r\n     * - latex\r\n     * @type {String}\r\n     */\n    this.editMode = 'images';\n\n    /**\r\n     * Modal dialog instance.\r\n     * @type {ModalDialog}\r\n     */\n    this.modalDialog = null;\n\n    /**\r\n     * The instance of {@link CustomEditors}. By default\r\n     * the only custom editor is the Chemistry editor.\r\n     * @type {CustomEditors}\r\n     */\n    this.customEditors = new _customeditors__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\n    /**\r\n     * Chemistry editor.\r\n     * @type {CustomEditor}\r\n     */\n    const chemEditorParams = {\n      name: 'Chemistry',\n      toolbar: 'chemistry',\n      icon: 'chem.png',\n      confVariable: 'chemEnabled',\n      title: 'ChemType',\n      tooltip: 'Insert a chemistry formula - ChemType' // TODO: Localize tooltip.\n    };\n    this.customEditors.addEditor('chemistry', chemEditorParams);\n\n    /**\r\n     * Environment properties. This object contains data about the integration platform.\r\n     * @typedef IntegrationEnvironment\r\n     * @property {String} IntegrationEnvironment.editor - Editor name. For example the HTML editor.\r\n     * @property {String} IntegrationEnvironment.mode - Integration save mode.\r\n     * @property {String} IntegrationEnvironment.version - Integration version.\r\n     *\r\n     */\n\n    /**\r\n     * The environment properties object.\r\n     * @type {IntegrationEnvironment}\r\n     */\n    this.environment = {};\n\n    /**\r\n     * @typedef EditionProperties\r\n     * @property {Boolean} editionProperties.isNewElement - True if the formula is a new one.\r\n     * False otherwise.\r\n     * @property {HTMLImageElement} editionProperties.temporalImage- The image element.\r\n     * Null if the formula is new.\r\n     * @property {Range} editionProperties.latexRange - Tha range that contains the LaTeX formula.\r\n     * @property {Range} editionProperties.range - The range that contains the image element.\r\n     * @property {String} editionProperties.editMode - The edition mode. 'images' by default.\r\n     */\n\n    /**\r\n     * The properties of the current edition process.\r\n     * @type {EditionProperties}\r\n     */\n    this.editionProperties = {};\n    this.editionProperties.isNewElement = true;\n    this.editionProperties.temporalImage = null;\n    this.editionProperties.latexRange = null;\n    this.editionProperties.range = null;\n\n    /**\r\n     * The {@link IntegrationModel} instance.\r\n     * @type {IntegrationModel}\r\n     */\n    this.integrationModel = null;\n\n    /**\r\n     * The {@link ContentManager} instance.\r\n     * @type {ContentManager}\r\n     */\n    this.contentManager = null;\n\n    /**\r\n     * The current browser.\r\n     * @type {String}\r\n     */\n    this.browser = (() => {\n      const ua = navigator.userAgent;\n      let browser = 'none';\n      if (ua.search('Edge/') >= 0) {\n        browser = 'EDGE';\n      } else if (ua.search('Chrome/') >= 0) {\n        browser = 'CHROME';\n      } else if (ua.search('Trident/') >= 0) {\n        browser = 'IE';\n      } else if (ua.search('Firefox/') >= 0) {\n        browser = 'FIREFOX';\n      } else if (ua.search('Safari/') >= 0) {\n        browser = 'SAFARI';\n      }\n      return browser;\n    })();\n\n    /**\r\n     * Plugin listeners.\r\n     * @type {Array.<Object>}\r\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n\n    /**\r\n     * Service provider properties.\r\n     * @type {ServiceProviderProperties}\r\n     */\n    this.serviceProviderProperties = {};\n    if ('serviceProviderProperties' in coreProperties) {\n      this.serviceProviderProperties = coreProperties.serviceProviderProperties;\n    } else {\n      throw new Error('serviceProviderProperties property missing.');\n    }\n  }\n\n  /**\r\n   * Static property.\r\n   * Core listeners.\r\n   * @private\r\n   * @type {Listeners}\r\n   */\n  static get globalListeners() {\n    return Core._globalListeners;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set core listeners.\r\n   * @param {Listeners} value - The property value.\r\n   * @ignore\r\n   */\n  static set globalListeners(value) {\n    Core._globalListeners = value;\n  }\n\n  /**\r\n   * Core state. Says if it was loaded previously.\r\n   * True when Core.init was called. Otherwise, false.\r\n   * @private\r\n   * @type {Boolean}\r\n   */\n  static get initialized() {\n    return Core._initialized;\n  }\n\n  /**\r\n   * Core state. Says if it was loaded previously.\r\n   * @param {Boolean} value - True to say that Core.init was called. Otherwise, false.\r\n   * @ignore\r\n   */\n  static set initialized(value) {\n    Core._initialized = value;\n  }\n\n  /**\r\n   * Sets the {@link Core.integrationModel} property.\r\n   * @param {IntegrationModel} integrationModel - The {@link IntegrationModel} property.\r\n   */\n  setIntegrationModel(integrationModel) {\n    this.integrationModel = integrationModel;\n  }\n\n  /**\r\n   * Sets the {@link Core.environment} property.\r\n   * @param {IntegrationEnvironment} integrationEnvironment -\r\n   * The {@link IntegrationEnvironment} object.\r\n   */\n  setEnvironment(integrationEnvironment) {\n    if ('editor' in integrationEnvironment) {\n      this.environment.editor = integrationEnvironment.editor;\n    }\n    if ('mode' in integrationEnvironment) {\n      this.environment.mode = integrationEnvironment.mode;\n    }\n    if ('version' in integrationEnvironment) {\n      this.environment.version = integrationEnvironment.version;\n    }\n  }\n\n  /**\r\n   * Returns the current {@link ModalDialog} instance.\r\n   * @returns {ModalDialog} The current {@link ModalDialog} instance.\r\n   */\n  getModalDialog() {\n    return this.modalDialog;\n  }\n\n  /**\r\n   * Inits the {@link Core} class, doing the following:\r\n   * - Calls asynchronously configuration service, retrieving the backend configuration in a JSON.\r\n   * - Updates {@link Configuration} class with the previous configuration properties.\r\n   * - Updates the {@link ServiceProvider} class using the configuration service path as reference.\r\n   * - Loads language strings.\r\n   * - Fires onLoad event.\r\n   * @param {Object} serviceParameters - Service parameters.\r\n   */\n  init() {\n    if (!Core.initialized) {\n      const serviceProviderListener = _listeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"].newListener('onInit', () => {\n        const jsConfiguration = _serviceprovider__WEBPACK_IMPORTED_MODULE_12__[\"default\"].getService('configurationjs', '', 'get');\n        const jsonConfiguration = JSON.parse(jsConfiguration);\n        _configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].addConfiguration(jsonConfiguration);\n        // Adding JavaScript (not backend) configuration variables.\n        _configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].addConfiguration(_jsvariables__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\n        // Fire 'onLoad' event:\n        // All integration must listen this event in order to know if the plugin\n        // has been properly loaded.\n        _stringmanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].language = this.language;\n        this.listeners.fire('onLoad', {});\n      });\n      _serviceprovider__WEBPACK_IMPORTED_MODULE_12__[\"default\"].addListener(serviceProviderListener);\n      _serviceprovider__WEBPACK_IMPORTED_MODULE_12__[\"default\"].init(this.serviceProviderProperties);\n      Core.initialized = true;\n    } else {\n      // Case when there are more than two editor instances.\n      // After the first editor all the other editors don't need to load any file or service.\n      this.listeners.fire('onLoad', {});\n    }\n  }\n\n  /**\r\n   * Adds a {@link Listener} to the current instance of the {@link Core} class.\r\n   * @param {Listener} listener - The listener object.\r\n   */\n  addListener(listener) {\n    this.listeners.add(listener);\n  }\n\n  /**\r\n   * Adds the global {@link Listener} instance to {@link Core} class.\r\n   * @param {Listener} listener - The event listener to be added.\r\n   * @static\r\n   */\n  static addGlobalListener(listener) {\n    Core.globalListeners.add(listener);\n  }\n  beforeUpdateFormula(mathml, wirisProperties) {\n    /**\r\n     * This event is fired before updating the formula.\r\n     * @type {Object}\r\n     * @property {String} mathml - MathML to be transformed.\r\n     * @property {String} editMode - Edit mode.\r\n     * @property {Object} wirisProperties - Extra attributes for the formula.\r\n     * @property {String} language - Formula language.\r\n     */\n    const beforeUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n    beforeUpdateEvent.mathml = mathml;\n\n    // Cloning wirisProperties object\n    // We don't want wirisProperties object modified.\n    beforeUpdateEvent.wirisProperties = {};\n    if (wirisProperties != null) {\n      Object.keys(wirisProperties).forEach(attr => {\n        beforeUpdateEvent.wirisProperties[attr] = wirisProperties[attr];\n      });\n    }\n\n    // Read only.\n    beforeUpdateEvent.language = this.language;\n    beforeUpdateEvent.editMode = this.editMode;\n    if (this.listeners.fire('onBeforeFormulaInsertion', beforeUpdateEvent)) {\n      return {};\n    }\n    if (Core.globalListeners.fire('onBeforeFormulaInsertion', beforeUpdateEvent)) {\n      return {};\n    }\n    return {\n      mathml: beforeUpdateEvent.mathml,\n      wirisProperties: beforeUpdateEvent.wirisProperties\n    };\n  }\n\n  /**\r\n   * Converts a MathML into it's correspondent image and inserts the image is\r\n   * inserted in a HTMLElement target by creating\r\n   * a new image or updating an existing one.\r\n   * @param {HTMLElement} focusElement - The HTMLElement to be focused after the insertion.\r\n   * @param {Window} windowTarget - The window element where the editable content is.\r\n   * @param {String} mathml - The MathML.\r\n   * @param {Array.<Object>} wirisProperties - The extra attributes for the formula.\r\n   * @returns {ReturnObject} - Object with the information of the node or latex to insert.\r\n   */\n  insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\n    /**\r\n     * It is the object with the information of the node or latex to insert.\r\n     * @typedef ReturnObject\r\n     * @property {Node} [node] - The DOM node to insert.\r\n     * @property {String} [latex] - The latex to insert.\r\n     */\n    const returnObject = {};\n    if (!mathml) {\n      this.insertElementOnSelection(null, focusElement, windowTarget);\n    } else if (this.editMode === 'latex') {\n      returnObject.latex = _latex__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getLatexFromMathML(mathml);\n      // this.integrationModel.getNonLatexNode is an integration wrapper\n      // to have special behaviours for nonLatex.\n      // Not all the integrations have special behaviours for nonLatex.\n      if (!!this.integrationModel.fillNonLatexNode && !returnObject.latex) {\n        const afterUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n        afterUpdateEvent.editMode = this.editMode;\n        afterUpdateEvent.windowTarget = windowTarget;\n        afterUpdateEvent.focusElement = focusElement;\n        afterUpdateEvent.latex = returnObject.latex;\n        this.integrationModel.fillNonLatexNode(afterUpdateEvent, windowTarget, mathml);\n      } else {\n        returnObject.node = windowTarget.document.createTextNode(\"$$\".concat(returnObject.latex, \"$$\"));\n      }\n      this.insertElementOnSelection(returnObject.node, focusElement, windowTarget);\n    } else {\n      returnObject.node = _parser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mathmlToImgObject(windowTarget.document, mathml, wirisProperties, this.language);\n      this.insertElementOnSelection(returnObject.node, focusElement, windowTarget);\n    }\n    return returnObject;\n  }\n  afterUpdateFormula(focusElement, windowTarget, node, latex) {\n    /**\r\n     * This event is fired after update the formula.\r\n     * @type {Event}\r\n     * @param {String} editMode - edit mode.\r\n     * @param {Object} windowTarget - target window.\r\n     * @param {Object} focusElement - target element to be focused after update.\r\n     * @param {String} latex - LaTeX generated by the formula (editMode=latex).\r\n     * @param {Object} node - node generated after update the formula (text if LaTeX img otherwise).\r\n     */\n    const afterUpdateEvent = new _event__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n    afterUpdateEvent.editMode = this.editMode;\n    afterUpdateEvent.windowTarget = windowTarget;\n    afterUpdateEvent.focusElement = focusElement;\n    afterUpdateEvent.node = node;\n    afterUpdateEvent.latex = latex;\n    if (this.listeners.fire('onAfterFormulaInsertion', afterUpdateEvent)) {\n      return {};\n    }\n    if (Core.globalListeners.fire('onAfterFormulaInsertion', afterUpdateEvent)) {\n      return {};\n    }\n    return {};\n  }\n\n  /**\r\n   * Sets the caret after a given Node and set the focus to the owner document.\r\n   * @param {Node} node - The Node element.\r\n   */\n  placeCaretAfterNode(node) {\n    this.integrationModel.getSelection();\n    const nodeDocument = node.ownerDocument;\n    if (typeof nodeDocument.getSelection !== 'undefined' && !!node.parentElement) {\n      const range = nodeDocument.createRange();\n      range.setStartAfter(node);\n      range.collapse(true);\n      const selection = nodeDocument.getSelection();\n      selection.removeAllRanges();\n      selection.addRange(range);\n      nodeDocument.body.focus();\n    }\n  }\n\n  /**\r\n   * Replaces a Selection object with an HTMLElement.\r\n   * @param {HTMLElement} element - The HTMLElement to replace the selection.\r\n   * @param {HTMLElement} focusElement - The HTMLElement to be focused after the replace.\r\n   * @param {Window} windowTarget - The window target.\r\n   */\n  insertElementOnSelection(element, focusElement, windowTarget) {\n    if (this.editionProperties.isNewElement) {\n      if (element) {\n        if (focusElement.type === 'textarea') {\n          _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateTextArea(focusElement, element.textContent);\n        } else if (document.selection && document.getSelection === 0) {\n          let range = windowTarget.document.selection.createRange();\n          windowTarget.document.execCommand('InsertImage', false, element.src);\n          if (!('parentElement' in range)) {\n            windowTarget.document.execCommand('delete', false);\n            range = windowTarget.document.selection.createRange();\n            windowTarget.document.execCommand('InsertImage', false, element.src);\n          }\n          if ('parentElement' in range) {\n            const temporalObject = range.parentElement();\n            if (temporalObject.nodeName.toUpperCase() === 'IMG') {\n              temporalObject.parentNode.replaceChild(element, temporalObject);\n            } else {\n              // IE9 fix: parentNode() does not return the IMG node,\n              // returns the parent DIV node. In IE < 9, pasteHTML does not work well.\n              range.pasteHTML(_util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createObjectCode(element));\n            }\n          }\n        } else {\n          const editorSelection = this.integrationModel.getSelection();\n          let range = null;\n          // In IE is needed keep the range due to after focus the modal window\n          // it can't be retrieved the last selection.\n          if (this.editionProperties.range) {\n            ({\n              range\n            } = this.editionProperties);\n            this.editionProperties.range = null;\n          } else {\n            range = editorSelection.getRangeAt(0);\n          }\n\n          // Delete if something was surrounded.\n          range.deleteContents();\n          let node = range.startContainer;\n          const position = range.startOffset;\n          if (node.nodeType === 3) {\n            // TEXT_NODE.\n            node = node.splitText(position);\n            node.parentNode.insertBefore(element, node);\n          } else if (node.nodeType === 1) {\n            // ELEMENT_NODE.\n            node.insertBefore(element, node.childNodes[position]);\n          }\n          this.placeCaretAfterNode(element);\n        }\n      } else if (focusElement.type === 'textarea') {\n        focusElement.focus();\n      } else {\n        const editorSelection = this.integrationModel.getSelection();\n        editorSelection.removeAllRanges();\n        if (this.editionProperties.range) {\n          const {\n            range\n          } = this.editionProperties;\n          this.editionProperties.range = null;\n          editorSelection.addRange(range);\n        }\n      }\n    } else if (this.editionProperties.latexRange) {\n      if (document.selection && document.getSelection === 0) {\n        this.editionProperties.isNewElement = true;\n        this.editionProperties.latexRange.select();\n        this.insertElementOnSelection(element, focusElement, windowTarget);\n      } else {\n        this.editionProperties.latexRange.deleteContents();\n        this.editionProperties.latexRange.insertNode(element);\n        this.placeCaretAfterNode(element);\n      }\n    } else if (focusElement.type === 'textarea') {\n      let item;\n      // Wrapper for some integrations that can have special behaviours to show latex.\n      if (typeof this.integrationModel.getSelectedItem !== 'undefined') {\n        item = this.integrationModel.getSelectedItem(focusElement, false);\n      } else {\n        item = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getSelectedItemOnTextarea(focusElement);\n      }\n      _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateExistingTextOnTextarea(focusElement, element.textContent, item.startPosition, item.endPosition);\n    } else {\n      if (element && element.nodeName.toLowerCase() === 'img') {\n        // Editor empty, formula has been erased on edit.\n        // There are editors (e.g: CKEditor) that put attributes in images.\n        // We don't allow that behaviour in our images.\n        _image__WEBPACK_IMPORTED_MODULE_11__[\"default\"].removeImgDataAttributes(this.editionProperties.temporalImage);\n        // Clone is needed to maintain event references to temporalImage.\n        _image__WEBPACK_IMPORTED_MODULE_11__[\"default\"].clone(element, this.editionProperties.temporalImage);\n      } else {\n        this.editionProperties.temporalImage.remove();\n      }\n      this.placeCaretAfterNode(this.editionProperties.temporalImage);\n    }\n  }\n\n  /**\r\n   * Opens a modal dialog containing MathType editor..\r\n   * @param {HTMLElement} target - The target HTMLElement where formulas should be inserted.\r\n   * @param {Boolean} isIframe - True if the target HTMLElement is an iframe. False otherwise.\r\n   */\n  openModalDialog(target, isIframe) {\n    // Textarea elements don't have normal document ranges. It only accepts latex edit.\n    this.editMode = 'images';\n\n    // In IE is needed keep the range due to after focus the modal window\n    // it can't be retrieved the last selection.\n    try {\n      if (isIframe) {\n        // Is needed focus the target first.\n        target.contentWindow.focus();\n        const selection = target.contentWindow.getSelection();\n        this.editionProperties.range = selection.getRangeAt(0);\n      } else {\n        // Is needed focus the target first.\n        target.focus();\n        const selection = getSelection();\n        this.editionProperties.range = selection.getRangeAt(0);\n      }\n    } catch (e) {\n      this.editionProperties.range = null;\n    }\n    if (isIframe === undefined) {\n      isIframe = true;\n    }\n    this.editionProperties.latexRange = null;\n    if (target) {\n      let selectedItem;\n      if (typeof this.integrationModel.getSelectedItem !== 'undefined') {\n        selectedItem = this.integrationModel.getSelectedItem(target, isIframe);\n      } else {\n        selectedItem = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getSelectedItem(target, isIframe);\n      }\n\n      // Check LaTeX if and only if the node is a text node (nodeType==3).\n      if (selectedItem) {\n        // Case when image was selected and button pressed.\n        if (!selectedItem.caretPosition && _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].containsClass(selectedItem.node, _configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('imageClassName'))) {\n          this.editionProperties.temporalImage = selectedItem.node;\n          this.editionProperties.isNewElement = false;\n        } else if (selectedItem.node.nodeType === 3) {\n          // If it's a text node means that editor is working with LaTeX.\n          if (this.integrationModel.getMathmlFromTextNode) {\n            // If integration has this function it isn't set range due to we don't\n            // know if it will be put into a textarea as a text or image.\n            const mathml = this.integrationModel.getMathmlFromTextNode(selectedItem.node, selectedItem.caretPosition);\n            if (mathml) {\n              this.editMode = 'latex';\n              this.editionProperties.isNewElement = false;\n              this.editionProperties.temporalImage = document.createElement('img');\n              this.editionProperties.temporalImage.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_5__[\"default\"].safeXmlEncode(mathml));\n            }\n          } else {\n            const latexResult = _latex__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getLatexFromTextNode(selectedItem.node, selectedItem.caretPosition);\n            if (latexResult) {\n              const mathml = _latex__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getMathMLFromLatex(latexResult.latex);\n              this.editMode = 'latex';\n              this.editionProperties.isNewElement = false;\n              this.editionProperties.temporalImage = document.createElement('img');\n              this.editionProperties.temporalImage.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_5__[\"default\"].safeXmlEncode(mathml));\n              const windowTarget = isIframe ? target.contentWindow : window;\n              if (target.tagName.toLowerCase() !== 'textarea') {\n                if (document.selection) {\n                  let leftOffset = 0;\n                  let previousNode = latexResult.startNode.previousSibling;\n                  while (previousNode) {\n                    leftOffset += _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getNodeLength(previousNode);\n                    previousNode = previousNode.previousSibling;\n                  }\n                  this.editionProperties.latexRange = windowTarget.document.selection.createRange();\n                  this.editionProperties.latexRange.moveToElementText(latexResult.startNode.parentNode);\n                  this.editionProperties.latexRange.move('character', leftOffset + latexResult.startPosition);\n                  this.editionProperties.latexRange.moveEnd('character', latexResult.latex.length + 4); // Plus 4 for the '$$' characters.\n                } else {\n                  this.editionProperties.latexRange = windowTarget.document.createRange();\n                  this.editionProperties.latexRange.setStart(latexResult.startNode, latexResult.startPosition);\n                  this.editionProperties.latexRange.setEnd(latexResult.endNode, latexResult.endPosition);\n                }\n              }\n            }\n          }\n        }\n      } else if (target.tagName.toLowerCase() === 'textarea') {\n        // By default editMode is 'images', but when target is a textarea it needs to be 'latex'.\n        this.editMode = 'latex';\n      }\n    }\n\n    // Setting an object with the editor parameters.\n    // Editor parameters can be customized in several ways:\n    // 1 - editorAttributes: Contains the default editor attributes,\n    //  usually the metrics in a comma separated string. Always exists.\n    // 2 - editorParameters: Object containing custom editor parameters.\n    // These parameters are defined in the backend. So they affects all integration instances.\n\n    // The backend send the default editor attributes in a coma separated\n    // with the following structure: key1=value1,key2=value2...\n    const defaultEditorAttributesArray = _configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('editorAttributes').split(', ');\n    const defaultEditorAttributes = {};\n    for (let i = 0, len = defaultEditorAttributesArray.length; i < len; i += 1) {\n      const tempAttribute = defaultEditorAttributesArray[i].split('=');\n      const key = tempAttribute[0];\n      const value = tempAttribute[1];\n      defaultEditorAttributes[key] = value;\n    }\n    // Custom editor parameters.\n    const editorAttributes = {};\n    // Editor parameters in backend, usually configuration.ini.\n    const serverEditorParameters = _configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('editorParameters');\n    // Editor parameters through JavaScript configuration.\n    const cliendEditorParameters = this.integrationModel.editorParameters;\n    Object.assign(editorAttributes, defaultEditorAttributes, serverEditorParameters);\n    Object.assign(editorAttributes, defaultEditorAttributes, cliendEditorParameters);\n    editorAttributes.language = this.language;\n    editorAttributes.rtl = this.integrationModel.rtl;\n    const contentManagerAttributes = {};\n    contentManagerAttributes.editorAttributes = editorAttributes;\n    contentManagerAttributes.language = this.language;\n    contentManagerAttributes.customEditors = this.customEditors;\n    contentManagerAttributes.environment = this.environment;\n    if (this.modalDialog == null) {\n      this.modalDialog = new _modal__WEBPACK_IMPORTED_MODULE_13__[\"default\"](editorAttributes);\n      this.contentManager = new _contentmanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"](contentManagerAttributes);\n      // When an instance of ContentManager is created we need to wait until\n      // the ContentManager is ready by listening 'onLoad' event.\n      const listener = _listeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"].newListener('onLoad', () => {\n        this.contentManager.isNewElement = this.editionProperties.isNewElement;\n        if (this.editionProperties.temporalImage != null) {\n          const mathML = _mathml__WEBPACK_IMPORTED_MODULE_5__[\"default\"].safeXmlDecode(this.editionProperties.temporalImage.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('imageMathmlAttribute')));\n          this.contentManager.mathML = mathML;\n        }\n      });\n      this.contentManager.addListener(listener);\n      this.contentManager.init();\n      this.modalDialog.setContentManager(this.contentManager);\n      this.contentManager.setModalDialogInstance(this.modalDialog);\n    } else {\n      this.contentManager.isNewElement = this.editionProperties.isNewElement;\n      if (this.editionProperties.temporalImage != null) {\n        const mathML = _mathml__WEBPACK_IMPORTED_MODULE_5__[\"default\"].safeXmlDecode(this.editionProperties.temporalImage.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get('imageMathmlAttribute')));\n        this.contentManager.mathML = mathML;\n      }\n    }\n    this.contentManager.setIntegrationModel(this.integrationModel);\n    this.modalDialog.open();\n  }\n\n  /**\r\n   * Returns the {@link CustomEditors} instance.\r\n   * @return {CustomEditors} The current {@link CustomEditors} instance.\r\n   */\n  getCustomEditors() {\n    return this.customEditors;\n  }\n}\n\n/**\r\n * Core static listeners.\r\n * @type {Listeners}\r\n * @private\r\n */\nCore._globalListeners = new _listeners__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n\n/**\r\n * Resources state. Says if they were loaded or not.\r\n * @type {Boolean}\r\n * @private\r\n */\nCore._initialized = false;\n\n//# sourceURL=webpack:///./integration-js/src/core.src.js?");

/***/ }),

/***/ "./integration-js/src/customeditors.js":
/*!*********************************************!*\
  !*** ./integration-js/src/customeditors.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CustomEditors; });\n/**\r\n * A custom editor is MathType editor with a different\r\n * @typedef {Object} CustomEditor\r\n * @property {String} CustomEditor.name - Custom editor name.\r\n * @property {String} CustomEditor.toolbar - Custom editor toolbar.\r\n * @property {String} CustomEditor.icon - Custom editor icon.\r\n * @property {String} CustomEditor.confVariable - Configuration property to manage\r\n * the availability of the custom editor.\r\n * @property {String} CustomEditor.title - Custom editor modal dialog title.\r\n * @property {String} CustomEditor.tooltip - Custom editor icon tooltip.\r\n */\n\nclass CustomEditors {\n  /**\r\n   * @classdesc\r\n   * This class represents the MathType custom editors manager.\r\n   * A custom editor is MathType editor with a custom  toolbar.\r\n   * This class associates a {@link CustomEditor} to:\r\n   * - It's own formulas\r\n   * - A custom toolbar\r\n   * - An icon to open it from a HTML editor.\r\n   * - A tooltip for the icon.\r\n   * - A global variable to enable or disable it globally.\r\n   * @constructs\r\n   */\n  constructor() {\n    /**\r\n     * The custom editors.\r\n     * @type {Array.<CustomEditor>}\r\n     */\n\n    this.editors = [];\n    /**\r\n     * The active editor name.\r\n     * @type {String}\r\n     */\n    this.activeEditor = 'default';\n  }\n\n  /**\r\n   * Adds a {@link CustomEditor} to editors array.\r\n   * @param {String} editorName - The editor name.\r\n   * @param {CustomEditor} editorParams - The custom editor parameters.\r\n   */\n  addEditor(editorName, editorParams) {\n    const customEditor = {};\n    customEditor.name = editorParams.name;\n    customEditor.toolbar = editorParams.toolbar;\n    customEditor.icon = editorParams.icon;\n    customEditor.confVariable = editorParams.confVariable;\n    customEditor.title = editorParams.title;\n    customEditor.tooltip = editorParams.tooltip;\n    this.editors[editorName] = customEditor;\n  }\n\n  /**\r\n   * Enables a {@link CustomEditor}.\r\n   * @param {String} customEditorName - The custom editor name.\r\n   */\n  enable(customEditorName) {\n    this.activeEditor = customEditorName;\n  }\n\n  /**\r\n   * Disables a {@link CustomEditor}.\r\n   */\n  disable() {\n    this.activeEditor = 'default';\n  }\n\n  /**\r\n   * Returns the active editor.\r\n   * @return {CustomEditor} - A {@link CustomEditor} if a custom editor is enabled. Null otherwise.\r\n   */\n  getActiveEditor() {\n    if (this.activeEditor !== 'default') {\n      return this.editors[this.activeEditor];\n    }\n    return null;\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/customeditors.js?");

/***/ }),

/***/ "./integration-js/src/editorlistener.js":
/*!**********************************************!*\
  !*** ./integration-js/src/editorlistener.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EditorListener; });\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-extra-semi */\n\n// The rules above are disabled because we are implementing\n// an external interface.\n\nclass EditorListener {\n  /**\r\n   * @classdesc\r\n   * Determines if the content of the\r\n   * MathType Editor has changes.\r\n   * @implements {EditorListeners}\r\n   * @constructs\r\n   */\n  constructor() {\n    /**\r\n     * Indicates if the content of the editor has changed.\r\n     * @type {Boolean}\r\n     */\n    this.isContentChanged = false;\n\n    /**\r\n     * Indicates if the listener should be waiting for changes in the editor.\r\n     * @type {Boolean}\r\n     */\n    this.waitingForChanges = false;\n  }\n\n  /**\r\n   * Sets {@link EditorListener.isContentChanged} property.\r\n   * @param {Boolean} value - The new vlue.\r\n   */\n  setIsContentChanged(value) {\n    this.isContentChanged = value;\n  }\n\n  /**\r\n   * Returns true if the content of the editor has been changed, false otherwise.\r\n   * @return {Boolean}\r\n   */\n  getIsContentChanged() {\n    return this.isContentChanged;\n  }\n  /**\r\n   * Determines if the EditorListener should wait for any changes.\r\n   * @param {Boolean} value - True if the editor should wait for changes, false otherwise.\r\n   */\n  setWaitingForChanges(value) {\n    this.waitingForChanges = value;\n  }\n\n  /**\r\n   * EditorListener method to overwrite.\r\n   * @type {JsEditor}\r\n   * @ignore\r\n   */\n  caretPositionChanged(_editor) {}\n  /**\r\n   * EditorListener method to overwrite\r\n   * @type {JsEditor}\r\n   * @ignore\r\n   */\n  clipboardChanged(_editor) {}\n  /**\r\n   * Determines if the content of an editor has been changed.\r\n   * @param {JsEditor} editor - editor object.\r\n   */\n  contentChanged(_editor) {\n    if (this.waitingForChanges === true && this.isContentChanged === false) {\n      this.isContentChanged = true;\n    }\n  }\n\n  /**\r\n   * EditorListener method to overwrite\r\n   * @param {JsEditor} editor - The editor instance.\r\n   */\n  styleChanged(_editor) {}\n\n  /**\r\n   * EditorListener method to overwrite\r\n   * @param {JsEditor} - The editor instance.\r\n   */\n  transformationReceived(_editor) {}\n}\n\n//# sourceURL=webpack:///./integration-js/src/editorlistener.js?");

/***/ }),

/***/ "./integration-js/src/event.js":
/*!*************************************!*\
  !*** ./integration-js/src/event.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Event; });\nclass Event {\n  /**\r\n   * @classdesc\r\n   * This class represents a custom event. Events should be fired by the {@link Listener} class.\r\n   *\r\n   * ```js\r\n   *  let customEvent = new Event();\r\n   *  customEvent.properties = {};\r\n   *\r\n   *  let listeners = new Listeners();\r\n   *  listeners.newListener(eventName, callback);\r\n   *\r\n   *  listeners.fire(eventName, customEvent) *\r\n   * ```\r\n   * @constructs\r\n   */\n  constructor() {\n    /**\r\n     * Indicates if the event should be cancelled.\r\n     * @type {Boolean}\r\n     */\n\n    this.cancelled = false;\n    /**\r\n     * Indicates if the event should be prevented.\r\n     * @type {Boolean}\r\n     */\n    this.defaultPrevented = false;\n  }\n\n  /**\r\n   * Cancels the event.\r\n   */\n  cancel() {\n    this.cancelled = true;\n  }\n\n  /**\r\n   * Prevents the default action.\r\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/event.js?");

/***/ }),

/***/ "./integration-js/src/image.js":
/*!*************************************!*\
  !*** ./integration-js/src/image.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Image; });\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n\n\n\n/**\r\n * @classdesc\r\n * This class represents MathType Image class. Contains all the logic related\r\n * to MathType images manipulation.\r\n * All MathType images are generated using the appropriate MathType\r\n * integration service: showimage or createimage.\r\n *\r\n * There are two available image formats:\r\n * - svg (default)\r\n * - png\r\n *\r\n * There are two formats for the image src attribute:\r\n * - A data-uri scheme containing the URL-encoded SVG or a PNG's base64.\r\n * - A link to the showimage service.\r\n */\nclass Image {\n  /**\r\n   * Removes data attributes from an image.\r\n   * @param {HTMLImageElement} img - Image where remove data attributes.\r\n   */\n  static removeImgDataAttributes(img) {\n    const attributesToRemove = [];\n    const {\n      attributes\n    } = img;\n    Object.keys(attributes).forEach(key => {\n      const attribute = attributes[key];\n      if (attribute.name.indexOf('data-') === 0) {\n        // Is preferred keep an array and remove after the search\n        // because when attribute is removed the array of attributes\n        // is modified.\n        attributesToRemove.push(attribute.name);\n      }\n    });\n    attributesToRemove.forEach(attribute => {\n      img.removeAttribute(attribute);\n    });\n  }\n\n  /**\r\n   * @static\r\n   * Clones all MathType image attributes from a HTMLImageElement to another.\r\n   * @param {HTMLImageElement} originImg - The original image.\r\n   * @param {HTMLImageElement} destImg - The destination image.\r\n   */\n  static clone(originImg, destImg) {\n    const customEditorAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('imageCustomEditorName');\n    if (!originImg.hasAttribute(customEditorAttributeName)) {\n      destImg.removeAttribute(customEditorAttributeName);\n    }\n    const mathmlAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('imageMathmlAttribute');\n    const imgAttributes = [mathmlAttributeName, customEditorAttributeName, 'alt', 'height', 'width', 'style', 'src', 'role'];\n    imgAttributes.forEach(iterator => {\n      const originAttribute = originImg.getAttribute(iterator);\n      if (originAttribute) {\n        destImg.setAttribute(iterator, originAttribute);\n      }\n    });\n  }\n\n  /**\r\n  * Calculates the metrics of a MathType image given the the service response and the image format.\r\n  * @param {HTMLImageElement} img - The HTMLImageElement.\r\n  * @param {String} uri - The URI generated by the image service: can be a data URI scheme or a URL.\r\n  * @param {Boolean} jsonResponse - True the response of the image service is a\r\n  * JSON object. False otherwise.\r\n  */\n  static setImgSize(img, uri, jsonResponse) {\n    let ar;\n    let base64String;\n    let bytes;\n    let svgString;\n    if (jsonResponse) {\n      // Cleaning data:image/png;base64.\n      if (_configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('imageFormat') === 'svg') {\n        // SVG format.\n        // If SVG is encoded in base64 we need to convert the base64 bytes into a SVG string.\n        if (_configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('saveMode') !== 'base64') {\n          ar = Image.getMetricsFromSvgString(uri);\n        } else {\n          base64String = img.src.substr(img.src.indexOf('base64,') + 7, img.src.length);\n          svgString = '';\n          bytes = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].b64ToByteArray(base64String, base64String.length);\n          for (let i = 0; i < bytes.length; i += 1) {\n            svgString += String.fromCharCode(bytes[i]);\n          }\n          ar = Image.getMetricsFromSvgString(svgString);\n        }\n        // PNG format: we store all metrics information in the first 88 bytes.\n      } else {\n        base64String = img.src.substr(img.src.indexOf('base64,') + 7, img.src.length);\n        bytes = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].b64ToByteArray(base64String, 88);\n        ar = Image.getMetricsFromBytes(bytes);\n      }\n      // Backwards compatibility: we store the metrics into createimage response.\n    } else {\n      ar = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].urlToAssArray(uri);\n    }\n    let width = ar.cw;\n    if (!width) {\n      return;\n    }\n    let height = ar.ch;\n    let baseline = ar.cb;\n    const {\n      dpi\n    } = ar;\n    if (dpi) {\n      width = width * 96 / dpi;\n      height = height * 96 / dpi;\n      baseline = baseline * 96 / dpi;\n    }\n    img.width = width;\n    img.height = height;\n    img.style.verticalAlign = \"-\".concat(height - baseline, \"px\");\n  }\n\n  /**\r\n   * Calculates the metrics of an image which has been resized. Is used to restore the original\r\n   * metrics of a resized image.\r\n   * @param {HTMLImageElement } img - The resized HTMLImageElement.\r\n   */\n  static fixAfterResize(img) {\n    img.removeAttribute('style');\n    img.removeAttribute('width');\n    img.removeAttribute('height');\n    // In order to avoid resize with max-width css property.\n    img.style.maxWidth = 'none';\n    if (img.src.indexOf('data:image') !== -1) {\n      if (_configuration__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('imageFormat') === 'svg') {\n        // ...data:image/svg+xml;charset=utf8, = 32.\n        const svg = decodeURIComponent(img.src.substring(32, img.src.length));\n        Image.setImgSize(img, svg, true);\n      } else {\n        // ...data:image/png;base64, == 22.\n        const base64 = img.src.substring(22, img.src.length);\n        Image.setImgSize(img, base64, true);\n      }\n    } else {\n      Image.setImgSize(img, img.src);\n    }\n  }\n\n  /**\r\n   * Returns the metrics (height, width and baseline) contained in a SVG image generated\r\n   * by the MathType image service. This image contains as an extra custom attribute:\r\n   * the baseline (wrs:baseline).\r\n   * @param {String} svgString - The SVG image.\r\n   * @return {Array} - The image metrics.\r\n   */\n  static getMetricsFromSvgString(svgString) {\n    let first = svgString.indexOf('height=\"');\n    let last = svgString.indexOf('\"', first + 8, svgString.length);\n    const height = svgString.substring(first + 8, last);\n    first = svgString.indexOf('width=\"');\n    last = svgString.indexOf('\"', first + 7, svgString.length);\n    const width = svgString.substring(first + 7, last);\n    first = svgString.indexOf('wrs:baseline=\"');\n    last = svgString.indexOf('\"', first + 14, svgString.length);\n    const baseline = svgString.substring(first + 14, last);\n    if (typeof width !== 'undefined') {\n      const arr = [];\n      arr.cw = width;\n      arr.ch = height;\n      if (typeof baseline !== 'undefined') {\n        arr.cb = baseline;\n      }\n      return arr;\n    }\n    return [];\n  }\n\n  /**\r\n   * Returns the metrics (width, height, baseline and dpi) contained in a PNG byte array.\r\n   * @param  {Array.<Bytes>} bytes - png byte array.\r\n   * @return {Array} The png metrics.\r\n   */\n  static getMetricsFromBytes(bytes) {\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readBytes(bytes, 0, 8);\n    let width;\n    let height;\n    let typ;\n    let baseline;\n    let dpi;\n    while (bytes.length >= 4) {\n      typ = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n      if (typ === 0x49484452) {\n        width = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n        height = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n        // Read 5 bytes.\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readByte(bytes);\n      } else if (typ === 0x62615345) {\n        // Baseline: 'baSE'.\n        baseline = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n      } else if (typ === 0x70485973) {\n        // Dpis: 'pHYs'.\n        dpi = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n        dpi = Math.round(dpi / 39.37);\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readByte(bytes);\n      }\n      _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].readInt32(bytes);\n    }\n    if (typeof width !== 'undefined') {\n      const arr = [];\n      arr.cw = width;\n      arr.ch = height;\n      arr.dpi = dpi;\n      if (baseline) {\n        arr.cb = baseline;\n      }\n      return arr;\n    }\n    return [];\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/image.js?");

/***/ }),

/***/ "./integration-js/src/integrationmodel.js":
/*!************************************************!*\
  !*** ./integration-js/src/integrationmodel.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return IntegrationModel; });\n/* harmony import */ var _core_src__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.src */ \"./integration-js/src/core.src.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./image */ \"./integration-js/src/image.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n// eslint-disable-next-line no-unused-vars, import/named\n\n\n\n\n\n\n\n/**\r\n * @typedef {Object} IntegrationModelProperties\r\n * @property {string} configurationService - Configuration service path.\r\n * This parameter is needed to determine all services paths.\r\n * @property {HTMLElement} integrationModelProperties.target - HTML target.\r\n * @property {string} integrationModelProperties.scriptName - Integration script name.\r\n * Usually the name of the integration script.\r\n * @property {Object} integrationModelProperties.environment - integration environment properties.\r\n * @property {Object} [integrationModelProperties.callbackMethodArguments] - object containing\r\n * callback method arguments.\r\n * @property {string} [integrationModelProperties.version] - integration version number.\r\n * @property {Object} [integrationModelProperties.editorObject] - object containing\r\n * the integration editor instance.\r\n * @property {boolean} [integrationModelProperties.rtl] - true if the editor is in RTL mode.\r\n * false otherwise.\r\n * @property {ServiceProviderProperties} [integrationModelProperties.serviceProviderProperties]\r\n * - The service parameters.\r\n * @property {Object} [integrationModelProperties.integrationParameters]\r\n * - Overwritten integration parameters.\r\n */\n\nclass IntegrationModel {\n  /**\r\n   * @classdesc\r\n   * This class represents an integration model, allowing the integration script to\r\n   * communicate with Core class. Each integration must extend this class.\r\n   * @constructs\r\n   * @param {IntegrationModelProperties} integrationModelProperties\r\n   */\n  constructor(integrationModelProperties) {\n    /**\r\n     * Language. Needed for accessibility and locales. English by default.\r\n     */\n    this.language = 'en';\n\n    /**\r\n     * Service parameters\r\n     * @type {ServiceProviderProperties}\r\n     */\n    this.serviceProviderProperties = {};\n    if ('serviceProviderProperties' in integrationModelProperties) {\n      this.serviceProviderProperties = integrationModelProperties.serviceProviderProperties;\n    }\n\n    /**\r\n     * Configuration service path. The integration service is needed by Core class to\r\n     * load all the backend configuration into the frontend and also to create the paths\r\n     * of all services (all services lives in the same route). Mandatory property.\r\n     */\n    this.configurationService = '';\n    if ('configurationService' in integrationModelProperties) {\n      this.serviceProviderProperties.URI = integrationModelProperties.configurationService;\n      console.warn('Deprecated property configurationService. Use serviceParameters on instead.', [integrationModelProperties.configurationService]);\n    }\n\n    /**\r\n     * Plugin version. Needed to stats and caching.\r\n     * @type {string}\r\n     */\n    this.version = 'version' in integrationModelProperties ? integrationModelProperties.version : '';\n\n    /**\r\n     * DOM target in which the plugin works. Needed to associate events, insert formulas, etc.\r\n     * Mandatory property.\r\n     */\n    this.target = null;\n    if ('target' in integrationModelProperties) {\n      this.target = integrationModelProperties.target;\n    } else {\n      throw new Error('IntegrationModel constructor error: target property missed.');\n    }\n\n    /**\r\n     * Integration script name. Needed to know the plugin path.\r\n     */\n    if ('scriptName' in integrationModelProperties) {\n      this.scriptName = integrationModelProperties.scriptName;\n    }\n\n    /**\r\n     * Object containing the arguments needed by the callback function.\r\n     */\n    this.callbackMethodArguments = {};\n    if ('callbackMethodArguments' in integrationModelProperties) {\n      this.callbackMethodArguments = integrationModelProperties.callbackMethodArguments;\n    }\n\n    /**\r\n     * Contains information about the integration environment:\r\n     * like the name of the editor, the version, etc.\r\n     */\n    this.environment = {};\n    if ('environment' in integrationModelProperties) {\n      this.environment = integrationModelProperties.environment;\n    }\n\n    /**\r\n     * Indicates if the DOM target is - or not - and iframe.\r\n     */\n    this.isIframe = false;\n    if (this.target != null) {\n      this.isIframe = this.target.tagName.toUpperCase() === 'IFRAME';\n    }\n\n    /**\r\n     * Instance of the integration editor object. Usually the entry point to access the API\r\n     * of a HTML editor.\r\n     */\n    this.editorObject = null;\n    if ('editorObject' in integrationModelProperties) {\n      this.editorObject = integrationModelProperties.editorObject;\n    }\n\n    /**\r\n     * Specifies if the direction of the text is RTL. false by default.\r\n     */\n    this.rtl = false;\n    if ('rtl' in integrationModelProperties) {\n      this.rtl = integrationModelProperties.rtl;\n    }\n\n    /**\r\n     * Specifies if the integration model exposes the locale strings. false by default.\r\n     */\n    this.managesLanguage = false;\n    if ('managesLanguage' in integrationModelProperties) {\n      this.managesLanguage = integrationModelProperties.managesLanguage;\n    }\n\n    /**\r\n     * Indicates if an image is selected. Needed to resize the image to the original size in case\r\n     * the image is resized.\r\n     * @type {boolean}\r\n     */\n    this.temporalImageResizing = false;\n\n    /**\r\n     * The Core class instance associated to the integration model.\r\n     * @type {Core}\r\n     */\n    this.core = null;\n\n    /**\r\n     * Integration model listeners.\r\n     * @type {Listeners}\r\n     */\n    this.listeners = new _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n    // Parameters overwrite.\n    if ('integrationParameters' in integrationModelProperties) {\n      IntegrationModel.integrationParameters.forEach(parameter => {\n        if (parameter in integrationModelProperties.integrationParameters) {\n          // Don't add empty parameters.\n          const value = integrationModelProperties.integrationParameters[parameter];\n          if (Object.keys(value).length !== 0) {\n            this[parameter] = value;\n          }\n        }\n      });\n    }\n  }\n\n  /**\r\n   * Init function. Usually called from the integration side once the core.js file is loaded.\r\n   */\n  init() {\n    this.language = this.getLanguage();\n    // We need to wait until Core class is loaded ('onLoad' event) before\n    // call the callback method.\n    const listener = _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"].newListener('onLoad', () => {\n      this.callbackFunction(this.callbackMethodArguments);\n    });\n\n    // Backwards compatibility.\n    if (this.serviceProviderProperties.URI.indexOf('configuration') !== -1) {\n      const uri = this.serviceProviderProperties.URI;\n      const server = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getServerLanguageFromService(uri);\n      this.serviceProviderProperties.server = server;\n      const configurationIndex = this.serviceProviderProperties.URI.indexOf('configuration');\n      const subsTring = this.serviceProviderProperties.URI.substring(0, configurationIndex);\n      this.serviceProviderProperties.URI = subsTring;\n    }\n    let serviceParametersURI = this.serviceProviderProperties.URI;\n    serviceParametersURI = serviceParametersURI.indexOf('/') === 0 || serviceParametersURI.indexOf('http') === 0 ? serviceParametersURI : _util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].concatenateUrl(this.getPath(), serviceParametersURI);\n    this.serviceProviderProperties.URI = serviceParametersURI;\n    const coreProperties = {};\n    coreProperties.serviceProviderProperties = this.serviceProviderProperties;\n    this.setCore(new _core_src__WEBPACK_IMPORTED_MODULE_0__[\"default\"](coreProperties));\n    this.core.addListener(listener);\n    this.core.language = this.language;\n\n    // Initializing Core class.\n    this.core.init();\n    // TODO: Move to Core constructor.\n    this.core.setEnvironment(this.environment);\n  }\n\n  /**\r\n   * Returns the absolute path of the integration script.\r\n   * @return {string} - Absolute path for the integration script.\r\n   */\n  getPath() {\n    if (typeof this.scriptName === 'undefined') {\n      throw new Error('scriptName property needed for getPath.');\n    }\n    const col = document.getElementsByTagName('script');\n    let path = '';\n    for (let i = 0; i < col.length; i += 1) {\n      const j = col[i].src.lastIndexOf(this.scriptName);\n      if (j >= 0) {\n        path = col[i].src.substr(0, j - 1);\n      }\n    }\n    return path;\n  }\n\n  /**\r\n   * Sets the language property.\r\n   * @param {string} language - language code.\r\n   */\n  setLanguage(language) {\n    this.language = language;\n  }\n\n  /**\r\n   * Sets a Core instance.\r\n   * @param {Core} core - instance of Core class.\r\n   */\n  setCore(core) {\n    this.core = core;\n    core.setIntegrationModel(this);\n  }\n\n  /**\r\n   * Returns the Core instance.\r\n   * @returns {Core} instance of Core class.\r\n   */\n  getCore() {\n    return this.core;\n  }\n\n  /**\r\n   * Sets the object target and updates the iframe property.\r\n   * @param {HTMLElement} target - target object.\r\n   */\n  setTarget(target) {\n    this.target = target;\n    this.isIframe = this.target.tagName.toUpperCase() === 'IFRAME';\n  }\n\n  /**\r\n   * Sets the editor object.\r\n   * @param {Object} editorObject - The editor object.\r\n   */\n  setEditorObject(editorObject) {\n    this.editorObject = editorObject;\n  }\n\n  /**\r\n   * Opens formula editor to editing a new formula. Can be overwritten in order to make some\r\n   * actions from integration part before the formula is edited.\r\n   */\n  openNewFormulaEditor() {\n    this.core.editionProperties.isNewElement = true;\n    this.core.openModalDialog(this.target, this.isIframe);\n  }\n\n  /**\r\n   * Opens formula editor to editing an existing formula. Can be overwritten in order to make some\r\n   * actions from integration part before the formula is edited.\r\n   */\n  openExistingFormulaEditor() {\n    this.core.editionProperties.isNewElement = false;\n    this.core.openModalDialog(this.target, this.isIframe);\n  }\n\n  /**\r\n   * Wrapper to Core.updateFormula method.\r\n   * Transform a MathML into a image formula.\r\n   * Then the image formula is inserted in the specified target, creating a new image (new formula)\r\n   * or updating an existing one.\r\n   * @param {string} mathml - MathML to generate the formula.\r\n   * @param {string} editMode - Edit Mode (LaTeX or images).\r\n   */\n  updateFormula(mathml) {\n    if (this.editorParameters) {\n      mathml = com.wiris.editor.util.EditorUtils.addAnnotation(mathml, 'application/vnd.wiris.mtweb-params+json', JSON.stringify(this.editorParameters));\n    }\n    let focusElement;\n    let windowTarget;\n    const wirisProperties = null;\n    if (this.isIframe) {\n      focusElement = this.target.contentWindow;\n      windowTarget = this.target.contentWindow;\n    } else {\n      focusElement = this.target;\n      windowTarget = window;\n    }\n    let obj = this.core.beforeUpdateFormula(mathml, wirisProperties);\n    if (!obj) {\n      return '';\n    }\n    obj = this.insertFormula(focusElement, windowTarget, obj.mathml, obj.wirisProperties);\n    if (!obj) {\n      return '';\n    }\n    return this.core.afterUpdateFormula(obj.focusElement, obj.windowTarget, obj.node, obj.latex);\n  }\n\n  /**\r\n   * Wrapper to Core.insertFormula method.\r\n   * Inserts the formula in the specified target, creating\r\n   * a new image (new formula) or updating an existing one.\r\n   * @param {string} mathml - MathML to generate the formula.\r\n   * @param {string} editMode - Edit Mode (LaTeX or images).\r\n   * @returns {ReturnObject} - Object with the information of the node or latex to insert.\r\n   */\n  insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\n    return this.core.insertFormula(focusElement, windowTarget, mathml, wirisProperties);\n  }\n\n  /**\r\n   * Returns the target selection.\r\n   * @returns {Selection} target selection.\r\n   */\n  getSelection() {\n    if (this.isIframe) {\n      this.target.contentWindow.focus();\n      return this.target.contentWindow.getSelection();\n    }\n    this.target.focus();\n    return window.getSelection();\n  }\n\n  /**\r\n   * Add events to formulas in the DOM target. The events added are the following:\r\n   * - doubleClickHandler: handles double click event on formulas by opening an editor\r\n   * to edit them.\r\n   * - mouseDownHandler: handles mouse down event on formulas by saving the size of the formula\r\n   * in case the the formula is resized.\r\n   * - mouseUpHandler: handles mouse up event on formulas by restoring the saved formula size\r\n   * in case the formula is resized.\r\n   */\n  addEvents() {\n    const eventTarget = this.isIframe ? this.target.contentWindow.document : this.target;\n    _util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addElementEvents(eventTarget, (element, event) => {\n      this.doubleClickHandler(element, event);\n    }, (element, event) => {\n      this.mousedownHandler(element, event);\n    }, (element, event) => {\n      this.mouseupHandler(element, event);\n    });\n  }\n\n  /**\r\n   * Handles a double click on the target element. Opens an editor\r\n   * to re-edit the double-clicked formula.\r\n   * @param {HTMLElement} element - DOM object target.\r\n   */\n  doubleClickHandler(element) {\n    if (element.nodeName.toLowerCase() === 'img') {\n      this.core.getCustomEditors().disable();\n      const customEditorAttributeName = _configuration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('imageCustomEditorName');\n      if (element.hasAttribute(customEditorAttributeName)) {\n        const customEditor = element.getAttribute(customEditorAttributeName);\n        this.core.getCustomEditors().enable(customEditor);\n      }\n      if (_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].containsClass(element, _configuration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('imageClassName'))) {\n        this.core.editionProperties.temporalImage = element;\n        this.core.editionProperties.isNewElement = true;\n        this.openExistingFormulaEditor();\n      }\n    }\n  }\n\n  /**\r\n   * Handles a mouse up event on the target element. Restores the image size to avoid\r\n   * resizing formulas.\r\n   */\n  mouseupHandler() {\n    if (this.temporalImageResizing) {\n      setTimeout(() => {\n        _image__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fixAfterResize(this.temporalImageResizing);\n      }, 10);\n    }\n  }\n\n  /**\r\n   * Handles a mouse down event on the target element. Saves the formula size to avoid\r\n   * resizing formulas.\r\n   * @param {HTMLElement} element - target element.\r\n   */\n  mousedownHandler(element) {\n    if (element.nodeName.toLowerCase() === 'img') {\n      if (_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].containsClass(element, _configuration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('imageClassName'))) {\n        this.temporalImageResizing = element;\n      }\n    }\n  }\n\n  /**\r\n   * Returns the integration language. By default the browser agent. This method\r\n   * should be overwritten to obtain the integration language, for example using the\r\n   * plugin API of an HTML editor.\r\n   * @returns {string} integration language.\r\n   */\n  getLanguage() {\n    return this.getBrowserLanguage();\n  }\n\n  /**\r\n   * Returns the browser language.\r\n   * @returns {string} the browser language.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  getBrowserLanguage() {\n    let language = 'en';\n    if (navigator.userLanguage) {\n      language = navigator.userLanguage.substring(0, 2);\n    } else if (navigator.language) {\n      language = navigator.language.substring(0, 2);\n    } else {\n      language = 'en';\n    }\n    return language;\n  }\n\n  /**\r\n   * This function is called once the {@link Core} is loaded. IntegrationModel class\r\n   * will fire this method when {@link Core} 'onLoad' event is fired.\r\n   * This method should content all the logic to init\r\n   * the integration.\r\n   */\n  callbackFunction() {\n    // It's needed to wait until the integration target is ready. The event is fired\n    // from the integration side.\n    const listener = _listeners__WEBPACK_IMPORTED_MODULE_2__[\"default\"].newListener('onTargetReady', () => {\n      this.addEvents(this.target);\n    });\n    this.listeners.add(listener);\n  }\n\n  /**\r\n   * Function called when the content submits an action.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  notifyWindowClosed() {\n    // Nothing.\n  }\n\n  /**\r\n   * Wrapper.\r\n   * Extracts mathml of a determined text node. This function is used as a wrapper inside core.js\r\n   * in order to get mathml from a text node that can contain normal LaTeX or other chosen text.\r\n   * @param {string} textNode - text node to extract the MathML.\r\n   * @param {int} caretPosition - caret position inside the text node.\r\n   * @returns {string} MathML inside the text node.\r\n   */\n\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  getMathmlFromTextNode(textNode, caretPosition) {}\n\n  /**\r\n   * Wrapper\r\n   * It fills wrs event object of nonLatex with the desired data.\r\n   * @param {Object} event - event object.\r\n   * @param {Object} window dom window object.\r\n   * @param {string} mathml valid mathml.\r\n   */\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  fillNonLatexNode(event, window, mathml) {}\n\n  /**\r\n    Wrapper.\r\n   * Returns selected item from the target.\r\n   * @param {HTMLElement} target - target element\r\n   * @param {boolean} iframe\r\n   */\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\n  getSelectedItem(target, isIframe) {}\n}\n\n// To know if the integration that extends this class implements\n// wrapper methods, they are set as undefined.\nIntegrationModel.prototype.getMathmlFromTextNode = undefined;\nIntegrationModel.prototype.fillNonLatexNode = undefined;\nIntegrationModel.prototype.getSelectedItem = undefined;\n\n/**\r\n * An object containing a list with the overwritable class constructor properties.\r\n * @type {Object}\r\n */\nIntegrationModel.integrationParameters = ['serviceProviderProperties', 'editorParameters'];\n\n//# sourceURL=webpack:///./integration-js/src/integrationmodel.js?");

/***/ }),

/***/ "./integration-js/src/jsvariables.js":
/*!*******************************************!*\
  !*** ./integration-js/src/jsvariables.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\r\n * Represents the configuration properties generated from the frontend (JavaScript variables).\r\n * @type {Object}\r\n * @property {string} imageClassName - Default MathType formula image class.\r\n * @property {string} imageClassName - Default MathType CAS image class.\r\n * @ignore\r\n */\nconst jsProperties = {\n  imageCustomEditorName: 'data-custom-editor',\n  imageClassName: 'Wirisformula',\n  CASClassName: 'Wiriscas'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (jsProperties);\n\n//# sourceURL=webpack:///./integration-js/src/jsvariables.js?");

/***/ }),

/***/ "./integration-js/src/latex.js":
/*!*************************************!*\
  !*** ./integration-js/src/latex.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Latex; });\n/* harmony import */ var _textcache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./textcache */ \"./integration-js/src/textcache.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"./integration-js/src/constants.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n\n\n\n\n\n\n/**\r\n * @classdesc\r\n * This class represents a LaTeX parser. Manages the services which allows to convert\r\n * LaTeX into MathML and MathML into LaTeX.\r\n */\nclass Latex {\n  /**\r\n   * Static property.\r\n   * Return latex cache.\r\n   * @private\r\n   * @type {Cache}\r\n   */\n  static get cache() {\n    return Latex._cache;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set latex cache.\r\n   * @param {Cache} value - The property value.\r\n   * @ignore\r\n  */\n  static set cache(value) {\n    Latex._cache = value;\n  }\n\n  /**\r\n   * Converts MathML to LaTeX by calling mathml2latex service. For text services\r\n   * we call a text service with the param mathml2latex.\r\n   * @param {String} mathml - MathML String.\r\n   * @return {String} LaTeX string generated by the MathML argument.\r\n   */\n  static getLatexFromMathML(mathml) {\n    const mathmlWithoutSemantics = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeSemantics(mathml);\n    /**\r\n     * @type {TextCache}\r\n     */\n    const {\n      cache\n    } = Latex;\n    const data = {\n      service: 'mathml2latex',\n      mml: mathmlWithoutSemantics\n    };\n    const jsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getService('service', data));\n\n    // TODO: Error handling.\n    let latex = '';\n    if (jsonResponse.status === 'ok') {\n      latex = jsonResponse.result.text;\n      const latexHtmlEntitiesEncoded = _util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].htmlEntities(latex);\n      // Inserting LaTeX semantics.\n      const mathmlWithSemantics = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addAnnotation(mathml, latexHtmlEntitiesEncoded, 'LaTeX');\n      cache.populate(latex, mathmlWithSemantics);\n    }\n    return latex;\n  }\n\n  /**\r\n   * Converts LaTeX to MathML by calling latex2mathml service. For text services\r\n   * we call a text service with the param latex2mathml.\r\n   * @param {String} latex - String containing a LaTeX formula.\r\n   * @param {Boolean} includeLatexOnSemantics\r\n   * - If true LaTeX would me included into MathML semantics.\r\n   * @return {String} MathML string generated by the LaTeX argument.\r\n   */\n  static getMathMLFromLatex(latex, includeLatexOnSemantics) {\n    /**\r\n     * @type {TextCache}\r\n     */\n    const latexCache = Latex.cache;\n    if (Latex.cache.get(latex)) {\n      return Latex.cache.get(latex);\n    }\n    const data = {\n      service: 'latex2mathml',\n      latex\n    };\n    if (includeLatexOnSemantics) {\n      data.saveLatex = '';\n    }\n    const jsonResponse = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getService('service', data));\n    let output;\n    if (jsonResponse.status === 'ok') {\n      let mathml = jsonResponse.result.text;\n      mathml = mathml.split('\\r').join('').split('\\n').join(' ');\n\n      // Populate LatexCache.\n      if (mathml.indexOf('semantics') === -1 && mathml.indexOf('annotation') === -1) {\n        mathml = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addAnnotation(mathml, latex, 'LaTeX');\n        output = mathml;\n      } else {\n        output = mathml;\n      }\n      if (!latexCache.get(latex)) {\n        latexCache.populate(latex, mathml);\n      }\n    } else {\n      output = \"$$\".concat(latex, \"$$\");\n    }\n    return output;\n  }\n\n  /**\r\n   * Converts all occurrences of MathML code to LaTeX.\r\n   * The MathML code should containing <annotation encoding=\"LaTeX\"/> to be converted.\r\n   * @param {String} content - A string containing MathML valid code.\r\n   * @param {Object} characters - An object containing special characters.\r\n   * @return {String} A string containing all MathML annotated occurrences\r\n   * replaced by the corresponding LaTeX code.\r\n   */\n  static parseMathmlToLatex(content, characters) {\n    let output = '';\n    const mathTagBegin = \"\".concat(characters.tagOpener, \"math\");\n    const mathTagEnd = \"\".concat(characters.tagOpener, \"/math\").concat(characters.tagCloser);\n    const openTarget = \"\".concat(characters.tagOpener, \"annotation encoding=\").concat(characters.doubleQuote, \"LaTeX\").concat(characters.doubleQuote).concat(characters.tagCloser);\n    const closeTarget = \"\".concat(characters.tagOpener, \"/annotation\").concat(characters.tagCloser);\n    let start = content.indexOf(mathTagBegin);\n    let end = 0;\n    let mathml;\n    let startAnnotation;\n    let closeAnnotation;\n    while (start !== -1) {\n      output += content.substring(end, start);\n      end = content.indexOf(mathTagEnd, start);\n      if (end === -1) {\n        end = content.length - 1;\n      } else {\n        end += mathTagEnd.length;\n      }\n      mathml = content.substring(start, end);\n      startAnnotation = mathml.indexOf(openTarget);\n      if (startAnnotation !== -1) {\n        startAnnotation += openTarget.length;\n        closeAnnotation = mathml.indexOf(closeTarget);\n        let latex = mathml.substring(startAnnotation, closeAnnotation);\n        if (characters === _constants__WEBPACK_IMPORTED_MODULE_3__[\"default\"].safeXmlCharacters) {\n          latex = _mathml__WEBPACK_IMPORTED_MODULE_1__[\"default\"].safeXmlDecode(latex);\n        }\n        output += \"$$\".concat(latex, \"$$\");\n        // Populate latex into cache.\n\n        Latex.cache.populate(latex, mathml);\n      } else {\n        output += mathml;\n      }\n      start = content.indexOf(mathTagBegin, end);\n    }\n    output += content.substring(end, content.length);\n    return output;\n  }\n\n  /**\r\n   * Extracts the latex of a determined position in a text.\r\n   * @param {Node} textNode - textNode to extract the LaTeX\r\n   * @param {Number} caretPosition - Starting position to find LaTeX.\r\n   * @param {Object} latexTags - Optional parameter representing tags between latex is inserted.\r\n   * It has the 'open' attribute for the open tag and the 'close' attribute for the close tag.\r\n   * \"$$\" by default.\r\n   * @return {Object} An object with 3 keys: 'latex', 'start' and 'end'. Null if latex is not found.\r\n   * @static\r\n   */\n  static getLatexFromTextNode(textNode, caretPosition, latexTags) {\n    // TODO: Set LaTeX Tags as Core variable. Fix the call to this function (third argument).\n    // Tags used for LaTeX formulas.\n    const defaultLatexTags = {\n      open: '$$',\n      close: '$$'\n    };\n    // latexTags is an optional parameter. If is not set, use default latexTags.\n    if (typeof latexTags === 'undefined' || latexTags == null) {\n      latexTags = defaultLatexTags;\n    }\n    // Looking for the first textNode.\n    let startNode = textNode;\n    while (startNode.previousSibling && startNode.previousSibling.nodeType === 3) {\n      // TEXT_NODE.\n      startNode = startNode.previousSibling;\n    }\n\n    /**\r\n     * Returns the next latex position and node from a specific node and position.\r\n     * @param {Node} currentNode - Node where searching latex.\r\n     * @param {Number} currentPosition - Current position inside the currentNode.\r\n     * @param {Object} latexTagsToUse - Tags used at latex beginning and latex final.\r\n     * \"$$\" by default.\r\n     * @param {Boolean} tag - Tag containing the current search.\r\n     * @returns {Object} Object containing the current node and the position.\r\n     */\n    function getNextLatexPosition(currentNode, currentPosition, tag) {\n      let position = currentNode.nodeValue.indexOf(tag, currentPosition);\n      while (position === -1) {\n        currentNode = currentNode.nextSibling;\n        if (!currentNode) {\n          // TEXT_NODE.\n          return null; // Not found.\n        }\n        position = currentNode.nodeValue ? currentNode.nodeValue.indexOf(latexTags.close) : -1;\n      }\n      return {\n        node: currentNode,\n        position\n      };\n    }\n\n    /**\r\n     * Determines if a node is previous, or not, to a second one.\r\n     * @param {Node} node - Start node.\r\n     * @param {Number} position - Start node position.\r\n     * @param {Node} endNode - End node.\r\n     * @param {Number} endPosition - End node position.\r\n     * @returns {Boolean} True if the starting node is previous thant the en node. false otherwise.\r\n     */\n    function isPrevious(node, position, endNode, endPosition) {\n      if (node === endNode) {\n        return position <= endPosition;\n      }\n      while (node && node !== endNode) {\n        node = node.nextSibling;\n      }\n      return node === endNode;\n    }\n    let start;\n    let end = {\n      node: startNode,\n      position: 0\n    };\n    // Is supposed that open and close tags has the same length.\n    const tagLength = latexTags.open.length;\n    do {\n      start = getNextLatexPosition(end.node, end.position, latexTags.open);\n      if (start == null || isPrevious(textNode, caretPosition, start.node, start.position)) {\n        return null;\n      }\n      end = getNextLatexPosition(start.node, start.position + tagLength, latexTags.close);\n      if (end == null) {\n        return null;\n      }\n      end.position += tagLength;\n    } while (isPrevious(end.node, end.position, textNode, caretPosition));\n\n    // Isolating latex.\n    let latex;\n    if (start.node === end.node) {\n      latex = start.node.nodeValue.substring(start.position + tagLength, end.position - tagLength);\n    } else {\n      const index = start.position + tagLength;\n      latex = start.node.nodeValue.substring(index, start.node.nodeValue.length);\n      let currentNode = start.node;\n      do {\n        currentNode = currentNode.nextSibling;\n        if (currentNode === end.node) {\n          latex += end.node.nodeValue.substring(0, end.position - tagLength);\n        } else {\n          latex += currentNode.nodeValue ? currentNode.nodeValue : '';\n        }\n      } while (currentNode !== end.node);\n    }\n    return {\n      latex,\n      startNode: start.node,\n      startPosition: start.position,\n      endNode: end.node,\n      endPosition: end.position\n    };\n  }\n}\n\n/**\r\n * Text cache. Stores all processed LaTeX strings and it's correspondent MathML string.\r\n * @type {Cache}\r\n * @static\r\n */\nLatex._cache = new _textcache__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n//# sourceURL=webpack:///./integration-js/src/latex.js?");

/***/ }),

/***/ "./integration-js/src/listeners.js":
/*!*****************************************!*\
  !*** ./integration-js/src/listeners.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Listeners; });\n/**\r\n * This object represents a custom listener.\r\n * @typedef {Object} Listener\r\n * @property {String} Listener.eventName - The listener name.\r\n * @property {Function} Listener.callback - The listener callback function.\r\n */\n\nclass Listeners {\n  /**\r\n   * @classdesc\r\n   * This class represents a custom listeners manager.\r\n   * @constructs\r\n   */\n  constructor() {\n    /**\r\n     * Array containing all custom listeners.\r\n     * @type {Object[]}\r\n     */\n    this.listeners = [];\n  }\n\n  /**\r\n   * Add a listener to Listener class.\r\n   * @param {Object} listener - A listener object.\r\n   */\n  add(listener) {\n    this.listeners.push(listener);\n  }\n\n  /**\r\n   * Fires MathType event listeners\r\n   * @param {String} eventName - event name\r\n   * @param {Event} event - event object.\r\n   * @return {boolean} false if event has been prevented. true otherwise.\r\n   */\n  fire(eventName, event) {\n    for (let i = 0; i < this.listeners.length && !event.cancelled; i += 1) {\n      if (this.listeners[i].eventName === eventName) {\n        // Calling listener.\n        this.listeners[i].callback(event);\n      }\n    }\n    return event.defaultPrevented;\n  }\n\n  /**\r\n   * Creates a new listener object.\r\n   * @param {string} eventName - Event name.\r\n   * @param {Object} callback - Callback function.\r\n   * @returns {object} the listener object.\r\n   */\n  static newListener(eventName, callback) {\n    const listener = {};\n    listener.eventName = eventName;\n    listener.callback = callback;\n    return listener;\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/listeners.js?");

/***/ }),

/***/ "./integration-js/src/mathml.js":
/*!**************************************!*\
  !*** ./integration-js/src/mathml.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MathML; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./integration-js/src/constants.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n\n\n\n/**\r\n * @classdesc\r\n * This class represents a class to manage MathML objects.\r\n */\nclass MathML {\n  /**\r\n   * Checks if the mathml at position i is inside an HTML attribute or not.\r\n   * @param {string} content - a string containing MathML code.\r\n   * @param {number} i -  search index.\r\n   * @return {boolean} true if is inside an HTML attribute. false otherwise.\r\n   */\n  static isMathmlInAttribute(content, i) {\n    // Regex =\n    // '^[\\'\"][\\\\s]*=[\\\\s]*[\\\\w-]+([\\\\s]*(\"[^\"]*\"|\\'[^\\']*\\')[\\\\s]*\n    // =[\\\\s]*[\\\\w-]+[\\\\s]*)*[\\\\s]+gmi<';\n    const mathAtt = '[\\'\"][\\\\s]*=[\\\\s]*[\\\\w-]+'; // \"=att OR '=att\n    const attContent = '\"[^\"]*\"|\\'[^\\']*\\''; // \"blabla\" OR 'blabla'\n    const att = \"[\\\\s]*(\".concat(attContent, \")[\\\\s]*=[\\\\s]*[\\\\w-]+[\\\\s]*\"); // \"blabla\"=att OR 'blabla'=att\n    const atts = \"('\".concat(att, \"')*\"); // \"blabla\"=att1 \"blabla\"=att2\n    const regex = \"^\".concat(mathAtt).concat(atts, \"[\\\\s]+gmi<\"); // \"=att \"blabla\"=att1 \"blabla\"=att2 gmi< .\n    const expression = new RegExp(regex);\n    const actualContent = content.substring(0, i);\n    const reversed = actualContent.split('').reverse().join('');\n    const exists = expression.test(reversed);\n    return exists;\n  }\n\n  /**\r\n   * Decodes an encoded MathML with standard XML tags.\r\n   * We use these entities because IE doesn't support html entities\r\n   * on its attributes sometimes. Yes, sometimes.\r\n   * @param {string} input - string to be decoded.\r\n   * @return {string} decoded string.\r\n   */\n  static safeXmlDecode(input) {\n    let {\n      tagOpener\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharactersEntities;\n    let {\n      tagCloser\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharactersEntities;\n    let {\n      doubleQuote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharactersEntities;\n    let {\n      realDoubleQuote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharactersEntities;\n    // Decoding entities.\n    input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.tagOpener);\n    input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.tagCloser);\n    input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.doubleQuote);\n    // Added to fix problem due to import from 1.9.x.\n    input = input.split(realDoubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.realDoubleQuote);\n\n    // Blackboard.\n    const {\n      ltElement\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeBadBlackboardCharacters;\n    const {\n      gtElement\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeBadBlackboardCharacters;\n    const {\n      ampElement\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeBadBlackboardCharacters;\n    if ('_wrs_blackboard' in window && window._wrs_blackboard) {\n      input = input.split(ltElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeGoodBlackboardCharacters.ltElement);\n      input = input.split(gtElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeGoodBlackboardCharacters.gtElement);\n      input = input.split(ampElement).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeGoodBlackboardCharacters.ampElement);\n    }\n    ({\n      tagOpener\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters);\n    ({\n      tagCloser\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters);\n    ({\n      doubleQuote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters);\n    ({\n      realDoubleQuote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters);\n    const {\n      ampersand\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters;\n    const {\n      quote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters;\n\n    // Decoding characters.\n    input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters.tagOpener);\n    input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters.tagCloser);\n    input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters.doubleQuote);\n    input = input.split(ampersand).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters.ampersand);\n    input = input.split(quote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters.quote);\n\n    // We are replacing $ by & when its part of an entity for retrocompatibility.\n    // Now, the standard is replace § by &.\n    let returnValue = '';\n    let currentEntity = null;\n    for (let i = 0; i < input.length; i += 1) {\n      const character = input.charAt(i);\n      if (currentEntity == null) {\n        if (character === '$') {\n          currentEntity = '';\n        } else {\n          returnValue += character;\n        }\n      } else if (character === ';') {\n        returnValue += \"&\".concat(currentEntity);\n        currentEntity = null;\n      } else if (character.match(/([a-zA-Z0-9#._-] | '-')/)) {\n        // Character is part of an entity.\n        currentEntity += character;\n      } else {\n        returnValue += \"$\".concat(currentEntity); // Is not an entity.\n        currentEntity = null;\n        i -= 1; // Parse again the current character.\n      }\n    }\n    return returnValue;\n  }\n\n  /**\r\n   * Encodes a MathML with standard XML tags to a MMathML encoded with safe XML tags.\r\n   * We use these entities because IE doesn't support html entities on its attributes sometimes.\r\n   * @param {string} input - input string to be encoded\r\n   * @returns {string} encoded string.\r\n   */\n  static safeXmlEncode(input) {\n    const {\n      tagOpener\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    const {\n      tagCloser\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    const {\n      doubleQuote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    const {\n      ampersand\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    const {\n      quote\n    } = _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    input = input.split(tagOpener).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.tagOpener);\n    input = input.split(tagCloser).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.tagCloser);\n    input = input.split(doubleQuote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.doubleQuote);\n    input = input.split(ampersand).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.ampersand);\n    input = input.split(quote).join(_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlCharacters.quote);\n    return input;\n  }\n\n  /**\r\n   * Converts special symbols (> 128) to entities and replaces all textual\r\n   * entities by its number entities.\r\n   * @param {string} mathml - MathML string containing - or not - special symbols\r\n   * @returns {string} MathML with all textual entities replaced.\r\n   */\n  static mathMLEntities(mathml) {\n    let toReturn = '';\n    for (let i = 0; i < mathml.length; i += 1) {\n      const character = mathml.charAt(i);\n\n      // Parsing > 128 characters.\n      if (mathml.codePointAt(i) > 128) {\n        toReturn += \"&#\".concat(mathml.codePointAt(i), \";\");\n        // For UTF-32 characters we need to move the index one position.\n        if (mathml.codePointAt(i) > 0xffff) {\n          i += 1;\n        }\n      } else if (character === '&') {\n        const end = mathml.indexOf(';', i + 1);\n        if (end >= 0) {\n          const container = document.createElement('span');\n          container.innerHTML = mathml.substring(i, end + 1);\n          toReturn += \"&#\".concat(_util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fixedCharCodeAt(container.textContent || container.innerText, 0), \";\");\n          i = end;\n        } else {\n          toReturn += character;\n        }\n      } else {\n        toReturn += character;\n      }\n    }\n    return toReturn;\n  }\n\n  /**\r\n   * Add a custom editor name with the prefix wrs_ to a MathML class attribute.\r\n   * @param {string} mathml - a MathML string created with a custom editor, like chemistry.\r\n   * @param {string} customEditor - custom editor name.\r\n   * @returns {string} MathML string with his class containing the editor toolbar string.\r\n   */\n  static addCustomEditorClassAttribute(mathml, customEditor) {\n    let toReturn = '';\n    const start = mathml.indexOf('<math');\n    if (start === 0) {\n      const end = mathml.indexOf('>');\n      if (mathml.indexOf('class') === -1) {\n        // Adding custom editor type.\n        toReturn = \"\".concat(mathml.substr(start, end), \" class=\\\"wrs_\").concat(customEditor, \"\\\">\");\n        toReturn += mathml.substr(end + 1, mathml.length);\n        return toReturn;\n      }\n    }\n    return mathml;\n  }\n\n  /**\r\n   * Remove a custom editor name from the MathML class attribute.\r\n   * @param {string} mathml - a MathML string.\r\n   * @param {string} customEditor - custom editor name.\r\n   * @returns {string} The input MathML without customEditor name in his class.\r\n   */\n  static removeCustomEditorClassAttribute(mathml, customEditor) {\n    // Discard MathML without the specified class.\n    if (mathml.indexOf('class') === -1 || mathml.indexOf(\"wrs_\".concat(customEditor)) === -1) {\n      return mathml;\n    }\n\n    // Trivial case: class attribute value equal to editor name. Then\n    // class attribute is removed.\n    if (mathml.indexOf(\"class=\\\"wrs_\".concat(customEditor, \"\\\"\")) !== -1) {\n      return mathml.replace(\"class=\\\"wrs_\".concat(customEditor, \"\\\"\"), '');\n    }\n\n    // Non Trivial case: class attribute contains editor name.\n    return mathml.replace(\"wrs_\".concat(customEditor), '');\n  }\n\n  /**\r\n   * Adds annotation tag in MathML element.\r\n   * @param {String} mathml - valid MathML.\r\n   * @param {String} content - value to put inside annotation tag.\r\n   * @param {String} annotationEncoding - annotation encoding.\r\n   * @returns {String} - 'mathml' with an annotation that contains\r\n   * 'content' and encoding 'encoding'.\r\n   */\n  static addAnnotation(mathml, content, annotationEncoding) {\n    // If contains annotation, also contains semantics tag.\n    const containsAnnotation = mathml.indexOf('<annotation');\n    let mathmlWithAnnotation = '';\n    if (containsAnnotation !== -1) {\n      const closeSemanticsIndex = mathml.indexOf('</semantics>');\n      mathmlWithAnnotation = \"\".concat(mathml.substring(0, closeSemanticsIndex), \"<annotation encoding=\\\"\").concat(annotationEncoding, \"\\\">\").concat(content, \"</annotation>\").concat(mathml.substring(closeSemanticsIndex));\n    } else if (MathML.isEmpty(mathml)) {\n      const endIndexInline = mathml.indexOf('/>');\n      const endIndexNonInline = mathml.indexOf('>');\n      const endIndex = endIndexNonInline === endIndexInline ? endIndexInline : endIndexNonInline;\n      mathmlWithAnnotation = \"\".concat(mathml.substring(0, endIndex), \"><semantics><annotation encoding=\\\"\").concat(annotationEncoding, \"\\\">\").concat(content, \"</annotation></semantics></math>\");\n    } else {\n      const beginMathMLContent = mathml.indexOf('>') + 1;\n      const endMathmlContent = mathml.lastIndexOf('</math>');\n      const mathmlContent = mathml.substring(beginMathMLContent, endMathmlContent);\n      mathmlWithAnnotation = \"\".concat(mathml.substring(0, beginMathMLContent), \"<semantics>\").concat(mathmlContent, \"<annotation encoding=\\\"\").concat(annotationEncoding, \"\\\">\").concat(content, \"</annotation></semantics></math>\");\n    }\n    return mathmlWithAnnotation;\n  }\n\n  /**\r\n   * Removes specific annotation tag in MathML element.\r\n   * In case of remove the unique annotation, also is removed semantics tag.\r\n   * @param {String} mathml - valid MathML.\r\n   * @param {String} annotationEncoding - annotation encoding to remove.\r\n   * @returns {String} - 'mathml' without the annotation encoding specified.\r\n   */\n  static removeAnnotation(mathml, annotationEncoding) {\n    let mathmlWithoutAnnotation = mathml;\n    const openAnnotationTag = \"<annotation encoding=\\\"\".concat(annotationEncoding, \"\\\">\");\n    const closeAnnotationTag = '</annotation>';\n    const startAnnotationIndex = mathml.indexOf(openAnnotationTag);\n    if (startAnnotationIndex !== -1) {\n      let differentAnnotationFound = false;\n      let differentAnnotationIndex = mathml.indexOf('<annotation');\n      while (differentAnnotationIndex !== -1) {\n        if (differentAnnotationIndex !== startAnnotationIndex) {\n          differentAnnotationFound = true;\n        }\n        differentAnnotationIndex = mathml.indexOf('<annotation', differentAnnotationIndex + 1);\n      }\n      if (differentAnnotationFound) {\n        const closeIndex = mathml.indexOf(closeAnnotationTag, startAnnotationIndex);\n        const endAnnotationIndex = closeIndex + closeAnnotationTag.length;\n        const startIndex = mathml.substring(0, startAnnotationIndex);\n        mathmlWithoutAnnotation = startIndex + mathml.substring(endAnnotationIndex);\n      } else {\n        mathmlWithoutAnnotation = MathML.removeSemantics(mathml);\n      }\n    }\n    return mathmlWithoutAnnotation;\n  }\n\n  /**\r\n   * Removes semantics tag to mathml.\r\n   * @param {string} mathml - MathML string.\r\n   * @returns {string} - 'mathml' without semantics tag.\r\n   */\n  static removeSemantics(mathml) {\n    const mathTagEnd = '</math>';\n    const openSemantics = '<semantics>';\n    const openAnnotation = '<annotation';\n    let mathmlWithoutSemantics = mathml;\n    const startSemantics = mathml.indexOf(openSemantics);\n    if (startSemantics !== -1) {\n      const startAnnotation = mathml.indexOf(openAnnotation, startSemantics + openSemantics.length);\n      if (startAnnotation !== -1) {\n        mathmlWithoutSemantics = mathml.substring(0, startSemantics) + mathml.substring(startSemantics + openSemantics.length, startAnnotation) + mathTagEnd;\n      }\n    }\n    return mathmlWithoutSemantics;\n  }\n\n  /**\r\n   * Transforms all xml mathml ocurrences that contain semantics to the same\r\n   * xml mathml ocurrences without semantics.\r\n   * @param {string} text - string that can contain xml mathml ocurrences.\r\n   * @param {Constants} [characters] - Constant object containing xmlCharacters\r\n   * or safeXmlCharacters relation.\r\n   * xmlCharacters by default.\r\n   * @returns {string} - 'text' with all xml mathml ocurrences without annotation tag.\r\n   */\n  static removeSemanticsOcurrences(text) {\n    let characters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].xmlCharacters;\n    const mathTagStart = \"\".concat(characters.tagOpener, \"math\");\n    const mathTagEnd = \"\".concat(characters.tagOpener, \"/math\").concat(characters.tagCloser);\n    const mathTagEndline = \"/\".concat(characters.tagCloser);\n    const {\n      tagCloser\n    } = characters;\n    const semanticsTagStart = \"\".concat(characters.tagOpener, \"semantics\").concat(characters.tagCloser);\n    const annotationTagStart = \"\".concat(characters.tagOpener, \"annotation encoding=\");\n    let output = '';\n    let start = text.indexOf(mathTagStart);\n    let end = 0;\n    while (start !== -1) {\n      output += text.substring(end, start);\n\n      // MathML can be written as '<math></math>' or '<math />'.\n      const mathTagEndIndex = text.indexOf(mathTagEnd, start);\n      const mathTagEndlineIndex = text.indexOf(mathTagEndline, start);\n      const firstTagCloser = text.indexOf(tagCloser, start);\n      if (mathTagEndIndex !== -1) {\n        end = mathTagEndIndex;\n      } else if (mathTagEndlineIndex === firstTagCloser - 1) {\n        end = mathTagEndlineIndex;\n      }\n      const semanticsIndex = text.indexOf(semanticsTagStart, start);\n      if (semanticsIndex !== -1) {\n        const mmlTagStart = text.substring(start, semanticsIndex);\n        const annotationIndex = text.indexOf(annotationTagStart, start);\n        if (annotationIndex !== -1) {\n          const startIndex = semanticsIndex + semanticsTagStart.length;\n          const mmlContent = text.substring(startIndex, annotationIndex);\n          output += mmlTagStart + mmlContent + mathTagEnd;\n          start = text.indexOf(mathTagStart, start + mathTagStart.length);\n          end += mathTagEnd.length;\n        } else {\n          end = start;\n          start = text.indexOf(mathTagStart, start + mathTagStart.length);\n        }\n      } else {\n        end = start;\n        start = text.indexOf(mathTagStart, start + mathTagStart.length);\n      }\n    }\n    output += text.substring(end, text.length);\n    return output;\n  }\n\n  /**\r\n   * Returns true if a MathML contains a certain class.\r\n   * @param {string} mathML - input MathML.\r\n   * @param {string} className - className.\r\n   * @returns {boolean} true if the input MathML contains the input class.\r\n   * false otherwise.\r\n   * @static\r\n   */\n  static containClass(mathML, className) {\n    const classIndex = mathML.indexOf('class');\n    if (classIndex === -1) {\n      return false;\n    }\n    const classTagEndIndex = mathML.indexOf('>', classIndex);\n    const classTag = mathML.substring(classIndex, classTagEndIndex);\n    if (classTag.indexOf(className) !== -1) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\r\n   * Returns true if mathml is empty. Otherwise, false.\r\n   * @param {string} mathml - valid MathML with standard XML tags.\r\n   * @returns {boolean} - true if mathml is empty. Otherwise, false.\r\n   */\n  static isEmpty(mathml) {\n    // MathML can have the shape <math></math> or '<math />'.\n    const closeTag = '>';\n    const closeTagInline = '/>';\n    const firstCloseTagIndex = mathml.indexOf(closeTag);\n    const firstCloseTagInlineIndex = mathml.indexOf(closeTagInline);\n    let empty = false;\n    // MathML is always empty in the second shape.\n    if (firstCloseTagInlineIndex !== -1) {\n      if (firstCloseTagInlineIndex === firstCloseTagIndex - 1) {\n        empty = true;\n      }\n    }\n\n    // MathML is always empty in the first shape when there aren't elements\n    // between math tags.\n    if (!empty) {\n      const mathTagEndRegex = new RegExp('</(.+:)?math>');\n      const mathTagEndArray = mathTagEndRegex.exec(mathml);\n      if (mathTagEndArray) {\n        empty = firstCloseTagIndex + 1 === mathTagEndArray.index;\n      }\n    }\n    return empty;\n  }\n\n  /**\r\n   * Encodes html entities inside properties.\r\n   * @param {String} mathml - valid MathML with standard XML tags.\r\n   * @returns {String} - 'mathml' with property entities encoded.\r\n   */\n  static encodeProperties(mathml) {\n    // Search all the properties.\n    const regex = /\\w+=\".*?\"/g;\n    // Encode html entities.\n    const replacer = match => {\n      // It has the shape:\n      // <math propertyOne=\"somethingOne\"><children propertyTwo=\"somethingTwo\"></children></math>.\n      const quoteIndex = match.indexOf('\"');\n      const propertyValue = match.substring(quoteIndex + 1, match.length - 1);\n      const propertyValueEncoded = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].htmlEntities(propertyValue);\n      const matchEncoded = \"\".concat(match.substring(0, quoteIndex + 1)).concat(propertyValueEncoded, \"\\\"\");\n      return matchEncoded;\n    };\n    const mathmlEncoded = mathml.replace(regex, replacer);\n    return mathmlEncoded;\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/mathml.js?");

/***/ }),

/***/ "./integration-js/src/md5.js":
/*!***********************************!*\
  !*** ./integration-js/src/md5.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable */\nvar md5;\n/* harmony default export */ __webpack_exports__[\"default\"] = (md5);\n(function () {\n  var HxOverrides = function () {};\n  HxOverrides.__name__ = true;\n  HxOverrides.dateStr = function (date) {\n    var m = date.getMonth() + 1;\n    var d = date.getDate();\n    var h = date.getHours();\n    var mi = date.getMinutes();\n    var s = date.getSeconds();\n    return date.getFullYear() + \"-\" + (m < 10 ? \"0\" + m : \"\" + m) + \"-\" + (d < 10 ? \"0\" + d : \"\" + d) + \" \" + (h < 10 ? \"0\" + h : \"\" + h) + \":\" + (mi < 10 ? \"0\" + mi : \"\" + mi) + \":\" + (s < 10 ? \"0\" + s : \"\" + s);\n  };\n  HxOverrides.strDate = function (s) {\n    switch (s.length) {\n      case 8:\n        var k = s.split(\":\");\n        var d = new Date();\n        d.setTime(0);\n        d.setUTCHours(k[0]);\n        d.setUTCMinutes(k[1]);\n        d.setUTCSeconds(k[2]);\n        return d;\n      case 10:\n        var k = s.split(\"-\");\n        return new Date(k[0], k[1] - 1, k[2], 0, 0, 0);\n      case 19:\n        var k = s.split(\" \");\n        var y = k[0].split(\"-\");\n        var t = k[1].split(\":\");\n        return new Date(y[0], y[1] - 1, y[2], t[0], t[1], t[2]);\n      default:\n        throw \"Invalid date format : \" + s;\n    }\n  };\n  HxOverrides.cca = function (s, index) {\n    var x = s.charCodeAt(index);\n    if (x != x) return undefined;\n    return x;\n  };\n  HxOverrides.substr = function (s, pos, len) {\n    if (pos != null && pos != 0 && len != null && len < 0) return \"\";\n    if (len == null) len = s.length;\n    if (pos < 0) {\n      pos = s.length + pos;\n      if (pos < 0) pos = 0;\n    } else if (len < 0) len = s.length + len - pos;\n    return s.substr(pos, len);\n  };\n  HxOverrides.remove = function (a, obj) {\n    var i = 0;\n    var l = a.length;\n    while (i < l) {\n      if (a[i] == obj) {\n        a.splice(i, 1);\n        return true;\n      }\n      i++;\n    }\n    return false;\n  };\n  HxOverrides.iter = function (a) {\n    return {\n      cur: 0,\n      arr: a,\n      hasNext: function () {\n        return this.cur < this.arr.length;\n      },\n      next: function () {\n        return this.arr[this.cur++];\n      }\n    };\n  };\n  var IntIter = function (min, max) {\n    this.min = min;\n    this.max = max;\n  };\n  IntIter.__name__ = true;\n  IntIter.prototype = {\n    next: function () {\n      return this.min++;\n    },\n    hasNext: function () {\n      return this.min < this.max;\n    },\n    __class__: IntIter\n  };\n  var Std = function () {};\n  Std.__name__ = true;\n  Std[\"is\"] = function (v, t) {\n    return js.Boot.__instanceof(v, t);\n  };\n  Std.string = function (s) {\n    return js.Boot.__string_rec(s, \"\");\n  };\n  Std[\"int\"] = function (x) {\n    return x | 0;\n  };\n  Std.parseInt = function (x) {\n    var v = parseInt(x, 10);\n    if (v == 0 && (HxOverrides.cca(x, 1) == 120 || HxOverrides.cca(x, 1) == 88)) v = parseInt(x);\n    if (isNaN(v)) return null;\n    return v;\n  };\n  Std.parseFloat = function (x) {\n    return parseFloat(x);\n  };\n  Std.random = function (x) {\n    return Math.floor(Math.random() * x);\n  };\n  var com = com || {};\n  if (!com.wiris) com.wiris = {};\n  if (!com.wiris.js) com.wiris.js = {};\n  com.wiris.js.JsPluginTools = function () {\n    this.tryReady();\n  };\n  com.wiris.js.JsPluginTools.__name__ = true;\n  com.wiris.js.JsPluginTools.main = function () {\n    var ev;\n    ev = com.wiris.js.JsPluginTools.getInstance();\n    haxe.Timer.delay($bind(ev, ev.tryReady), 100);\n  };\n  com.wiris.js.JsPluginTools.getInstance = function () {\n    if (com.wiris.js.JsPluginTools.instance == null) com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools();\n    return com.wiris.js.JsPluginTools.instance;\n  };\n  com.wiris.js.JsPluginTools.bypassEncapsulation = function () {\n    if (window.com == null) window.com = {};\n    if (window.com.wiris == null) window.com.wiris = {};\n    if (window.com.wiris.js == null) window.com.wiris.js = {};\n    if (window.com.wiris.js.JsPluginTools == null) window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance();\n  };\n  com.wiris.js.JsPluginTools.prototype = {\n    md5encode: function (content) {\n      return haxe.Md5.encode(content);\n    },\n    doLoad: function () {\n      this.ready = true;\n      com.wiris.js.JsPluginTools.instance = this;\n      com.wiris.js.JsPluginTools.bypassEncapsulation();\n    },\n    tryReady: function () {\n      this.ready = false;\n      if (js.Lib.document.readyState) {\n        this.doLoad();\n        this.ready = true;\n      }\n      if (!this.ready) haxe.Timer.delay($bind(this, this.tryReady), 100);\n    },\n    __class__: com.wiris.js.JsPluginTools\n  };\n  var haxe = haxe || {};\n  haxe.Log = function () {};\n  haxe.Log.__name__ = true;\n  haxe.Log.trace = function (v, infos) {\n    js.Boot.__trace(v, infos);\n  };\n  haxe.Log.clear = function () {\n    js.Boot.__clear_trace();\n  };\n  haxe.Md5 = function () {};\n  haxe.Md5.__name__ = true;\n  haxe.Md5.encode = function (s) {\n    return new haxe.Md5().doEncode(s);\n  };\n  haxe.Md5.prototype = {\n    doEncode: function (str) {\n      var x = this.str2blks(str);\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n      var step;\n      var i = 0;\n      while (i < x.length) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        step = 0;\n        a = this.ff(a, b, c, d, x[i], 7, -680876936);\n        d = this.ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = this.ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = this.ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = this.ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = this.ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = this.ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = this.ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = this.ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = this.ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = this.ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = this.ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = this.ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = this.ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = this.ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = this.ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = this.gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = this.gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = this.gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = this.gg(b, c, d, a, x[i], 20, -373897302);\n        a = this.gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = this.gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = this.gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = this.gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = this.gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = this.gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = this.gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = this.gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = this.gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = this.gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = this.gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = this.gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = this.hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = this.hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = this.hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = this.hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = this.hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = this.hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = this.hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = this.hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = this.hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = this.hh(d, a, b, c, x[i], 11, -358537222);\n        c = this.hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = this.hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = this.hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = this.hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = this.hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = this.hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = this.ii(a, b, c, d, x[i], 6, -198630844);\n        d = this.ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = this.ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = this.ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = this.ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = this.ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = this.ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = this.ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = this.ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = this.ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = this.ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = this.ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = this.ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = this.ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = this.ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = this.ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = this.addme(a, olda);\n        b = this.addme(b, oldb);\n        c = this.addme(c, oldc);\n        d = this.addme(d, oldd);\n        i += 16;\n      }\n      return this.rhex(a) + this.rhex(b) + this.rhex(c) + this.rhex(d);\n    },\n    ii: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(c, this.bitOR(b, ~d)), a, b, x, s, t);\n    },\n    hh: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(this.bitXOR(b, c), d), a, b, x, s, t);\n    },\n    gg: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, d), this.bitAND(c, ~d)), a, b, x, s, t);\n    },\n    ff: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, c), this.bitAND(~b, d)), a, b, x, s, t);\n    },\n    cmn: function (q, a, b, x, s, t) {\n      return this.addme(this.rol(this.addme(this.addme(a, q), this.addme(x, t)), s), b);\n    },\n    rol: function (num, cnt) {\n      return num << cnt | num >>> 32 - cnt;\n    },\n    str2blks: function (str) {\n      var nblk = (str.length + 8 >> 6) + 1;\n      var blks = new Array();\n      var _g1 = 0,\n        _g = nblk * 16;\n      while (_g1 < _g) {\n        var i = _g1++;\n        blks[i] = 0;\n      }\n      var i = 0;\n      while (i < str.length) {\n        blks[i >> 2] |= HxOverrides.cca(str, i) << (str.length * 8 + i) % 4 * 8;\n        i++;\n      }\n      blks[i >> 2] |= 128 << (str.length * 8 + i) % 4 * 8;\n      var l = str.length * 8;\n      var k = nblk * 16 - 2;\n      blks[k] = l & 255;\n      blks[k] |= (l >>> 8 & 255) << 8;\n      blks[k] |= (l >>> 16 & 255) << 16;\n      blks[k] |= (l >>> 24 & 255) << 24;\n      return blks;\n    },\n    rhex: function (num) {\n      var str = \"\";\n      var hex_chr = \"0123456789abcdef\";\n      var _g = 0;\n      while (_g < 4) {\n        var j = _g++;\n        str += hex_chr.charAt(num >> j * 8 + 4 & 15) + hex_chr.charAt(num >> j * 8 & 15);\n      }\n      return str;\n    },\n    addme: function (x, y) {\n      var lsw = (x & 65535) + (y & 65535);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return msw << 16 | lsw & 65535;\n    },\n    bitAND: function (a, b) {\n      var lsb = a & 1 & (b & 1);\n      var msb31 = a >>> 1 & b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitXOR: function (a, b) {\n      var lsb = a & 1 ^ b & 1;\n      var msb31 = a >>> 1 ^ b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitOR: function (a, b) {\n      var lsb = a & 1 | b & 1;\n      var msb31 = a >>> 1 | b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    __class__: haxe.Md5\n  };\n  haxe.Timer = function (time_ms) {\n    var me = this;\n    this.id = window.setInterval(function () {\n      me.run();\n    }, time_ms);\n  };\n  haxe.Timer.__name__ = true;\n  haxe.Timer.delay = function (f, time_ms) {\n    var t = new haxe.Timer(time_ms);\n    t.run = function () {\n      t.stop();\n      f();\n    };\n    return t;\n  };\n  haxe.Timer.measure = function (f, pos) {\n    var t0 = haxe.Timer.stamp();\n    var r = f();\n    haxe.Log.trace(haxe.Timer.stamp() - t0 + \"s\", pos);\n    return r;\n  };\n  haxe.Timer.stamp = function () {\n    return new Date().getTime() / 1000;\n  };\n  haxe.Timer.prototype = {\n    run: function () {},\n    stop: function () {\n      if (this.id == null) return;\n      window.clearInterval(this.id);\n      this.id = null;\n    },\n    __class__: haxe.Timer\n  };\n  var js = js || {};\n  js.Boot = function () {};\n  js.Boot.__name__ = true;\n  js.Boot.__unhtml = function (s) {\n    return s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n  };\n  js.Boot.__trace = function (v, i) {\n    var msg = i != null ? i.fileName + \":\" + i.lineNumber + \": \" : \"\";\n    msg += js.Boot.__string_rec(v, \"\");\n    var d;\n    if (typeof document != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null) d.innerHTML += js.Boot.__unhtml(msg) + \"<br/>\";else if (typeof console != \"undefined\" && console.log != null) console.log(msg);\n  };\n  js.Boot.__clear_trace = function () {\n    var d = document.getElementById(\"haxe:trace\");\n    if (d != null) d.innerHTML = \"\";\n  };\n  js.Boot.isClass = function (o) {\n    return o.__name__;\n  };\n  js.Boot.isEnum = function (e) {\n    return e.__ename__;\n  };\n  js.Boot.getClass = function (o) {\n    return o.__class__;\n  };\n  js.Boot.__string_rec = function (o, s) {\n    if (o == null) return \"null\";\n    if (s.length >= 5) return \"<...>\";\n    var t = typeof o;\n    if (t == \"function\" && (o.__name__ || o.__ename__)) t = \"object\";\n    switch (t) {\n      case \"object\":\n        if (o instanceof Array) {\n          if (o.__enum__) {\n            if (o.length == 2) return o[0];\n            var str = o[0] + \"(\";\n            s += \"\\t\";\n            var _g1 = 2,\n              _g = o.length;\n            while (_g1 < _g) {\n              var i = _g1++;\n              if (i != 2) str += \",\" + js.Boot.__string_rec(o[i], s);else str += js.Boot.__string_rec(o[i], s);\n            }\n            return str + \")\";\n          }\n          var l = o.length;\n          var i;\n          var str = \"[\";\n          s += \"\\t\";\n          var _g = 0;\n          while (_g < l) {\n            var i1 = _g++;\n            str += (i1 > 0 ? \",\" : \"\") + js.Boot.__string_rec(o[i1], s);\n          }\n          str += \"]\";\n          return str;\n        }\n        var tostr;\n        try {\n          tostr = o.toString;\n        } catch (e) {\n          return \"???\";\n        }\n        if (tostr != null && tostr != Object.toString) {\n          var s2 = o.toString();\n          if (s2 != \"[object Object]\") return s2;\n        }\n        var k = null;\n        var str = \"{\\n\";\n        s += \"\\t\";\n        var hasp = o.hasOwnProperty != null;\n        for (var k in o) {\n          ;\n          if (hasp && !o.hasOwnProperty(k)) {\n            continue;\n          }\n          if (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\") {\n            continue;\n          }\n          if (str.length != 2) str += \", \\n\";\n          str += s + k + \" : \" + js.Boot.__string_rec(o[k], s);\n        }\n        s = s.substring(1);\n        str += \"\\n\" + s + \"}\";\n        return str;\n      case \"function\":\n        return \"<function>\";\n      case \"string\":\n        return o;\n      default:\n        return String(o);\n    }\n  };\n  js.Boot.__interfLoop = function (cc, cl) {\n    if (cc == null) return false;\n    if (cc == cl) return true;\n    var intf = cc.__interfaces__;\n    if (intf != null) {\n      var _g1 = 0,\n        _g = intf.length;\n      while (_g1 < _g) {\n        var i = _g1++;\n        var i1 = intf[i];\n        if (i1 == cl || js.Boot.__interfLoop(i1, cl)) return true;\n      }\n    }\n    return js.Boot.__interfLoop(cc.__super__, cl);\n  };\n  js.Boot.__instanceof = function (o, cl) {\n    try {\n      if (o instanceof cl) {\n        if (cl == Array) return o.__enum__ == null;\n        return true;\n      }\n      if (js.Boot.__interfLoop(o.__class__, cl)) return true;\n    } catch (e) {\n      if (cl == null) return false;\n    }\n    switch (cl) {\n      case Int:\n        return Math.ceil(o % 2147483648.0) === o;\n      case Float:\n        return typeof o == \"number\";\n      case Bool:\n        return o === true || o === false;\n      case String:\n        return typeof o == \"string\";\n      case Dynamic:\n        return true;\n      default:\n        if (o == null) return false;\n        if (cl == Class && o.__name__ != null) return true;else null;\n        if (cl == Enum && o.__ename__ != null) return true;else null;\n        return o.__enum__ == cl;\n    }\n  };\n  js.Boot.__cast = function (o, t) {\n    if (js.Boot.__instanceof(o, t)) return o;else throw \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\n  };\n  js.Lib = function () {};\n  js.Lib.__name__ = true;\n  js.Lib.debug = function () {\n    debugger;\n  };\n  js.Lib.alert = function (v) {\n    alert(js.Boot.__string_rec(v, \"\"));\n  };\n  js.Lib.eval = function (code) {\n    return eval(code);\n  };\n  js.Lib.setErrorHandler = function (f) {\n    js.Lib.onerror = f;\n  };\n  var $_;\n  function $bind(o, m) {\n    var f = function () {\n      return f.method.apply(f.scope, arguments);\n    };\n    f.scope = o;\n    f.method = m;\n    return f;\n  }\n  ;\n  if (Array.prototype.indexOf) HxOverrides.remove = function (a, o) {\n    var i = a.indexOf(o);\n    if (i == -1) return false;\n    a.splice(i, 1);\n    return true;\n  };else null;\n  Math.__name__ = [\"Math\"];\n  Math.NaN = Number.NaN;\n  Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;\n  Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n  Math.isFinite = function (i) {\n    return isFinite(i);\n  };\n  Math.isNaN = function (i) {\n    return isNaN(i);\n  };\n  String.prototype.__class__ = String;\n  String.__name__ = true;\n  Array.prototype.__class__ = Array;\n  Array.__name__ = true;\n  Date.prototype.__class__ = Date;\n  Date.__name__ = [\"Date\"];\n  var Int = {\n    __name__: [\"Int\"]\n  };\n  var Dynamic = {\n    __name__: [\"Dynamic\"]\n  };\n  var Float = Number;\n  Float.__name__ = [\"Float\"];\n  var Bool = Boolean;\n  Bool.__ename__ = [\"Bool\"];\n  var Class = {\n    __name__: [\"Class\"]\n  };\n  var Enum = {};\n  var Void = {\n    __ename__: [\"Void\"]\n  };\n  if (typeof document != \"undefined\") js.Lib.document = document;\n  if (typeof window != \"undefined\") {\n    js.Lib.window = window;\n    js.Lib.window.onerror = function (msg, url, line) {\n      var f = js.Lib.onerror;\n      if (f == null) return false;\n      return f(msg, [url + \":\" + line]);\n    };\n  }\n  com.wiris.js.JsPluginTools.main();\n  delete Array.prototype.__class__;\n})();\n(function () {\n  var HxOverrides = function () {};\n  HxOverrides.__name__ = true;\n  HxOverrides.dateStr = function (date) {\n    var m = date.getMonth() + 1;\n    var d = date.getDate();\n    var h = date.getHours();\n    var mi = date.getMinutes();\n    var s = date.getSeconds();\n    return date.getFullYear() + \"-\" + (m < 10 ? \"0\" + m : \"\" + m) + \"-\" + (d < 10 ? \"0\" + d : \"\" + d) + \" \" + (h < 10 ? \"0\" + h : \"\" + h) + \":\" + (mi < 10 ? \"0\" + mi : \"\" + mi) + \":\" + (s < 10 ? \"0\" + s : \"\" + s);\n  };\n  HxOverrides.strDate = function (s) {\n    switch (s.length) {\n      case 8:\n        var k = s.split(\":\");\n        var d = new Date();\n        d.setTime(0);\n        d.setUTCHours(k[0]);\n        d.setUTCMinutes(k[1]);\n        d.setUTCSeconds(k[2]);\n        return d;\n      case 10:\n        var k = s.split(\"-\");\n        return new Date(k[0], k[1] - 1, k[2], 0, 0, 0);\n      case 19:\n        var k = s.split(\" \");\n        var y = k[0].split(\"-\");\n        var t = k[1].split(\":\");\n        return new Date(y[0], y[1] - 1, y[2], t[0], t[1], t[2]);\n      default:\n        throw \"Invalid date format : \" + s;\n    }\n  };\n  HxOverrides.cca = function (s, index) {\n    var x = s.charCodeAt(index);\n    if (x != x) return undefined;\n    return x;\n  };\n  HxOverrides.substr = function (s, pos, len) {\n    if (pos != null && pos != 0 && len != null && len < 0) return \"\";\n    if (len == null) len = s.length;\n    if (pos < 0) {\n      pos = s.length + pos;\n      if (pos < 0) pos = 0;\n    } else if (len < 0) len = s.length + len - pos;\n    return s.substr(pos, len);\n  };\n  HxOverrides.remove = function (a, obj) {\n    var i = 0;\n    var l = a.length;\n    while (i < l) {\n      if (a[i] == obj) {\n        a.splice(i, 1);\n        return true;\n      }\n      i++;\n    }\n    return false;\n  };\n  HxOverrides.iter = function (a) {\n    return {\n      cur: 0,\n      arr: a,\n      hasNext: function () {\n        return this.cur < this.arr.length;\n      },\n      next: function () {\n        return this.arr[this.cur++];\n      }\n    };\n  };\n  var IntIter = function (min, max) {\n    this.min = min;\n    this.max = max;\n  };\n  IntIter.__name__ = true;\n  IntIter.prototype = {\n    next: function () {\n      return this.min++;\n    },\n    hasNext: function () {\n      return this.min < this.max;\n    },\n    __class__: IntIter\n  };\n  var Std = function () {};\n  Std.__name__ = true;\n  Std[\"is\"] = function (v, t) {\n    return js.Boot.__instanceof(v, t);\n  };\n  Std.string = function (s) {\n    return js.Boot.__string_rec(s, \"\");\n  };\n  Std[\"int\"] = function (x) {\n    return x | 0;\n  };\n  Std.parseInt = function (x) {\n    var v = parseInt(x, 10);\n    if (v == 0 && (HxOverrides.cca(x, 1) == 120 || HxOverrides.cca(x, 1) == 88)) v = parseInt(x);\n    if (isNaN(v)) return null;\n    return v;\n  };\n  Std.parseFloat = function (x) {\n    return parseFloat(x);\n  };\n  Std.random = function (x) {\n    return Math.floor(Math.random() * x);\n  };\n  var com = com || {};\n  if (!com.wiris) com.wiris = {};\n  if (!com.wiris.js) com.wiris.js = {};\n  com.wiris.js.JsPluginTools = function () {\n    this.tryReady();\n  };\n  com.wiris.js.JsPluginTools.__name__ = true;\n  com.wiris.js.JsPluginTools.main = function () {\n    var ev;\n    ev = com.wiris.js.JsPluginTools.getInstance();\n    haxe.Timer.delay($bind(ev, ev.tryReady), 100);\n  };\n  com.wiris.js.JsPluginTools.getInstance = function () {\n    if (com.wiris.js.JsPluginTools.instance == null) com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools();\n    return com.wiris.js.JsPluginTools.instance;\n  };\n  com.wiris.js.JsPluginTools.bypassEncapsulation = function () {\n    if (window.com == null) window.com = {};\n    if (window.com.wiris == null) window.com.wiris = {};\n    if (window.com.wiris.js == null) window.com.wiris.js = {};\n    if (window.com.wiris.js.JsPluginTools == null) window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance();\n  };\n  com.wiris.js.JsPluginTools.prototype = {\n    md5encode: function (content) {\n      return haxe.Md5.encode(content);\n    },\n    doLoad: function () {\n      this.ready = true;\n      com.wiris.js.JsPluginTools.instance = this;\n      com.wiris.js.JsPluginTools.bypassEncapsulation();\n    },\n    tryReady: function () {\n      this.ready = false;\n      if (js.Lib.document.readyState) {\n        this.doLoad();\n        this.ready = true;\n      }\n      if (!this.ready) haxe.Timer.delay($bind(this, this.tryReady), 100);\n    },\n    __class__: com.wiris.js.JsPluginTools\n  };\n  var haxe = haxe || {};\n  haxe.Log = function () {};\n  haxe.Log.__name__ = true;\n  haxe.Log.trace = function (v, infos) {\n    js.Boot.__trace(v, infos);\n  };\n  haxe.Log.clear = function () {\n    js.Boot.__clear_trace();\n  };\n  haxe.Md5 = function () {};\n  haxe.Md5.__name__ = true;\n  haxe.Md5.encode = function (s) {\n    return new haxe.Md5().doEncode(s);\n  };\n  haxe.Md5.prototype = {\n    doEncode: function (str) {\n      var x = this.str2blks(str);\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n      var step;\n      var i = 0;\n      while (i < x.length) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        step = 0;\n        a = this.ff(a, b, c, d, x[i], 7, -680876936);\n        d = this.ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = this.ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = this.ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = this.ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = this.ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = this.ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = this.ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = this.ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = this.ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = this.ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = this.ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = this.ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = this.ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = this.ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = this.ff(b, c, d, a, x[i + 15], 22, 1236535329);\n        a = this.gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = this.gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = this.gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = this.gg(b, c, d, a, x[i], 20, -373897302);\n        a = this.gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = this.gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = this.gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = this.gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = this.gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = this.gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = this.gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = this.gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = this.gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = this.gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = this.gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = this.gg(b, c, d, a, x[i + 12], 20, -1926607734);\n        a = this.hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = this.hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = this.hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = this.hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = this.hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = this.hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = this.hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = this.hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = this.hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = this.hh(d, a, b, c, x[i], 11, -358537222);\n        c = this.hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = this.hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = this.hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = this.hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = this.hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = this.hh(b, c, d, a, x[i + 2], 23, -995338651);\n        a = this.ii(a, b, c, d, x[i], 6, -198630844);\n        d = this.ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = this.ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = this.ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = this.ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = this.ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = this.ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = this.ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = this.ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = this.ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = this.ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = this.ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = this.ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = this.ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = this.ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = this.ii(b, c, d, a, x[i + 9], 21, -343485551);\n        a = this.addme(a, olda);\n        b = this.addme(b, oldb);\n        c = this.addme(c, oldc);\n        d = this.addme(d, oldd);\n        i += 16;\n      }\n      return this.rhex(a) + this.rhex(b) + this.rhex(c) + this.rhex(d);\n    },\n    ii: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(c, this.bitOR(b, ~d)), a, b, x, s, t);\n    },\n    hh: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitXOR(this.bitXOR(b, c), d), a, b, x, s, t);\n    },\n    gg: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, d), this.bitAND(c, ~d)), a, b, x, s, t);\n    },\n    ff: function (a, b, c, d, x, s, t) {\n      return this.cmn(this.bitOR(this.bitAND(b, c), this.bitAND(~b, d)), a, b, x, s, t);\n    },\n    cmn: function (q, a, b, x, s, t) {\n      return this.addme(this.rol(this.addme(this.addme(a, q), this.addme(x, t)), s), b);\n    },\n    rol: function (num, cnt) {\n      return num << cnt | num >>> 32 - cnt;\n    },\n    str2blks: function (str) {\n      var nblk = (str.length + 8 >> 6) + 1;\n      var blks = new Array();\n      var _g1 = 0,\n        _g = nblk * 16;\n      while (_g1 < _g) {\n        var i = _g1++;\n        blks[i] = 0;\n      }\n      var i = 0;\n      while (i < str.length) {\n        blks[i >> 2] |= HxOverrides.cca(str, i) << (str.length * 8 + i) % 4 * 8;\n        i++;\n      }\n      blks[i >> 2] |= 128 << (str.length * 8 + i) % 4 * 8;\n      var l = str.length * 8;\n      var k = nblk * 16 - 2;\n      blks[k] = l & 255;\n      blks[k] |= (l >>> 8 & 255) << 8;\n      blks[k] |= (l >>> 16 & 255) << 16;\n      blks[k] |= (l >>> 24 & 255) << 24;\n      return blks;\n    },\n    rhex: function (num) {\n      var str = \"\";\n      var hex_chr = \"0123456789abcdef\";\n      var _g = 0;\n      while (_g < 4) {\n        var j = _g++;\n        str += hex_chr.charAt(num >> j * 8 + 4 & 15) + hex_chr.charAt(num >> j * 8 & 15);\n      }\n      return str;\n    },\n    addme: function (x, y) {\n      var lsw = (x & 65535) + (y & 65535);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return msw << 16 | lsw & 65535;\n    },\n    bitAND: function (a, b) {\n      var lsb = a & 1 & (b & 1);\n      var msb31 = a >>> 1 & b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitXOR: function (a, b) {\n      var lsb = a & 1 ^ b & 1;\n      var msb31 = a >>> 1 ^ b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    bitOR: function (a, b) {\n      var lsb = a & 1 | b & 1;\n      var msb31 = a >>> 1 | b >>> 1;\n      return msb31 << 1 | lsb;\n    },\n    __class__: haxe.Md5\n  };\n  haxe.Timer = function (time_ms) {\n    var me = this;\n    this.id = window.setInterval(function () {\n      me.run();\n    }, time_ms);\n  };\n  haxe.Timer.__name__ = true;\n  haxe.Timer.delay = function (f, time_ms) {\n    var t = new haxe.Timer(time_ms);\n    t.run = function () {\n      t.stop();\n      f();\n    };\n    return t;\n  };\n  haxe.Timer.measure = function (f, pos) {\n    var t0 = haxe.Timer.stamp();\n    var r = f();\n    haxe.Log.trace(haxe.Timer.stamp() - t0 + \"s\", pos);\n    return r;\n  };\n  haxe.Timer.stamp = function () {\n    return new Date().getTime() / 1000;\n  };\n  haxe.Timer.prototype = {\n    run: function () {},\n    stop: function () {\n      if (this.id == null) return;\n      window.clearInterval(this.id);\n      this.id = null;\n    },\n    __class__: haxe.Timer\n  };\n  var js = js || {};\n  js.Boot = function () {};\n  js.Boot.__name__ = true;\n  js.Boot.__unhtml = function (s) {\n    return s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n  };\n  js.Boot.__trace = function (v, i) {\n    var msg = i != null ? i.fileName + \":\" + i.lineNumber + \": \" : \"\";\n    msg += js.Boot.__string_rec(v, \"\");\n    var d;\n    if (typeof document != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null) d.innerHTML += js.Boot.__unhtml(msg) + \"<br/>\";else if (typeof console != \"undefined\" && console.log != null) console.log(msg);\n  };\n  js.Boot.__clear_trace = function () {\n    var d = document.getElementById(\"haxe:trace\");\n    if (d != null) d.innerHTML = \"\";\n  };\n  js.Boot.isClass = function (o) {\n    return o.__name__;\n  };\n  js.Boot.isEnum = function (e) {\n    return e.__ename__;\n  };\n  js.Boot.getClass = function (o) {\n    return o.__class__;\n  };\n  js.Boot.__string_rec = function (o, s) {\n    if (o == null) return \"null\";\n    if (s.length >= 5) return \"<...>\";\n    var t = typeof o;\n    if (t == \"function\" && (o.__name__ || o.__ename__)) t = \"object\";\n    switch (t) {\n      case \"object\":\n        if (o instanceof Array) {\n          if (o.__enum__) {\n            if (o.length == 2) return o[0];\n            var str = o[0] + \"(\";\n            s += \"\\t\";\n            var _g1 = 2,\n              _g = o.length;\n            while (_g1 < _g) {\n              var i = _g1++;\n              if (i != 2) str += \",\" + js.Boot.__string_rec(o[i], s);else str += js.Boot.__string_rec(o[i], s);\n            }\n            return str + \")\";\n          }\n          var l = o.length;\n          var i;\n          var str = \"[\";\n          s += \"\\t\";\n          var _g = 0;\n          while (_g < l) {\n            var i1 = _g++;\n            str += (i1 > 0 ? \",\" : \"\") + js.Boot.__string_rec(o[i1], s);\n          }\n          str += \"]\";\n          return str;\n        }\n        var tostr;\n        try {\n          tostr = o.toString;\n        } catch (e) {\n          return \"???\";\n        }\n        if (tostr != null && tostr != Object.toString) {\n          var s2 = o.toString();\n          if (s2 != \"[object Object]\") return s2;\n        }\n        var k = null;\n        var str = \"{\\n\";\n        s += \"\\t\";\n        var hasp = o.hasOwnProperty != null;\n        for (var k in o) {\n          ;\n          if (hasp && !o.hasOwnProperty(k)) {\n            continue;\n          }\n          if (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\") {\n            continue;\n          }\n          if (str.length != 2) str += \", \\n\";\n          str += s + k + \" : \" + js.Boot.__string_rec(o[k], s);\n        }\n        s = s.substring(1);\n        str += \"\\n\" + s + \"}\";\n        return str;\n      case \"function\":\n        return \"<function>\";\n      case \"string\":\n        return o;\n      default:\n        return String(o);\n    }\n  };\n  js.Boot.__interfLoop = function (cc, cl) {\n    if (cc == null) return false;\n    if (cc == cl) return true;\n    var intf = cc.__interfaces__;\n    if (intf != null) {\n      var _g1 = 0,\n        _g = intf.length;\n      while (_g1 < _g) {\n        var i = _g1++;\n        var i1 = intf[i];\n        if (i1 == cl || js.Boot.__interfLoop(i1, cl)) return true;\n      }\n    }\n    return js.Boot.__interfLoop(cc.__super__, cl);\n  };\n  js.Boot.__instanceof = function (o, cl) {\n    try {\n      if (o instanceof cl) {\n        if (cl == Array) return o.__enum__ == null;\n        return true;\n      }\n      if (js.Boot.__interfLoop(o.__class__, cl)) return true;\n    } catch (e) {\n      if (cl == null) return false;\n    }\n    switch (cl) {\n      case Int:\n        return Math.ceil(o % 2147483648.0) === o;\n      case Float:\n        return typeof o == \"number\";\n      case Bool:\n        return o === true || o === false;\n      case String:\n        return typeof o == \"string\";\n      case Dynamic:\n        return true;\n      default:\n        if (o == null) return false;\n        if (cl == Class && o.__name__ != null) return true;else null;\n        if (cl == Enum && o.__ename__ != null) return true;else null;\n        return o.__enum__ == cl;\n    }\n  };\n  js.Boot.__cast = function (o, t) {\n    if (js.Boot.__instanceof(o, t)) return o;else throw \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\n  };\n  js.Lib = function () {};\n  js.Lib.__name__ = true;\n  js.Lib.debug = function () {\n    debugger;\n  };\n  js.Lib.alert = function (v) {\n    alert(js.Boot.__string_rec(v, \"\"));\n  };\n  js.Lib.eval = function (code) {\n    return eval(code);\n  };\n  js.Lib.setErrorHandler = function (f) {\n    js.Lib.onerror = f;\n  };\n  var $_;\n  function $bind(o, m) {\n    var f = function () {\n      return f.method.apply(f.scope, arguments);\n    };\n    f.scope = o;\n    f.method = m;\n    return f;\n  }\n  ;\n  if (Array.prototype.indexOf) HxOverrides.remove = function (a, o) {\n    var i = a.indexOf(o);\n    if (i == -1) return false;\n    a.splice(i, 1);\n    return true;\n  };else null;\n  Math.__name__ = [\"Math\"];\n  Math.NaN = Number.NaN;\n  Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;\n  Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n  Math.isFinite = function (i) {\n    return isFinite(i);\n  };\n  Math.isNaN = function (i) {\n    return isNaN(i);\n  };\n  String.prototype.__class__ = String;\n  String.__name__ = true;\n  Array.prototype.__class__ = Array;\n  Array.__name__ = true;\n  Date.prototype.__class__ = Date;\n  Date.__name__ = [\"Date\"];\n  var Int = {\n    __name__: [\"Int\"]\n  };\n  var Dynamic = {\n    __name__: [\"Dynamic\"]\n  };\n  var Float = Number;\n  Float.__name__ = [\"Float\"];\n  var Bool = Boolean;\n  Bool.__ename__ = [\"Bool\"];\n  var Class = {\n    __name__: [\"Class\"]\n  };\n  var Enum = {};\n  var Void = {\n    __ename__: [\"Void\"]\n  };\n  if (typeof document != \"undefined\") js.Lib.document = document;\n  if (typeof window != \"undefined\") {\n    js.Lib.window = window;\n    js.Lib.window.onerror = function (msg, url, line) {\n      var f = js.Lib.onerror;\n      if (f == null) return false;\n      return f(msg, [url + \":\" + line]);\n    };\n  }\n  com.wiris.js.JsPluginTools.main();\n})();\ndelete Array.prototype.__class__;\n// @codingStandardsIgnoreEnd\n\n//# sourceURL=webpack:///./integration-js/src/md5.js?");

/***/ }),

/***/ "./integration-js/src/modal.js":
/*!*************************************!*\
  !*** ./integration-js/src/modal.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ModalDialog; });\n/* harmony import */ var _popupmessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./popupmessage */ \"./integration-js/src/popupmessage.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stringmanager */ \"./integration-js/src/stringmanager.js\");\n\n\n\n\n\n\n/**\r\n * @typedef {Object} DeviceProperties\r\n * @property {String} DeviceProperties.orientation - Indicates of the orientation of the device.\r\n * @property {Boolean} DeviceProperties.isAndroid - True if the device is Android. False otherwise.\r\n * @property {Boolean} DeviceProperties.isIOS - True if the device is iOS. False otherwise.\r\n * @property {Boolean} DeviceProperties.isMobile - True if the device is a mobile one.\r\n * False otherwise.\r\n * @property {Boolean} DeviceProperties.isDesktop - True if the device is a desktop one.\r\n * False otherwise.\r\n */\n\nclass ModalDialog {\n  /**\r\n   * @classdesc\r\n   * This class represents a modal dialog. The modal dialog admits\r\n   * a {@link ContentManager} instance to manage the content of the dialog.\r\n   * @constructs\r\n   * @param {Object} modalDialogAttributes  - An object containing all modal dialog attributes.\r\n   */\n  constructor(modalDialogAttributes) {\n    this.attributes = modalDialogAttributes;\n\n    // Metrics.\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf('android') > -1;\n    const isIOS = ua.indexOf('ipad') > -1 || ua.indexOf('iphone') > -1;\n    this.iosSoftkeyboardOpened = false;\n    this.iosMeasureUnit = ua.indexOf('crios') === -1 ? '%' : 'vh';\n    this.iosDivHeight = \"100%\".concat(this.iosMeasureUnit);\n    const deviceWidth = window.outerWidth;\n    const deviceHeight = window.outerHeight;\n    const landscape = deviceWidth > deviceHeight;\n    const portrait = deviceWidth < deviceHeight;\n\n    // TODO: Detect isMobile without using editor metrics.\n    const isLandscape = landscape && this.attributes.height > deviceHeight;\n    const isPortrait = portrait && this.attributes.width > deviceWidth;\n    const isMobile = isLandscape || isPortrait;\n\n    // Obtain number of current instance.\n    this.instanceId = document.getElementsByClassName('wrs_modal_dialogContainer').length;\n\n    // Device object properties.\n\n    /**\r\n     * @type {DeviceProperties}\r\n     */\n    this.deviceProperties = {\n      orientation: landscape ? 'landscape' : 'portait',\n      isAndroid,\n      isIOS,\n      isMobile,\n      isDesktop: !isMobile && !isIOS && !isAndroid\n    };\n    this.properties = {\n      created: false,\n      state: '',\n      previousState: '',\n      position: {\n        bottom: 0,\n        right: 10\n      },\n      size: {\n        height: 338,\n        width: 580\n      }\n    };\n\n    /**\r\n     * Object to keep website's style before change it on lock scroll for mobile devices.\r\n     * @type {Object}\r\n     * @property {String} bodyStylePosition - Previous body style postion.\r\n     * @property {String} bodyStyleOverflow - Previous body style overflow.\r\n     * @property {String} htmlStyleOverflow - Previous body style overflow.\r\n     * @property {String} windowScrollX - Previous window's scroll Y.\r\n     * @property {String} windowScrollY - Previous window's scroll X.\r\n     */\n    this.websiteBeforeLockParameters = null;\n    let attributes = {};\n    attributes.class = 'wrs_modal_overlay';\n    attributes.id = this.getElementId(attributes.class);\n    this.overlay = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    attributes = {};\n    attributes.class = 'wrs_modal_title_bar';\n    attributes.id = this.getElementId(attributes.class);\n    this.titleBar = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    attributes = {};\n    attributes.class = 'wrs_modal_title';\n    attributes.id = this.getElementId(attributes.class);\n    this.title = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    this.title.innerHTML = '';\n    attributes = {};\n    attributes.class = 'wrs_modal_close_button';\n    attributes.id = this.getElementId(attributes.class);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('close');\n    this.closeDiv = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('a', attributes);\n    this.closeDiv.setAttribute('role', 'button');\n    attributes = {};\n    attributes.class = 'wrs_modal_stack_button';\n    attributes.id = this.getElementId(attributes.class);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('exit_fullscreen');\n    this.stackDiv = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('a', attributes);\n    this.stackDiv.setAttribute('role', 'button');\n    attributes = {};\n    attributes.class = 'wrs_modal_maximize_button';\n    attributes.id = this.getElementId(attributes.class);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('fullscreen');\n    this.maximizeDiv = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('a', attributes);\n    this.maximizeDiv.setAttribute('role', 'button');\n    attributes = {};\n    attributes.class = 'wrs_modal_minimize_button';\n    attributes.id = this.getElementId(attributes.class);\n    attributes.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('minimize');\n    this.minimizeDiv = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('a', attributes);\n    this.minimizeDiv.setAttribute('role', 'button');\n    attributes = {};\n    attributes.class = 'wrs_modal_dialogContainer';\n    attributes.id = this.getElementId(attributes.class);\n    attributes.role = 'dialog';\n    this.container = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    this.container.setAttribute('aria-labeledby', 'wrs_modal_title[0]');\n    attributes = {};\n    attributes.class = 'wrs_modal_wrapper';\n    attributes.id = this.getElementId(attributes.class);\n    this.wrapper = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    attributes = {};\n    attributes.class = 'wrs_content_container';\n    attributes.id = this.getElementId(attributes.class);\n    this.contentContainer = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    attributes = {};\n    attributes.class = 'wrs_modal_controls';\n    attributes.id = this.getElementId(attributes.class);\n    this.controls = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n    attributes = {};\n    attributes.class = 'wrs_modal_buttons_container';\n    attributes.id = this.getElementId(attributes.class);\n    this.buttonContainer = _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createElement('div', attributes);\n\n    // Buttons: all button must be created using createSubmitButton method.\n    this.submitButton = this.createSubmitButton({\n      id: this.getElementId('wrs_modal_button_accept'),\n      class: 'wrs_modal_button_accept',\n      innerHTML: _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('accept')\n    }, this.submitAction.bind(this));\n    this.cancelButton = this.createSubmitButton({\n      id: this.getElementId('wrs_modal_button_cancel'),\n      class: 'wrs_modal_button_cancel',\n      innerHTML: _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('cancel')\n    }, this.cancelAction.bind(this));\n    this.contentManager = null;\n\n    // Overlay popup.\n    const popupStrings = {\n      cancelString: _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('cancel'),\n      submitString: _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('close'),\n      message: _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('close_modal_warning')\n    };\n    const callbacks = {\n      closeCallback: () => {\n        this.close();\n      },\n      cancelCallback: () => {\n        this.focus();\n      }\n    };\n    const popupupProperties = {\n      overlayElement: this.container,\n      callbacks,\n      strings: popupStrings\n    };\n    this.popup = new _popupmessage__WEBPACK_IMPORTED_MODULE_0__[\"default\"](popupupProperties);\n\n    /**\r\n    * Indicates if directionality of the modal dialog is RTL. false by default.\r\n    * @type {Boolean}\r\n    */\n    this.rtl = false;\n    if ('rtl' in this.attributes) {\n      this.rtl = this.attributes.rtl;\n    }\n\n    // Event handlers need modal instance context.\n    this.handleOpenedIosSoftkeyboard = this.handleOpenedIosSoftkeyboard.bind(this);\n    this.handleClosedIosSoftkeyboard = this.handleClosedIosSoftkeyboard.bind(this);\n  }\n\n  /**\r\n   * This method sets an ContentManager instance to ModalDialog. ContentManager\r\n   * manages the logic of ModalDialog content: submit, update, close and changes.\r\n   * @param {ContentManager} contentManager - ContentManager instance.\r\n   */\n  setContentManager(contentManager) {\n    this.contentManager = contentManager;\n  }\n\n  /**\r\n   * Returns the modal contentElement object.\r\n   * @returns {ContentManager} the instance of the ContentManager class.\r\n  */\n  getContentManager() {\n    return this.contentManager;\n  }\n\n  /**\r\n   * This method is called when the modal object has been submitted. Calls\r\n   * contentElement submitAction method - if exists - and closes the modal\r\n   * object. No logic about the content should be placed here,\r\n   * contentElement.submitAction is the responsible of the content logic.\r\n   */\n  submitAction() {\n    if (typeof this.contentManager.submitAction !== 'undefined') {\n      this.contentManager.submitAction();\n    }\n    this.close();\n  }\n\n  /**\r\n   * This method is called when the modal object has been cancelled. If\r\n   * contentElement has implemented hasChanges method, a confirm popup\r\n   * will be shown if hasChanges returns true.\r\n   */\n  cancelAction() {\n    if (typeof this.contentManager.hasChanges === 'undefined') {\n      this.close();\n    } else if (!this.contentManager.hasChanges()) {\n      this.close();\n    } else {\n      this.showPopUpMessage();\n    }\n  }\n\n  /**\r\n   * Returns a button element.\r\n   * @param {Object} properties - Input button properties.\r\n   * @param {String} properties.class - Input button class.\r\n   * @param {String} properties.innerHTML - Input button innerHTML.\r\n   * @param {Object} callback - Callback function associated to click event.\r\n   * @returns {HTMLButtonElement} The button element.\r\n   *\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  createSubmitButton(properties, callback) {\n    class SubmitButton {\n      constructor() {\n        this.element = document.createElement('button');\n        this.element.id = properties.id;\n        this.element.className = properties.class;\n        this.element.innerHTML = properties.innerHTML;\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(this.element, 'click', callback);\n      }\n      getElement() {\n        return this.element;\n      }\n    }\n    return new SubmitButton(properties, callback).getElement();\n  }\n\n  /**\r\n   * Creates the modal window object inserting a contentElement object.\r\n   */\n  create() {\n    /* Modal Window Structure\r\n    _____________________________________________________________________________________\r\n    |wrs_modal_dialog_Container                                                         |\r\n    | _________________________________________________________________________________ |\r\n    | |title_bar                          minimize_button  stack_button  close_button | |\r\n    | |_______________________________________________________________________________| |\r\n    | |wrapper                                                                        | |\r\n    | | _____________________________________________________________________________ | |\r\n    | | |content                                                                    | | |\r\n    | | |                                                                           | | |\r\n    | | |                                                                           | | |\r\n    | | |___________________________________________________________________________| | |\r\n    | | _____________________________________________________________________________ | |\r\n    | | |controls                                                                   | | |\r\n    | | | ___________________________________                                       | | |\r\n    | | | |buttonContainer                  |                                       | | |\r\n    | | | | _______________________________ |                                       | | |\r\n    | | | | |button_accept | button_cancel| |                                       | | |\r\n    | | | |_|_____________ |______________|_|                                       | | |\r\n    | | |___________________________________________________________________________| | |\r\n    | |_______________________________________________________________________________| |\r\n    |___________________________________________________________________________________| */\n\n    this.titleBar.appendChild(this.closeDiv);\n    this.titleBar.appendChild(this.stackDiv);\n    this.titleBar.appendChild(this.maximizeDiv);\n    this.titleBar.appendChild(this.minimizeDiv);\n    this.titleBar.appendChild(this.title);\n    if (this.deviceProperties.isDesktop) {\n      this.container.appendChild(this.titleBar);\n    }\n    this.wrapper.appendChild(this.contentContainer);\n    this.wrapper.appendChild(this.controls);\n    this.controls.appendChild(this.buttonContainer);\n    this.buttonContainer.appendChild(this.submitButton);\n    this.buttonContainer.appendChild(this.cancelButton);\n    this.container.appendChild(this.wrapper);\n\n    // Check if browser has scrollBar before modal has modified.\n    this.recalculateScrollBar();\n    document.body.appendChild(this.container);\n    document.body.appendChild(this.overlay);\n    if (this.deviceProperties.isDesktop) {\n      // Desktop.\n      this.createModalWindowDesktop();\n      this.createResizeButtons();\n      this.addListeners();\n      // Maximize window only when the configuration is set and the device is not iOS or Android.\n      if (_configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('modalWindowFullScreen')) {\n        this.maximize();\n      }\n    } else if (this.deviceProperties.isAndroid) {\n      this.createModalWindowAndroid();\n    } else if (this.deviceProperties.isIOS && !this.deviceProperties.isMobile) {\n      this.createModalWindowIos();\n    }\n    if (this.contentManager != null) {\n      this.contentManager.insert(this);\n    }\n    this.properties.open = true;\n    this.properties.created = true;\n\n    // Checks language directionality.\n    if (this.isRTL()) {\n      this.container.style.right = \"\".concat(window.innerWidth - this.scrollbarWidth - this.container.offsetWidth, \"px\");\n      this.container.className += ' wrs_modal_rtl';\n    }\n  }\n\n  /**\r\n   * Creates a button in the modal object to resize it.\r\n   */\n  createResizeButtons() {\n    // This is a definition of Resize Button Bottom-Right.\n    this.resizerBR = document.createElement('div');\n    this.resizerBR.className = 'wrs_bottom_right_resizer';\n    this.resizerBR.innerHTML = '◢';\n    // This is a definition of Resize Button Top-Left.\n    this.resizerTL = document.createElement('div');\n    this.resizerTL.className = 'wrs_bottom_left_resizer';\n    // Append resize buttons to modal.\n    this.container.appendChild(this.resizerBR);\n    this.titleBar.appendChild(this.resizerTL);\n    // Add events to resize on click and drag.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(this.resizerBR, 'mousedown', this.activateResizeStateBR.bind(this));\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(this.resizerTL, 'mousedown', this.activateResizeStateTL.bind(this));\n  }\n\n  /**\r\n   * Initialize variables for Bottom-Right resize button\r\n   * @param {MouseEvent} mouseEvent - Mouse event.\r\n   */\n  activateResizeStateBR(mouseEvent) {\n    this.initializeResizeProperties(mouseEvent, false);\n  }\n\n  /**\r\n   * Initialize variables for Top-Left resize button\r\n   * @param {MouseEvent} mouseEvent - Mouse event.\r\n   */\n  activateResizeStateTL(mouseEvent) {\n    this.initializeResizeProperties(mouseEvent, true);\n  }\n\n  /**\r\n   * Common method to initialize variables at resize.\r\n   * @param {MouseEvent} mouseEvent - Mouse event.\r\n   */\n  initializeResizeProperties(mouseEvent, leftOption) {\n    // Apply class for disable involuntary select text when drag.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(document.body, 'wrs_noselect');\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.overlay, 'wrs_overlay_active');\n    this.resizeDataObject = {\n      x: this.eventClient(mouseEvent).X,\n      y: this.eventClient(mouseEvent).Y\n    };\n    // Save Initial state of modal to compare on drag and obtain the difference.\n    this.initialWidth = parseInt(this.container.style.width, 10);\n    this.initialHeight = parseInt(this.container.style.height, 10);\n    if (!leftOption) {\n      this.initialRight = parseInt(this.container.style.right, 10);\n      this.initialBottom = parseInt(this.container.style.bottom, 10);\n    } else {\n      this.leftScale = true;\n    }\n    if (!this.initialRight) {\n      this.initialRight = 0;\n    }\n    if (!this.initialBottom) {\n      this.initialBottom = 0;\n    }\n    // Disable mouse events on editor when we start to drag modal.\n    document.body.style['user-select'] = 'none';\n  }\n\n  /**\r\n   * This method opens the modal window, restoring the previous state, position and metrics,\r\n   * if exists. By default the modal object opens in stack mode.\r\n   */\n  open() {\n    // Removing close class.\n    this.removeClass('wrs_closed');\n    // Hiding keyboard for mobile devices.\n    const {\n      isIOS\n    } = this.deviceProperties;\n    const {\n      isAndroid\n    } = this.deviceProperties;\n    const {\n      isMobile\n    } = this.deviceProperties;\n    if (isIOS || isAndroid || isMobile) {\n      // Restore scale to 1.\n      this.restoreWebsiteScale();\n      this.lockWebsiteScroll();\n      // Due to editor wait we need to wait until editor focus.\n      setTimeout(() => {\n        this.hideKeyboard();\n      }, 400);\n    }\n\n    // New modal window. He need to create the whole object.\n    if (!this.properties.created) {\n      this.create();\n    } else {\n      // Previous state closed. Open method can be called even the previous state is open,\n      // for example updating the content of the modal object.\n      if (!this.properties.open) {\n        this.properties.open = true;\n\n        // Restoring the previous open state: if the modal object has been closed\n        // re-open it should preserve the state and the metrics.\n        if (!this.deviceProperties.isAndroid && !this.deviceProperties.isIOS) {\n          this.restoreState();\n        }\n      }\n\n      // Maximize window only when the configuration is set and the device is not iOs or Android.\n      if (this.deviceProperties.isDesktop && _configuration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get('modalWindowFullScreen')) {\n        this.maximize();\n      }\n\n      // In iOS we need to recalculate the size of the modal object because\n      // iOS keyboard is a float div which can overlay the modal object.\n      if (this.deviceProperties.isIOS) {\n        this.iosSoftkeyboardOpened = false;\n        this.setContainerHeight(\"\".concat(100 + this.iosMeasureUnit));\n      }\n    }\n    if (this.contentManager.isEditorLoaded === false) {\n      const listener = _listeners__WEBPACK_IMPORTED_MODULE_3__[\"default\"].newListener('onLoad', () => {\n        this.contentManager.onOpen(this);\n      });\n      this.contentManager.addListener(listener);\n    } else {\n      this.contentManager.onOpen(this);\n    }\n  }\n\n  /**\r\n   * Closes modal window and restores viewport header.\r\n   */\n  close() {\n    this.removeClass('wrs_maximized');\n    this.removeClass('wrs_minimized');\n    this.removeClass('wrs_stack');\n    this.addClass('wrs_closed');\n    this.saveModalProperties();\n    this.unlockWebsiteScroll();\n    this.properties.open = false;\n  }\n\n  /**\r\n   * Sets the website scale to one.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  restoreWebsiteScale() {\n    let viewportmeta = document.querySelector('meta[name=viewport]');\n    // Let the equal symbols in order to search and make meta's final content.\n    const contentAttrsToUpdate = ['initial-scale=', 'minimum-scale=', 'maximum-scale='];\n    const contentAttrsValuesToUpdate = ['1.0', '1.0', '1.0'];\n    const setMetaAttrFunc = (viewportelement, contentAttrs) => {\n      const contentAttr = viewportelement.getAttribute('content');\n      // If it exists, we need to maintain old values and put our values.\n      if (contentAttr) {\n        const attrArray = contentAttr.split(',');\n        let finalContentMeta = '';\n        const oldAttrs = [];\n        for (let i = 0; i < attrArray.length; i += 1) {\n          let isAttrToUpdate = false;\n          let j = 0;\n          while (!isAttrToUpdate && j < contentAttrs.length) {\n            if (attrArray[i].indexOf(contentAttrs[j])) {\n              isAttrToUpdate = true;\n            }\n            j += 1;\n          }\n          if (!isAttrToUpdate) {\n            oldAttrs.push(attrArray[i]);\n          }\n        }\n        for (let i = 0; i < contentAttrs.length; i += 1) {\n          const attr = contentAttrs[i] + contentAttrsValuesToUpdate[i];\n          finalContentMeta += i === 0 ? attr : \",\".concat(attr);\n        }\n        for (let i = 0; i < oldAttrs.length; i += 1) {\n          finalContentMeta += \",\".concat(oldAttrs[i]);\n        }\n        viewportelement.setAttribute('content', finalContentMeta);\n        // It needs to set to empty because setAttribute refresh only when attribute is different.\n        viewportelement.setAttribute('content', '');\n        viewportelement.setAttribute('content', contentAttr);\n      } else {\n        viewportelement.setAttribute('content', 'initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0');\n        viewportelement.removeAttribute('content');\n      }\n    };\n    if (!viewportmeta) {\n      viewportmeta = document.createElement('meta');\n      document.getElementsByTagName('head')[0].appendChild(viewportmeta);\n      setMetaAttrFunc(viewportmeta, contentAttrsToUpdate, contentAttrsValuesToUpdate);\n      viewportmeta.remove();\n    } else {\n      setMetaAttrFunc(viewportmeta, contentAttrsToUpdate, contentAttrsValuesToUpdate);\n    }\n  }\n\n  /**\r\n   * Locks website scroll for mobile devices.\r\n   */\n  lockWebsiteScroll() {\n    this.websiteBeforeLockParameters = {\n      bodyStylePosition: document.body.style.position ? document.body.style.position : '',\n      bodyStyleOverflow: document.body.style.overflow ? document.body.style.overflow : '',\n      htmlStyleOverflow: document.documentElement.style.overflow ? document.documentElement.style.overflow : '',\n      windowScrollX: window.scrollX,\n      windowScrollY: window.scrollY\n    };\n  }\n\n  /**\r\n   * Unlocks website scroll for mobile devices.\r\n   */\n  unlockWebsiteScroll() {\n    if (this.websiteBeforeLockParameters) {\n      document.body.style.position = this.websiteBeforeLockParameters.bodyStylePosition;\n      document.body.style.overflow = this.websiteBeforeLockParameters.bodyStyleOverflow;\n      document.documentElement.style.overflow = this.websiteBeforeLockParameters.htmlStyleOverflow;\n      const {\n        windowScrollX\n      } = this.websiteBeforeLockParameters;\n      const {\n        windowScrollY\n      } = this.websiteBeforeLockParameters;\n      window.scrollTo(windowScrollX, windowScrollY);\n      this.websiteBeforeLockParameters = null;\n    }\n  }\n\n  /**\r\n   * Util function to known if browser is IE11.\r\n   * @returns {Boolean} true if the browser is IE11. false otherwise.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  isIE11() {\n    if (navigator.userAgent.search('Msie/') >= 0 || navigator.userAgent.search('Trident/') >= 0 || navigator.userAgent.search('Edge/') >= 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\r\n   * Returns if the current language type is RTL.\r\n   * @return {Boolean} true if current language is RTL. false otherwise.\r\n   */\n  isRTL() {\n    if (this.attributes.language === 'ar' || this.attributes.language === 'he') {\n      return true;\n    }\n    return this.rtl;\n  }\n\n  /**\r\n   * Adds a class to all modal ModalDialog DOM elements.\r\n   * @param {String} className - Class name.\r\n   */\n  addClass(className) {\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.overlay, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.titleBar, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.overlay, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.container, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.contentContainer, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.stackDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.minimizeDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.maximizeDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.wrapper, className);\n  }\n\n  /**\r\n   * Remove a class from all modal DOM elements.\r\n   * @param {String} className - Class name.\r\n   */\n  removeClass(className) {\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.overlay, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.titleBar, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.overlay, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.container, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.contentContainer, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.stackDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.minimizeDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.maximizeDiv, className);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.wrapper, className);\n  }\n\n  /**\r\n   * Create modal dialog for desktop.\r\n   */\n  createModalWindowDesktop() {\n    this.addClass('wrs_modal_desktop');\n    this.stack();\n  }\n\n  /**\r\n   * Create modal dialog for non android devices.\r\n   */\n  createModalWindowAndroid() {\n    this.addClass('wrs_modal_android');\n    window.addEventListener('resize', this.orientationChangeAndroidSoftkeyboard.bind(this));\n  }\n\n  /**\r\n   * Create modal dialog for iOS devices.\r\n   */\n  createModalWindowIos() {\n    this.addClass('wrs_modal_ios');\n    // Refresh the size when the orientation is changed.\n    window.addEventListener('resize', this.orientationChangeIosSoftkeyboard.bind(this));\n  }\n\n  /**\r\n   * Restore previous state, position and size of previous stacked modal dialog.\r\n   */\n  restoreState() {\n    if (this.properties.state === 'maximized') {\n      // Reset states for prevent return to stack state.\n      this.maximize();\n    } else if (this.properties.state === 'minimized') {\n      // Reset states for prevent return to stack state.\n      this.properties.state = this.properties.previousState;\n      this.properties.previousState = '';\n      this.minimize();\n    } else {\n      this.stack();\n    }\n  }\n\n  /**\r\n   * Stacks the modal object.\r\n   */\n  stack() {\n    this.properties.previousState = this.properties.state;\n    this.properties.state = 'stack';\n    this.removeClass('wrs_maximized');\n    this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('minimize');\n    this.removeClass('wrs_minimized');\n    this.addClass('wrs_stack');\n    this.restoreModalProperties();\n    if (typeof this.resizerBR !== 'undefined' && typeof this.resizerTL !== 'undefined') {\n      this.setResizeButtonsVisibility();\n    }\n\n    // Need recalculate position of actual modal because window can was changed in fullscreenmode.\n    this.recalculateScrollBar();\n    this.recalculatePosition();\n    this.recalculateScale();\n    this.focus();\n  }\n\n  /**\r\n   * Minimizes the modal object.\r\n   */\n  minimize() {\n    // Saving width, height, top and bottom parameters to restore when opening.\n    this.saveModalProperties();\n    if (this.properties.state === 'minimized' && this.properties.previousState === 'stack') {\n      this.stack();\n    } else if (this.properties.state === 'minimized' && this.properties.previousState === 'maximized') {\n      this.maximize();\n    } else {\n      // Setting css to prevent important tag into css style.\n      this.container.style.height = '30px';\n      this.container.style.width = '250px';\n      this.container.style.bottom = '0px';\n      this.container.style.right = '10px';\n      this.removeListeners();\n      this.properties.previousState = this.properties.state;\n      this.properties.state = 'minimized';\n      this.setResizeButtonsVisibility();\n      this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('maximize');\n      if (_util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].containsClass(this.overlay, 'wrs_stack')) {\n        this.removeClass('wrs_stack');\n      } else {\n        this.removeClass('wrs_maximized');\n      }\n      this.addClass('wrs_minimized');\n    }\n  }\n\n  /**\r\n   * Maximizes the modal object.\r\n   */\n  maximize() {\n    // Saving width, height, top and bottom parameters to restore when openning.\n    this.saveModalProperties();\n    if (this.properties.state !== 'maximized') {\n      this.properties.previousState = this.properties.state;\n      this.properties.state = 'maximized';\n    }\n    // Don't permit resize on maximize mode.\n    this.setResizeButtonsVisibility();\n    if (_util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].containsClass(this.overlay, 'wrs_minimized')) {\n      this.minimizeDiv.title = _stringmanager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get('minimize');\n      this.removeClass('wrs_minimized');\n    } else if (_util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].containsClass(this.overlay, 'wrs_stack')) {\n      this.container.style.left = null;\n      this.container.style.top = null;\n      this.removeClass('wrs_stack');\n    }\n    this.addClass('wrs_maximized');\n\n    // Set size to 80% screen with a max size.\n    this.setSize(parseInt(window.innerHeight * 0.8, 10), parseInt(window.innerWidth * 0.8, 10));\n    if (this.container.clientHeight > 700) {\n      this.container.style.height = '700px';\n    }\n    if (this.container.clientWidth > 1200) {\n      this.container.style.width = '1200px';\n    }\n\n    // Setting modal position in center on screen.\n    const {\n      innerHeight\n    } = window;\n    const {\n      innerWidth\n    } = window;\n    const {\n      offsetHeight\n    } = this.container;\n    const {\n      offsetWidth\n    } = this.container;\n    const bottom = innerHeight / 2 - offsetHeight / 2;\n    const right = innerWidth / 2 - offsetWidth / 2;\n    this.setPosition(bottom, right);\n    this.recalculateScale();\n    this.recalculatePosition();\n    this.recalculateSize();\n    this.focus();\n  }\n\n  /**\r\n   * Sets modal size.\r\n   * @param {Number} height - Height of the ModalDialog\r\n   * @param {Number} width - Width of the ModalDialog.\r\n   */\n  setSize(height, width) {\n    this.container.style.height = \"\".concat(height, \"px\");\n    this.container.style.width = \"\".concat(width, \"px\");\n    this.recalculateSize();\n  }\n\n  /**\r\n   * Sets modal position using bottom and right style attributes.\r\n   * @param  {number} bottom - bottom attribute.\r\n   * @param  {number} right - right attribute.\r\n   */\n  setPosition(bottom, right) {\n    this.container.style.bottom = \"\".concat(bottom, \"px\");\n    this.container.style.right = \"\".concat(right, \"px\");\n  }\n\n  /**\r\n   * Saves position and size parameters of and open ModalDialog. This attributes\r\n   * are needed to restore it on re-open.\r\n   */\n  saveModalProperties() {\n    // Saving values of modal only when modal is in stack state.\n    if (this.properties.state === 'stack') {\n      this.properties.position.bottom = parseInt(this.container.style.bottom, 10);\n      this.properties.position.right = parseInt(this.container.style.right, 10);\n      this.properties.size.width = parseInt(this.container.style.width, 10);\n      this.properties.size.height = parseInt(this.container.style.height, 10);\n    }\n  }\n\n  /**\r\n   * Restore ModalDialog position and size parameters.\r\n   */\n  restoreModalProperties() {\n    if (this.properties.state === 'stack') {\n      // Restoring Bottom and Right values from last modal.\n      this.setPosition(this.properties.position.bottom, this.properties.position.right);\n      // Restoring Height and Left values from last modal.\n      this.setSize(this.properties.size.height, this.properties.size.width);\n    }\n  }\n\n  /**\r\n   * Sets the modal dialog initial size.\r\n   */\n  recalculateSize() {\n    this.wrapper.style.width = \"\".concat(this.container.clientWidth - 12, \"px\");\n    this.wrapper.style.height = \"\".concat(this.container.clientHeight - 38, \"px\");\n    this.contentContainer.style.height = \"\".concat(parseInt(this.wrapper.offsetHeight - 50, 10), \"px\");\n  }\n\n  /**\r\n   * Enable or disable visibility of resize buttons in modal window depend on state.\r\n   */\n  setResizeButtonsVisibility() {\n    if (this.properties.state === 'stack') {\n      this.resizerTL.style.visibility = 'visible';\n      this.resizerBR.style.visibility = 'visible';\n    } else {\n      this.resizerTL.style.visibility = 'hidden';\n      this.resizerBR.style.visibility = 'hidden';\n    }\n  }\n\n  /**\r\n   * Makes an object draggable adding mouse and touch events.\r\n   */\n  addListeners() {\n    // Button events (maximize, minimize, stack and close).\n    this.maximizeDiv.addEventListener('click', this.maximize.bind(this), true);\n    this.stackDiv.addEventListener('click', this.stack.bind(this), true);\n    this.minimizeDiv.addEventListener('click', this.minimize.bind(this), true);\n    this.closeDiv.addEventListener('click', this.cancelAction.bind(this));\n\n    // Overlay events (close).\n    this.overlay.addEventListener('click', this.cancelAction.bind(this));\n\n    // Mouse events.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(window, 'mousedown', this.startDrag.bind(this));\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(window, 'mouseup', this.stopDrag.bind(this));\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(window, 'mousemove', this.drag.bind(this));\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(window, 'resize', this.onWindowResize.bind(this));\n    // Key events.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addEvent(this.container, 'keydown', this.onKeyDown.bind(this));\n  }\n\n  /**\r\n   * Removes draggable events from an object.\r\n   */\n  removeListeners() {\n    // Mouse events.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeEvent(window, 'mousedown', this.startDrag);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeEvent(window, 'mouseup', this.stopDrag);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeEvent(window, 'mousemove', this.drag);\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeEvent(window, 'resize', this.onWindowResize);\n    // Key events.\n    _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeEvent(this.container, 'keydown', this.onKeyDown);\n  }\n\n  /**\r\n   * Returns mouse or touch coordinates (on touch events ev.ClientX doesn't exists)\r\n   * @param {MouseEvent} mouseEvent - Mouse event.\r\n   * @return {Object} With the X and Y coordinates.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  eventClient(mouseEvent) {\n    if (typeof mouseEvent.clientX === 'undefined' && mouseEvent.changedTouches) {\n      const client = {\n        X: mouseEvent.changedTouches[0].clientX,\n        Y: mouseEvent.changedTouches[0].clientY\n      };\n      return client;\n    }\n    const client = {\n      X: mouseEvent.clientX,\n      Y: mouseEvent.clientY\n    };\n    return client;\n  }\n\n  /**\r\n   * Start drag function: set the object dragDataObject with the draggable\r\n   * object offsets coordinates.\r\n   * when drag starts (on touchstart or mousedown events).\r\n   * @param {MouseEvent} mouseEvent - Touchstart or mousedown event.\r\n   */\n  startDrag(mouseEvent) {\n    if (this.properties.state === 'minimized') {\n      return;\n    }\n    if (mouseEvent.target === this.title) {\n      if (typeof this.dragDataObject === 'undefined' || this.dragDataObject === null) {\n        // Save first click mouse point on screen.\n        this.dragDataObject = {\n          x: this.eventClient(mouseEvent).X,\n          y: this.eventClient(mouseEvent).Y\n        };\n        // Reset last drag position when start drag.\n        this.lastDrag = {\n          x: '0px',\n          y: '0px'\n        };\n        // Init right and bottom values for window modal if it isn't exist.\n        if (this.container.style.right === '') {\n          this.container.style.right = '0px';\n        }\n        if (this.container.style.bottom === '') {\n          this.container.style.bottom = '0px';\n        }\n\n        // Needed for IE11 for apply disabled mouse events on editor because\n        // iexplorer need a dinamic object to apply this property.\n        if (this.isIE11()) {\n          // this.iframe.style['position'] = 'relative';\n        }\n        // Apply class for disable involuntary select text when drag.\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(document.body, 'wrs_noselect');\n        _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addClass(this.overlay, 'wrs_overlay_active');\n        // Obtain screen limits for prevent overflow.\n        this.limitWindow = this.getLimitWindow();\n      }\n    }\n  }\n\n  /**\r\n   * Updates dragDataObject with the draggable object coordinates when\r\n   * the draggable object is being moved.\r\n   * @param {MouseEvent} mouseEvent - The mouse event.\r\n   */\n  drag(mouseEvent) {\n    if (this.dragDataObject) {\n      mouseEvent.preventDefault();\n      // Calculate max and min between actual mouse position and limit of screeen.\n      // It restric the movement of modal into window.\n      let limitY = Math.min(this.eventClient(mouseEvent).Y, this.limitWindow.minPointer.y);\n      limitY = Math.max(this.limitWindow.maxPointer.y, limitY);\n      let limitX = Math.min(this.eventClient(mouseEvent).X, this.limitWindow.minPointer.x);\n      limitX = Math.max(this.limitWindow.maxPointer.x, limitX);\n      // Substract limit with first position to obtain relative pixels increment\n      // to the anchor point.\n      const dragX = \"\".concat(limitX - this.dragDataObject.x, \"px\");\n      const dragY = \"\".concat(limitY - this.dragDataObject.y, \"px\");\n      // Save last valid position of modal before window overflow.\n      this.lastDrag = {\n        x: dragX,\n        y: dragY\n      };\n      // This move modal with hadware acceleration.\n      this.container.style.transform = \"translate3d(\".concat(dragX, \",\").concat(dragY, \",0)\");\n    }\n    if (this.resizeDataObject) {\n      const {\n        innerWidth\n      } = window;\n      const {\n        innerHeight\n      } = window;\n      let limitX = Math.min(this.eventClient(mouseEvent).X, innerWidth - this.scrollbarWidth - 7);\n      let limitY = Math.min(this.eventClient(mouseEvent).Y, innerHeight - 7);\n      if (limitX < 0) {\n        limitX = 0;\n      }\n      if (limitY < 0) {\n        limitY = 0;\n      }\n      let scaleMultiplier;\n      if (this.leftScale) {\n        scaleMultiplier = -1;\n      } else {\n        scaleMultiplier = 1;\n      }\n      this.container.style.width = \"\".concat(this.initialWidth + scaleMultiplier * (limitX - this.resizeDataObject.x), \"px\");\n      this.container.style.height = \"\".concat(this.initialHeight + scaleMultiplier * (limitY - this.resizeDataObject.y), \"px\");\n      if (!this.leftScale) {\n        if (this.resizeDataObject.x - limitX - this.initialWidth < -580) {\n          this.container.style.right = \"\".concat(this.initialRight - (limitX - this.resizeDataObject.x), \"px\");\n        } else {\n          this.container.style.right = \"\".concat(this.initialRight + this.initialWidth - 580, \"px\");\n          this.container.style.width = '580px';\n        }\n        if (this.resizeDataObject.y - limitY < this.initialHeight - 338) {\n          this.container.style.bottom = \"\".concat(this.initialBottom - (limitY - this.resizeDataObject.y), \"px\");\n        } else {\n          this.container.style.bottom = \"\".concat(this.initialBottom + this.initialHeight - 338, \"px\");\n          this.container.style.height = '338px';\n        }\n      }\n      this.recalculateScale();\n      this.recalculatePosition();\n    }\n  }\n\n  /**\r\n   * Returns the boundaries of actual window to limit modal movement.\r\n   * @return {Object} Object containing mouseX and mouseY coordinates of actual mouse on screen.\r\n   */\n  getLimitWindow() {\n    // Obtain dimensions of window page.\n    const maxWidth = window.innerWidth;\n    const maxHeight = window.innerHeight;\n\n    // Calculate relative position of mouse point into window.\n    const {\n      offsetHeight\n    } = this.container;\n    const contStyleBottom = parseInt(this.container.style.bottom, 10);\n    const contStyleRight = parseInt(this.container.style.right, 10);\n    const {\n      pageXOffset\n    } = window;\n    const dragY = this.dragDataObject.y;\n    const dragX = this.dragDataObject.x;\n    const offSetToolbarY = offsetHeight + contStyleBottom - (maxHeight - (dragY - pageXOffset));\n    const offSetToolbarX = maxWidth - this.scrollbarWidth - (dragX - pageXOffset) - contStyleRight;\n\n    // Calculate limits with sizes of window, modal and mouse position.\n    const minPointerY = maxHeight - this.container.offsetHeight + offSetToolbarY;\n    const maxPointerY = this.title.offsetHeight - (this.title.offsetHeight - offSetToolbarY);\n    const minPointerX = maxWidth - offSetToolbarX - this.scrollbarWidth;\n    const maxPointerX = this.container.offsetWidth - offSetToolbarX;\n    const minPointer = {\n      x: minPointerX,\n      y: minPointerY\n    };\n    const maxPointer = {\n      x: maxPointerX,\n      y: maxPointerY\n    };\n    return {\n      minPointer,\n      maxPointer\n    };\n  }\n\n  /**\r\n   * Returns the scrollbar width size of browser\r\n   * @returns {Number} The scrollbar width.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  getScrollBarWidth() {\n    // Create a paragraph with full width of page.\n    const inner = document.createElement('p');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n\n    // Create a hidden div to compare sizes.\n    const outer = document.createElement('div');\n    outer.style.position = 'absolute';\n    outer.style.top = '0px';\n    outer.style.left = '0px';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '200px';\n    outer.style.height = '150px';\n    outer.style.overflow = 'hidden';\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    const widthOuter = inner.offsetWidth;\n\n    // Change type overflow of paragraph for measure scrollbar.\n    outer.style.overflow = 'scroll';\n    let widthInner = inner.offsetWidth;\n\n    // If measure is the same, we compare with internal div.\n    if (widthOuter === widthInner) {\n      widthInner = outer.clientWidth;\n    }\n    document.body.removeChild(outer);\n    return widthOuter - widthInner;\n  }\n\n  /**\r\n   * Set the dragDataObject to null.\r\n   */\n  stopDrag() {\n    // Due to we have multiple events that call this function, we need only to execute\n    // the next modifiers one time,\n    // when the user stops to drag and dragDataObject is not null (the object to drag is attached).\n    if (this.dragDataObject || this.resizeDataObject) {\n      // If modal doesn't change, it's not necessary to set position with interpolation.\n      this.container.style.transform = '';\n      if (this.dragDataObject) {\n        this.container.style.right = \"\".concat(parseInt(this.container.style.right, 10) - parseInt(this.lastDrag.x, 10), \"px\");\n        this.container.style.bottom = \"\".concat(parseInt(this.container.style.bottom, 10) - parseInt(this.lastDrag.y, 10), \"px\");\n      }\n      // We make focus on editor after drag modal windows to prevent lose focus.\n      this.focus();\n      // Restore mouse events on iframe.\n      // this.iframe.style['pointer-events'] = 'auto';\n      document.body.style['user-select'] = '';\n      // Restore static state of iframe if we use Internet Explorer.\n      if (this.isIE11()) {\n        // this.iframe.style['position'] = null;\n      }\n      // Active text select event.\n      _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(document.body, 'wrs_noselect');\n      _util__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeClass(this.overlay, 'wrs_overlay_active');\n    }\n    this.dragDataObject = null;\n    this.resizeDataObject = null;\n    this.initialWidth = null;\n    this.leftScale = null;\n  }\n\n  /**\r\n   * Recalculates scale for modal when resize browser window.\r\n   */\n  onWindowResize() {\n    this.recalculateScrollBar();\n    this.recalculatePosition();\n    this.recalculateScale();\n  }\n\n  /**\r\n   * Triggers keyboard events:\r\n   * - Tab key tab to go to submit button.\r\n   * - Esc key to close the modal dialog.\r\n   * @param {KeyboardEvent} keyboardEvent - The keyboard event.\r\n   */\n  onKeyDown(keyboardEvent) {\n    if (keyboardEvent.key !== undefined) {\n      // Popupmessage is not oppened.\n      if (this.popup.overlayWrapper.style.display !== 'block') {\n        // Code to detect Esc event\n        if (keyboardEvent.key === 'Escape' || keyboardEvent.key === 'Esc') {\n          if (this.properties.open) {\n            this.contentManager.onKeyDown(keyboardEvent);\n          }\n        } else if (keyboardEvent.shiftKey && keyboardEvent.key === 'Tab') {\n          // Code to detect shift Tab event.\n          if (document.activeElement === this.cancelButton) {\n            this.submitButton.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          } else {\n            this.contentManager.onKeyDown(keyboardEvent);\n          }\n        } else if (keyboardEvent.key === 'Tab') {\n          // Code to detect Tab event.\n          if (document.activeElement === this.submitButton) {\n            this.cancelButton.focus();\n            keyboardEvent.stopPropagation();\n            keyboardEvent.preventDefault();\n          } else {\n            this.contentManager.onKeyDown(keyboardEvent);\n          }\n        }\n      } else {\n        // Popupmessage oppened.\n        this.popup.onKeyDown(keyboardEvent);\n      }\n    }\n  }\n\n  /**\r\n   * Recalculating position for modal dialog when the browser is resized.\r\n   */\n  recalculatePosition() {\n    this.container.style.right = \"\".concat(Math.min(parseInt(this.container.style.right, 10), window.innerWidth - this.scrollbarWidth - this.container.offsetWidth), \"px\");\n    if (parseInt(this.container.style.right, 10) < 0) {\n      this.container.style.right = '0px';\n    }\n    this.container.style.bottom = \"\".concat(Math.min(parseInt(this.container.style.bottom, 10), window.innerHeight - this.container.offsetHeight), \"px\");\n    if (parseInt(this.container.style.bottom, 10) < 0) {\n      this.container.style.bottom = '0px';\n    }\n  }\n\n  /**\r\n   * Recalculating scale for modal when the browser is resized.\r\n   */\n  recalculateScale() {\n    let sizeModificated = false;\n    if (parseInt(this.container.style.width, 10) > 580) {\n      this.container.style.width = \"\".concat(Math.min(parseInt(this.container.style.width, 10), window.innerWidth - this.scrollbarWidth), \"px\");\n      sizeModificated = true;\n    } else {\n      this.container.style.width = '580px';\n      sizeModificated = true;\n    }\n    if (parseInt(this.container.style.height, 10) > 338) {\n      this.container.style.height = \"\".concat(Math.min(parseInt(this.container.style.height, 10), window.innerHeight), \"px\");\n      sizeModificated = true;\n    } else {\n      this.container.style.height = '338px';\n      sizeModificated = true;\n    }\n    if (sizeModificated) {\n      this.recalculateSize();\n    }\n  }\n\n  /**\r\n   * Recalculating width of browser scroll bar.\r\n   */\n  recalculateScrollBar() {\n    this.hasScrollBar = window.innerWidth > document.documentElement.clientWidth;\n    if (this.hasScrollBar) {\n      this.scrollbarWidth = this.getScrollBarWidth();\n    } else {\n      this.scrollbarWidth = 0;\n    }\n  }\n\n  /**\r\n   * Hide soft keyboards on iOS devices.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  hideKeyboard() {\n    // iOS keyboard can't be detected or hide directly from JavaScript.\n    // So, this method simulates that user focus a text input and blur\n    // the selection.\n    const inputField = document.createElement('input');\n    this.container.appendChild(inputField);\n    inputField.focus();\n    inputField.blur();\n    // Is removed to not see it.\n    inputField.remove();\n  }\n\n  /**\r\n   * Focus to contentManager object.\r\n   */\n  focus() {\n    if (this.contentManager != null && typeof this.contentManager.onFocus !== 'undefined') {\n      this.contentManager.onFocus();\n    }\n  }\n\n  /**\r\n   * Returns true when the device is on portrait mode.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  portraitMode() {\n    return window.innerHeight > window.innerWidth;\n  }\n\n  /**\r\n   * Event handler that change container size when IOS softkeyboard is opened.\r\n   */\n  handleOpenedIosSoftkeyboard() {\n    if (!this.iosSoftkeyboardOpened && this.iosDivHeight != null && this.iosDivHeight === \"100\".concat(this.iosMeasureUnit)) {\n      if (this.portraitMode()) {\n        this.setContainerHeight(\"63\".concat(this.iosMeasureUnit));\n      } else {\n        this.setContainerHeight(\"40\".concat(this.iosMeasureUnit));\n      }\n    }\n    this.iosSoftkeyboardOpened = true;\n  }\n\n  /**\r\n   * Event handler that change container size when IOS softkeyboard is closed.\r\n   */\n  handleClosedIosSoftkeyboard() {\n    this.iosSoftkeyboardOpened = false;\n    this.setContainerHeight(\"100\".concat(this.iosMeasureUnit));\n  }\n\n  /**\r\n   * Change container sizes when orientation is changed on iOS.\r\n   */\n  orientationChangeIosSoftkeyboard() {\n    if (this.iosSoftkeyboardOpened) {\n      if (this.portraitMode()) {\n        this.setContainerHeight(\"63\".concat(this.iosMeasureUnit));\n      } else {\n        this.setContainerHeight(\"40\".concat(this.iosMeasureUnit));\n      }\n    } else {\n      this.setContainerHeight(\"100\".concat(this.iosMeasureUnit));\n    }\n  }\n\n  /**\r\n   * Change container sizes when orientation is changed on Android.\r\n   */\n  orientationChangeAndroidSoftkeyboard() {\n    this.setContainerHeight('100%');\n  }\n\n  /**\r\n   * Set iframe container height.\r\n   * @param {Number} height - New height.\r\n   */\n  setContainerHeight(height) {\n    this.iosDivHeight = height;\n    this.wrapper.style.height = height;\n  }\n\n  /**\r\n   * Check content of editor before close action.\r\n   */\n  showPopUpMessage() {\n    if (this.properties.state === 'minimized') {\n      this.stack();\n    }\n    this.popup.show();\n  }\n\n  /**\r\n   * Sets the tithle of the modal dialog.\r\n   * @param {String} title - Modal dialog title.\r\n   */\n  setTitle(title) {\n    this.title.innerHTML = title;\n  }\n\n  /**\r\n   * Returns the id of an element, adding the instance number to\r\n   * the element class name:\r\n   * className --> className[idNumber]\r\n   * @param {String} className - The element class name.\r\n   * @returns {String} A string appending the instance id to the className.\r\n   */\n  getElementId(className) {\n    return \"\".concat(className, \"[\").concat(this.instanceId, \"]\");\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/modal.js?");

/***/ }),

/***/ "./integration-js/src/parser.js":
/*!**************************************!*\
  !*** ./integration-js/src/parser.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Parser; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./latex */ \"./integration-js/src/latex.js\");\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./image */ \"./integration-js/src/image.js\");\n/* harmony import */ var _accessibility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accessibility */ \"./integration-js/src/accessibility.js\");\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./constants */ \"./integration-js/src/constants.js\");\n/* harmony import */ var _md5__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./md5 */ \"./integration-js/src/md5.js\");\n\n\n\n\n\n\n\n\n// eslint-disable-next-line no-unused-vars\n\n\n/**\r\n * @classdesc\r\n * This class represent a MahML parser. Converts MathML into formulas depending on the\r\n * image format (SVG, PNG, base64) and the save mode (XML, safeXML, Image) configured\r\n * in the backend.\r\n */\nclass Parser {\n  /**\r\n   * Converts a MathML string to an img element.\r\n   * @param {Document} creator - Document object to call createElement method.\r\n   * @param {string} mathml - MathML code\r\n   * @param {Object[]} wirisProperties - object containing WIRIS custom properties\r\n   * @param {language} language - custom language for accessibility.\r\n   * @returns {HTMLImageElement} the formula image corresponding to initial MathML string.\r\n   * @static\r\n   */\n  static mathmlToImgObject(creator, mathml, wirisProperties, language) {\n    const imgObject = creator.createElement('img');\n    imgObject.align = 'middle';\n    imgObject.style.maxWidth = 'none';\n    const data = wirisProperties || {};\n    data.mml = mathml;\n    data.lang = language;\n    // Request metrics of the generated image.\n    data.metrics = 'true';\n    data.centerbaseline = 'false';\n\n    // Full base64 method (edit & save).\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default') {\n      data.base64 = true;\n    }\n\n    // Render js params: _wrs_int_wirisProperties contains some js render params.\n    // Since MathML can support render params, js params should be send only to editor.\n\n    imgObject.className = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName');\n    if (mathml.indexOf('class=\"') !== -1) {\n      // We check here if the MathML has been created from a customEditor (such chemistry)\n      // to add custom editor name attribute to img object (if necessary).\n      let mathmlSubstring = mathml.substring(mathml.indexOf('class=\"') + 'class=\"'.length, mathml.length);\n      mathmlSubstring = mathmlSubstring.substring(0, mathmlSubstring.indexOf('\"'));\n      mathmlSubstring = mathmlSubstring.substring(4, mathmlSubstring.length);\n      imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageCustomEditorName'), mathmlSubstring);\n    }\n\n    // Performance enabled.\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('wirisPluginPerformance') && (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml' || _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml')) {\n      let result = JSON.parse(Parser.createShowImageSrc(data, language));\n      if (result.status === 'warning') {\n        // POST call.\n        // if the mathml is malformed, this function will throw an exception.\n        try {\n          result = JSON.parse(_serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('showimage', data));\n        } catch (e) {\n          return null;\n        }\n      }\n      ({\n        result\n      } = result);\n      if (result.format === 'png') {\n        imgObject.src = \"data:image/png;base64,\".concat(result.content);\n      } else {\n        imgObject.src = \"data:image/svg+xml;charset=utf8,\".concat(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].urlEncode(result.content));\n      }\n      imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlEncode(mathml));\n      _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgObject, result.content, true);\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('enableAccessibility')) {\n        if (typeof result.alt === 'undefined') {\n          imgObject.alt = _accessibility__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mathMLToAccessible(mathml, language, data);\n        } else {\n          imgObject.alt = result.alt;\n        }\n      }\n    } else {\n      const result = Parser.createImageSrc(mathml, data);\n      imgObject.setAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlEncode(mathml));\n      imgObject.src = result;\n      _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgObject, result, _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default');\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('enableAccessibility')) {\n        imgObject.alt = _accessibility__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mathMLToAccessible(mathml, language, data);\n      }\n    }\n    if (typeof Parser.observer !== 'undefined') {\n      Parser.observer.observe(imgObject);\n    }\n\n    // Role math https://www.w3.org/TR/wai-aria/roles#math.\n    imgObject.setAttribute('role', 'math');\n    return imgObject;\n  }\n\n  /**\r\n   * Returns the source to showimage service by calling createimage service. The\r\n   * output of the createimage service is a URL path pointing to showimage service.\r\n   * This method is called when performance is disabled.\r\n   * @param {string} mathml - MathML code.\r\n   * @param {Object[]} data - data object containing service parameters.\r\n   * @returns {string} the showimage path.\r\n   */\n  static createImageSrc(mathml, data) {\n    // Full base64 method (edit & save).\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'default') {\n      data.base64 = true;\n    }\n    let result = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('createimage', data);\n    if (result.indexOf('@BASE@') !== -1) {\n      // Replacing '@BASE@' with the base URL of createimage.\n      const baseParts = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getServicePath('createimage').split('/');\n      baseParts.pop();\n      result = result.split('@BASE@').join(baseParts.join('/'));\n    }\n    return result;\n  }\n\n  /**\r\n   * Parses initial HTML code. If the HTML contains data generated by WIRIS,\r\n   * this data would be converted as following:\r\n   * <pre>\r\n   * MathML code: Image containing the corresponding MathML formulas.\r\n   * MathML code with LaTeX annotation : LaTeX string.\r\n   * </pre>\r\n   * @param {string} code - HTML code containing MathML data.\r\n   * @param {string} language - language to create image alt text.\r\n   * @returns {string} HTML code with the original MathML converted into LaTeX and images.\r\n   */\n  static initParse(code, language) {\n    /* Note: The code inside this function has been inverted.\r\n    If you invert again the code then you cannot use correctly LaTeX\r\n    in Moodle.\r\n    */\n    code = Parser.initParseSaveMode(code, language);\n    return Parser.initParseEditMode(code);\n  }\n\n  /**\r\n   * Parses initial HTML code depending on the save mode. Transforms all MathML\r\n   * occurrences for it's correspondent image or LaTeX.\r\n   * @param {string} code - HTML code to be parsed\r\n   * @param {string} language - language to create image alt text.\r\n   * @returns {string} HTML code parsed.\r\n   */\n  static initParseSaveMode(code, language) {\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n      // Converting XML to tags.\n      code = _latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseMathmlToLatex(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters);\n      code = _latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseMathmlToLatex(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].xmlCharacters);\n      code = Parser.parseMathmlToImg(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters, language);\n      code = Parser.parseMathmlToImg(code, _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].xmlCharacters, language);\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'image') {\n        code = Parser.codeImgTransform(code, 'base642showimage');\n      }\n    }\n    return code;\n  }\n\n  /**\r\n   * Parses initial HTML code depending on the edit mode.\r\n   * If 'latex' parseMode is enabled all MathML containing an annotation with encoding='LaTeX' will\r\n   * be converted into a LaTeX string instead of an image.\r\n   * @param {string} code - HTML code containing MathML.\r\n   * @returns {string} parsed HTML code.\r\n   */\n  static initParseEditMode(code) {\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('parseModes').indexOf('latex') !== -1) {\n      const imgList = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getElementsByNameFromString(code, 'img', true);\n      const token = 'encoding=\"LaTeX\">';\n      // While replacing images with latex, the indexes of the found images changes\n      // respecting the original code, so this carry is needed.\n      let carry = 0;\n      for (let i = 0; i < imgList.length; i += 1) {\n        const imgCode = code.substring(imgList[i].start + carry, imgList[i].end + carry);\n        if (imgCode.indexOf(\" class=\\\"\".concat(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName'), \"\\\"\")) !== -1) {\n          let mathmlStartToken = \" \".concat(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'), \"=\\\"\");\n          let mathmlStart = imgCode.indexOf(mathmlStartToken);\n          if (mathmlStart === -1) {\n            mathmlStartToken = ' alt=\"';\n            mathmlStart = imgCode.indexOf(mathmlStartToken);\n          }\n          if (mathmlStart !== -1) {\n            mathmlStart += mathmlStartToken.length;\n            const mathmlEnd = imgCode.indexOf('\"', mathmlStart);\n            const mathml = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(imgCode.substring(mathmlStart, mathmlEnd));\n            let latexStartPosition = mathml.indexOf(token);\n            if (latexStartPosition !== -1) {\n              latexStartPosition += token.length;\n              const latexEndPosition = mathml.indexOf('</annotation>', latexStartPosition);\n              const latex = mathml.substring(latexStartPosition, latexEndPosition);\n              const replaceText = \"$$\".concat(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlEntitiesDecode(latex), \"$$\");\n              const start = code.substring(0, imgList[i].start + carry);\n              const end = code.substring(imgList[i].end + carry);\n              code = start + replaceText + end;\n              carry += replaceText.length - (imgList[i].end - imgList[i].start);\n            }\n          }\n        }\n      }\n    }\n    return code;\n  }\n\n  /**\r\n   * Parses end HTML code. The end HTML code is HTML code with embedded images\r\n   * or LaTeX formulas created with MathType. <br>\r\n   * By default this method converts the formula images and LaTeX strings in MathML. <br>\r\n   * If image mode is enabled the images will not be converted into MathML. For further information see {@link http://www.wiris.com/plugins/docs/full-mathml-mode}.\r\n   * @param {string} code - HTML to be parsed\r\n   * @returns {string} the HTML code parsed.\r\n   */\n  static endParse(code) {\n    // Transform LaTeX ocurrences to MathML elements.\n    const codeEndParsedEditMode = Parser.endParseEditMode(code);\n    // Transform img elements to MathML elements.\n    const codeEndParseSaveMode = Parser.endParseSaveMode(codeEndParsedEditMode);\n    return codeEndParseSaveMode;\n  }\n\n  /**\r\n   * Parses end HTML code depending on the edit mode.\r\n   * - LaTeX is an enabled parse mode, all LaTeX occurrences will be converted into MathML.\r\n   * @param {string} code - HTML code to be parsed.\r\n   * @returns {string} HTML code parsed.\r\n   */\n  static endParseEditMode(code) {\n    // Converting LaTeX to images.\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('parseModes').indexOf('latex') !== -1) {\n      let output = '';\n      let endPosition = 0;\n      let startPosition = code.indexOf('$$');\n      while (startPosition !== -1) {\n        output += code.substring(endPosition, startPosition);\n        endPosition = code.indexOf('$$', startPosition + 2);\n        if (endPosition !== -1) {\n          // Before, it was a condition here to execute the next codelines\n          // 'latex.indexOf('<') == -1'.\n          // We don't know why it was used, but seems to have a conflict with\n          // latex formulas that contains '<'.\n          const latex = code.substring(startPosition + 2, endPosition);\n          const decodedLatex = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].htmlEntitiesDecode(latex);\n          let mathml = _latex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMathMLFromLatex(decodedLatex, true);\n          if (!_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveHandTraces')) {\n            // Remove hand traces.\n            mathml = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].removeAnnotation(mathml, 'application/json');\n          }\n          output += mathml;\n          endPosition += 2;\n        } else {\n          output += '$$';\n          endPosition = startPosition + 2;\n        }\n        startPosition = code.indexOf('$$', endPosition);\n      }\n      output += code.substring(endPosition, code.length);\n      code = output;\n    }\n    return code;\n  }\n\n  /**\r\n   * Parses end HTML code depending on the save mode. Converts all\r\n   * images into the element determined by the save mode:\r\n   * - xml: Parses images formulas into MathML.\r\n   * - safeXml: Parses images formulas into safeMAthML\r\n   * - base64: Parses images into base64 images.\r\n   * - image: Parse images into images (no parsing)\r\n   * @param {string} code - HTML code to be parsed\r\n   * @returns {string} HTML code parsed.\r\n   */\n  static endParseSaveMode(code) {\n    if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n      if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml') {\n        code = Parser.codeImgTransform(code, 'img2mathml');\n      } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml') {\n        code = Parser.codeImgTransform(code, 'img2mathml');\n      } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'base64' && _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('base64savemode') === 'image') {\n        code = Parser.codeImgTransform(code, 'img264');\n      }\n    }\n    return code;\n  }\n\n  /**\r\n   * Returns the result to call showimage service with the formula md5 as parameter.\r\n   *  The result could be:\r\n   * - {'status' : warning'} : The image associated to the MathML md5 is not in cache.\r\n   * - {'status' : 'ok' ...} : The image associated to the MathML md5 is in cache.\r\n   * @param {Object[]} data - object containing showimage service parameters.\r\n   * @param {string} language - string containing the language of the formula.\r\n   * @returns {Object} JSON object containing showimage response.\r\n   */\n  static createShowImageSrc(data, language) {\n    const dataMd5 = [];\n    const renderParams = ['mml', 'color', 'centerbaseline', 'zoom', 'dpi', 'fontSize', 'fontFamily', 'defaultStretchy', 'backgroundColor', 'format'];\n    renderParams.forEach(key => {\n      const param = renderParams[key];\n      if (typeof data[param] !== 'undefined') {\n        dataMd5[param] = data[param];\n      }\n    });\n    // Data variables to get.\n    const dataObject = {};\n    Object.keys(data).forEach(key => {\n      // We don't need mathml in this request we try to get cached.\n      // Only need the formula md5 calculated before.\n      if (key !== 'mml') {\n        dataObject[key] = data[key];\n      }\n    });\n    dataObject.formula = com.wiris.js.JsPluginTools.md5encode(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].propertiesToString(dataMd5));\n    dataObject.lang = typeof language === 'undefined' ? 'en' : language;\n    dataObject.version = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('version');\n    const result = _serviceprovider__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getService('showimage', _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].httpBuildQuery(dataObject), true);\n    return result;\n  }\n\n  /**\r\n   * Transform html img tags inside a html code to mathml, base64 img tags (i.e with base64 on src)\r\n   * or showimage img tags (i.e with showimage.php on src)\r\n   * @param  {string} code - HTML code\r\n   * @param  {string} mode - base642showimage or img2mathml or img264 transform.\r\n   * @returns {string} html - code transformed.\r\n   */\n  static codeImgTransform(code, mode) {\n    let output = '';\n    let endPosition = 0;\n    const pattern = /<img/gi;\n    const patternLength = pattern.source.length;\n    while (pattern.test(code)) {\n      const startPosition = pattern.lastIndex - patternLength;\n      output += code.substring(endPosition, startPosition);\n      let i = startPosition + 1;\n      while (i < code.length && endPosition <= startPosition) {\n        const character = code.charAt(i);\n        if (character === '\"' || character === '\\'') {\n          const characterNextPosition = code.indexOf(character, i + 1);\n          if (characterNextPosition === -1) {\n            i = code.length; // End while.\n          } else {\n            i = characterNextPosition;\n          }\n        } else if (character === '>') {\n          endPosition = i + 1;\n        }\n        i += 1;\n      }\n      if (endPosition < startPosition) {\n        // The img tag is stripped.\n        output += code.substring(startPosition, code.length);\n        return output;\n      }\n      let imgCode = code.substring(startPosition, endPosition);\n      const imgObject = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObject(imgCode);\n      let xmlCode = imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'));\n      let convertToXml;\n      let convertToSafeXml;\n      if (mode === 'base642showimage') {\n        if (xmlCode == null) {\n          xmlCode = imgObject.getAttribute('alt');\n        }\n        xmlCode = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(xmlCode);\n        imgCode = Parser.mathmlToImgObject(document, xmlCode, null, null);\n        output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(imgCode);\n      } else if (mode === 'img2mathml') {\n        if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode')) {\n          if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'safeXml') {\n            convertToXml = true;\n            convertToSafeXml = true;\n          } else if (_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('saveMode') === 'xml') {\n            convertToXml = true;\n            convertToSafeXml = false;\n          }\n        }\n        output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getWIRISImageOutput(imgCode, convertToXml, convertToSafeXml);\n      } else if (mode === 'img264') {\n        if (xmlCode === null) {\n          xmlCode = imgObject.getAttribute('alt');\n        }\n        xmlCode = _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(xmlCode);\n        const properties = {};\n        properties.base64 = 'true';\n        imgCode = Parser.mathmlToImgObject(document, xmlCode, properties, null);\n        // Metrics.\n        _image__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setImgSize(imgCode, imgCode.src, true);\n        output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(imgCode);\n      }\n    }\n    output += code.substring(endPosition, code.length);\n    return output;\n  }\n\n  /**\r\n   * Converts all occurrences of MathML to the corresponding image.\r\n   * @param {string} content - string with valid MathML code.\r\n   * The MathML code doesn't contain semantics.\r\n   * @param {Constants} characters - Constant object containing xmlCharacters\r\n   * or safeXmlCharacters relation.\r\n   * @param {string} language - a valid language code\r\n   * in order to generate formula accessibility.\r\n   * @returns {string} The input string with all the MathML\r\n   * occurrences replaced by the corresponding image.\r\n   */\n  static parseMathmlToImg(content, characters, language) {\n    let output = '';\n    const mathTagBegin = \"\".concat(characters.tagOpener, \"math\");\n    const mathTagEnd = \"\".concat(characters.tagOpener, \"/math\").concat(characters.tagCloser);\n    let start = content.indexOf(mathTagBegin);\n    let end = 0;\n    while (start !== -1) {\n      output += content.substring(end, start);\n      // Avoid WIRIS images to be parsed.\n      const imageMathmlAtrribute = content.indexOf(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageMathmlAttribute'));\n      end = content.indexOf(mathTagEnd, start);\n      if (end === -1) {\n        end = content.length - 1;\n      } else if (imageMathmlAtrribute !== -1) {\n        // First close tag of img attribute\n        // If a mathmlAttribute exists should be inside a img tag.\n        end += content.indexOf('/>', start);\n      } else {\n        end += mathTagEnd.length;\n      }\n      if (!_mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isMathmlInAttribute(content, start) && imageMathmlAtrribute === -1) {\n        let mathml = content.substring(start, end);\n        mathml = characters.id === _constants__WEBPACK_IMPORTED_MODULE_7__[\"default\"].safeXmlCharacters.id ? _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safeXmlDecode(mathml) : _mathml__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mathMLEntities(mathml);\n        output += _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createObjectCode(Parser.mathmlToImgObject(document, mathml, null, language));\n      } else {\n        output += content.substring(start, end);\n      }\n      start = content.indexOf(mathTagBegin, end);\n    }\n    output += content.substring(end, content.length);\n    return output;\n  }\n}\n\n// Mutation observers to avoid wiris image formulas class be removed.\nif (typeof MutationObserver !== 'undefined') {\n  const mutationObserver = new MutationObserver(mutations => {\n    mutations.forEach(mutation => {\n      if (mutation.oldValue === _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName') && mutation.attributeName === 'class' && mutation.target.className.indexOf(_configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName')) === -1) {\n        mutation.target.className = _configuration__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get('imageClassName');\n      }\n    });\n  });\n  Parser.observer = Object.create(mutationObserver);\n  Parser.observer.Config = {\n    attributes: true,\n    attributeOldValue: true\n  };\n  // We use own default config.\n  Parser.observer.observe = function name(target) {\n    Object.getPrototypeOf(this).observe(target, this.Config);\n  };\n}\n\n//# sourceURL=webpack:///./integration-js/src/parser.js?");

/***/ }),

/***/ "./integration-js/src/polyfills.js":
/*!*****************************************!*\
  !*** ./integration-js/src/polyfills.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable */\nvar polyfills;\n/* harmony default export */ __webpack_exports__[\"default\"] = (polyfills);\n\n// Polyfills.\n/*! http://mths.be/codepointat v0.1.0 by @mathias */\nif (!String.prototype.codePointAt) {\n  (function () {\n    'use strict';\n\n    // needed to support `apply`/`call` with `undefined`/`null`\n    var codePointAt = function (position) {\n      if (this == null) {\n        throw TypeError();\n      }\n      var string = String(this);\n      var size = string.length;\n      // `ToInteger`\n      var index = position ? Number(position) : 0;\n      if (index != index) {\n        // better `isNaN`\n        index = 0;\n      }\n      // Account for out-of-bounds indices:\n      if (index < 0 || index >= size) {\n        return undefined;\n      }\n      // Get the first code unit\n      var first = string.charCodeAt(index);\n      var second;\n      if (\n      // check if it’s the start of a surrogate pair\n      first >= 0xD800 && first <= 0xDBFF &&\n      // high surrogate\n      size > index + 1 // there is a next code unit\n      ) {\n        second = string.charCodeAt(index + 1);\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          // low surrogate\n          // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n          return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n      return first;\n    };\n    if (Object.defineProperty) {\n      Object.defineProperty(String.prototype, 'codePointAt', {\n        'value': codePointAt,\n        'configurable': true,\n        'writable': true\n      });\n    } else {\n      String.prototype.codePointAt = codePointAt;\n    }\n  })();\n}\n\n// Object.assign polyfill.\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, \"assign\", {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n      'use strict';\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n      var to = Object(target);\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\n//# sourceURL=webpack:///./integration-js/src/polyfills.js?");

/***/ }),

/***/ "./integration-js/src/popupmessage.js":
/*!********************************************!*\
  !*** ./integration-js/src/popupmessage.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PopUpMessage; });\n/**\r\n\r\n */\nclass PopUpMessage {\n  /**\r\n   * @classdesc\r\n   * This class represents a dialog message overlaying a DOM element in order to\r\n   * accept / cancel discard changes. The dialog can be closed i.e the overlay disappears\r\n   * o canceled. In this last case a callback function should be called.\r\n   * @constructs\r\n   * @param {Object} popupMessageAttributes - Object containing popup properties.\r\n   * @param {HTMLElement} popupMessageAttributes.overlayElement - Element to overlay.\r\n   * @param {Object} popupMessageAttributes.callbacks - Contains callback\r\n   * methods for close and cancel actions.\r\n   * @param {Object} popupMessageAttributes.strings - Contains all the strings needed.\r\n   */\n  constructor(popupMessageAttributes) {\n    /**\r\n     * Element to be overlaid when the popup appears.\r\n     */\n    this.overlayElement = popupMessageAttributes.overlayElement;\n    this.callbacks = popupMessageAttributes.callbacks;\n\n    /**\r\n     * HTMLElement element to wrap all HTML elements inside the popupMessage.\r\n     */\n    this.overlayWrapper = this.overlayElement.appendChild(document.createElement('div'));\n    this.overlayWrapper.setAttribute('class', 'wrs_popupmessage_overlay_envolture');\n\n    /**\r\n     * HTMLElement to display the popup message, close button and cancel button.\r\n     */\n    this.message = this.overlayWrapper.appendChild(document.createElement('div'));\n    this.message.id = 'wrs_popupmessage';\n    this.message.setAttribute('class', 'wrs_popupmessage_panel');\n    this.message.setAttribute('role', 'dialog');\n    this.message.setAttribute('aria-describedby', 'description_txt');\n    const paragraph = document.createElement('p');\n    const text = document.createTextNode(popupMessageAttributes.strings.message);\n    paragraph.appendChild(text);\n    paragraph.id = 'description_txt';\n    this.message.appendChild(paragraph);\n\n    /**\r\n     * HTML element overlaying the overlayElement.\r\n     */\n    const overlay = this.overlayWrapper.appendChild(document.createElement('div'));\n    overlay.setAttribute('class', 'wrs_popupmessage_overlay');\n    // We create a overlay that close popup message on click in there\n    overlay.addEventListener('click', this.cancelAction.bind(this));\n\n    /**\r\n     * HTML element containing cancel and close buttons.\r\n     */\n    this.buttonArea = this.message.appendChild(document.createElement('div'));\n    this.buttonArea.setAttribute('class', 'wrs_popupmessage_button_area');\n    this.buttonArea.id = 'wrs_popup_button_area';\n\n    // Close button arguments.\n    const buttonSubmitArguments = {\n      class: 'wrs_button_accept',\n      innerHTML: popupMessageAttributes.strings.submitString,\n      id: 'wrs_popup_accept_button'\n    };\n\n    /**\r\n     * Close button arguments.\r\n     */\n    this.closeButton = this.createButton(buttonSubmitArguments, this.closeAction.bind(this));\n    this.buttonArea.appendChild(this.closeButton);\n\n    // Cancel button arguments.\n    const buttonCancelArguments = {\n      class: 'wrs_button_cancel',\n      innerHTML: popupMessageAttributes.strings.cancelString,\n      id: 'wrs_popup_cancel_button'\n    };\n\n    /**\r\n     * Cancel button.\r\n     */\n    this.cancelButton = this.createButton(buttonCancelArguments, this.cancelAction.bind(this));\n    this.buttonArea.appendChild(this.cancelButton);\n  }\n\n  /**\r\n   * This method create a button with arguments and return button dom object\r\n   * @param {Object} parameters - An object containing id, class and innerHTML button text.\r\n   * @param {String} parameters.id - Button id.\r\n   * @param {String} parameters.class - Button class name.\r\n   * @param {String} parameters.innerHTML - Button innerHTML text.\r\n   * @param {Object} callback- Callback method to call on click event.\r\n   * @returns {HTMLElement} HTML button.\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  createButton(parameters, callback) {\n    let element = {};\n    element = document.createElement('button');\n    element.setAttribute('id', parameters.id);\n    element.setAttribute('class', parameters.class);\n    element.innerHTML = parameters.innerHTML;\n    element.addEventListener('click', callback);\n    return element;\n  }\n\n  /**\r\n   * Shows the popupmessage containing a message, and two buttons\r\n   * to cancel the action or close the modal dialog.\r\n   */\n  show() {\n    if (this.overlayWrapper.style.display !== 'block') {\n      // Clear focus with blur for prevent press any key.\n      document.activeElement.blur();\n      this.overlayWrapper.style.display = 'block';\n      this.closeButton.focus();\n    } else {\n      this.overlayWrapper.style.display = 'none';\n      _wrs_modalWindow.focus();\n    }\n  }\n\n  /**\r\n   * This method cancels the popupMessage: the dialog disappears revealing the overlaid element.\r\n   * A callback method is called (if defined). For example a method to focus the overlaid element.\r\n   */\n  cancelAction() {\n    this.overlayWrapper.style.display = 'none';\n    if (typeof this.callbacks.cancelCallback !== 'undefined') {\n      this.callbacks.cancelCallback();\n    }\n  }\n\n  /**\r\n   * This method closes the popupMessage: the dialog disappears and the close callback is called.\r\n   * For example to close the overlaid element.\r\n   */\n  closeAction() {\n    this.cancelAction();\n    if (typeof this.callbacks.closeCallback !== 'undefined') {\n      this.callbacks.closeCallback();\n    }\n  }\n\n  /**\r\n   * Handle keyboard events detected in modal when elements of this class intervene.\r\n   * @param {KeyboardEvent} keyboardEvent - The keyboard event.\r\n   */\n  onKeyDown(keyboardEvent) {\n    if (keyboardEvent.key !== undefined) {\n      // Code to detect Esc event.\n      if (keyboardEvent.key === 'Escape' || keyboardEvent.key === 'Esc') {\n        this.cancelAction();\n        keyboardEvent.stopPropagation();\n        keyboardEvent.preventDefault();\n      } else if (keyboardEvent.key === 'Tab') {\n        // Code to detect Tab event.\n        if (document.activeElement === this.closeButton) {\n          this.cancelButton.focus();\n        } else {\n          this.closeButton.focus();\n        }\n        keyboardEvent.stopPropagation();\n        keyboardEvent.preventDefault();\n      }\n    }\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/popupmessage.js?");

/***/ }),

/***/ "./integration-js/src/serviceprovider.js":
/*!***********************************************!*\
  !*** ./integration-js/src/serviceprovider.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ServiceProvider; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./listeners */ \"./integration-js/src/listeners.js\");\n\n\n\n/**\r\n * @typedef {Object} ServiceProviderProperties\r\n * @property {String} URI - Service URI.\r\n * @property {String} server - Service server language.\r\n */\n\n/**\r\n * @classdesc\r\n * Class representing a serviceProvider. A serviceProvider is a class containing\r\n * an arbitrary number of services with the correspondent path.\r\n */\nclass ServiceProvider {\n  /**\r\n   * Returns Service Provider listeners.\r\n   * @type {Listeners}\r\n   */\n  static get listeners() {\n    return ServiceProvider._listeners;\n  }\n\n  /**\r\n   * Adds a {@link Listener} instance to {@link ServiceProvider} class.\r\n   * @param {Listener} listener - Instance of {@link Listener}.\r\n   */\n  static addListener(listener) {\n    ServiceProvider.listeners.add(listener);\n  }\n\n  /**\r\n   * Fires events in Service Provider.\r\n   * @param {String} eventName - Event name.\r\n   * @param {Event} event - Event object.\r\n   */\n  static fireEvent(eventName, event) {\n    ServiceProvider.listeners.fire(eventName, event);\n  }\n\n  /**\r\n   * Service parameters.\r\n   * @type {ServiceProviderProperties}\r\n   *\r\n   */\n  static get parameters() {\n    return ServiceProvider._parameters;\n  }\n\n  /**\r\n   * Service parameters.\r\n   * @private\r\n   * @type {ServiceProviderProperties}\r\n   */\n  static set parameters(parameters) {\n    ServiceProvider._parameters = parameters;\n  }\n\n  /**\r\n   * Static property.\r\n   * Return service provider paths.\r\n   * @private\r\n   * @type {String}\r\n   */\n  static get servicePaths() {\n    return ServiceProvider._servicePaths;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set service paths.\r\n   * @param {String} value - The property value.\r\n   * @ignore\r\n   */\n  static set servicePaths(value) {\n    ServiceProvider._servicePaths = value;\n  }\n\n  /**\r\n   * Adds a new service to the ServiceProvider.\r\n   * @param {String} service - Service name.\r\n   * @param {String} path - Service path.\r\n   * @static\r\n   */\n  static setServicePath(service, path) {\n    ServiceProvider.servicePaths[service] = path;\n  }\n\n  /**\r\n   * Returns the service path for a certain service.\r\n   * @param {String} serviceName - Service name.\r\n   * @returns {String} The service path.\r\n   * @static\r\n   */\n  static getServicePath(serviceName) {\n    return ServiceProvider.servicePaths[serviceName];\n  }\n\n  /**\r\n   * Static property.\r\n   * Service provider integration path.\r\n   * @type {String}\r\n   */\n  static get integrationPath() {\n    return ServiceProvider._integrationPath;\n  }\n\n  /**\r\n   * Static property setter.\r\n   * Set service provider integration path.\r\n   * @param {String} value - The property value.\r\n   * @ignore\r\n   */\n  static set integrationPath(value) {\n    ServiceProvider._integrationPath = value;\n  }\n\n  /**\r\n   * Returns the server URL in the form protocol://serverName:serverPort.\r\n   * @return {String} The client side server path.\r\n   */\n  static getServerURL() {\n    const url = window.location.href;\n    const arr = url.split('/');\n    const result = \"\".concat(arr[0], \"//\").concat(arr[2]);\n    return result;\n  }\n\n  /**\r\n   * Inits {@link this} class. Uses {@link this.integrationPath} as\r\n   * base path to generate all backend services paths.\r\n   * @param {Object} parameters - Function parameters.\r\n   * @param {String} parameters.integrationPath - Service path.\r\n   */\n  static init(parameters) {\n    ServiceProvider.parameters = parameters;\n    // Services path (tech dependant).\n    let configurationURI = ServiceProvider.createServiceURI('configurationjs');\n    let createImageURI = ServiceProvider.createServiceURI('createimage');\n    let showImageURI = ServiceProvider.createServiceURI('showimage');\n    let getMathMLURI = ServiceProvider.createServiceURI('getmathml');\n    let serviceURI = ServiceProvider.createServiceURI('service');\n\n    // Some backend integrations (like Java o Ruby) have an absolute backend path,\n    // for example: /app/service. For them we calculate the absolute URL path, i.e\n    // protocol://domain:port/app/service\n    if (ServiceProvider.parameters.URI.indexOf('/') === 0) {\n      const serverPath = ServiceProvider.getServerURL();\n      configurationURI = serverPath + configurationURI;\n      showImageURI = serverPath + showImageURI;\n      createImageURI = serverPath + createImageURI;\n      getMathMLURI = serverPath + getMathMLURI;\n      serviceURI = serverPath + serviceURI;\n    }\n    ServiceProvider.setServicePath('configurationjs', configurationURI);\n    ServiceProvider.setServicePath('showimage', showImageURI);\n    ServiceProvider.setServicePath('createimage', createImageURI);\n    ServiceProvider.setServicePath('service', serviceURI);\n    ServiceProvider.setServicePath('getmathml', getMathMLURI);\n    ServiceProvider.setServicePath('configurationjs', configurationURI);\n    ServiceProvider.listeners.fire('onInit', {});\n  }\n\n  /**\r\n   * Gets the content from an URL.\r\n   * @param {String} url - Target URL.\r\n   * @param {Object} [postVariables] - Object containing post variables.\r\n   * null if a GET query should be done.\r\n   * @returns {String} Content of the target URL.\r\n   * @private\r\n   * @static\r\n   */\n  static getUrl(url, postVariables) {\n    const currentPath = window.location.toString().substr(0, window.location.toString().lastIndexOf('/') + 1);\n    const httpRequest = _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createHttpRequest();\n    if (httpRequest) {\n      if (typeof postVariables === 'undefined' || typeof postVariables === 'undefined') {\n        httpRequest.open('GET', url, false);\n      } else if (url.substr(0, 1) === '/' || url.substr(0, 7) === 'http://' || url.substr(0, 8) === 'https://') {\n        httpRequest.open('POST', url, false);\n      } else {\n        httpRequest.open('POST', currentPath + url, false);\n      }\n      if (typeof postVariables !== 'undefined' && postVariables) {\n        httpRequest.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        httpRequest.send(_util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].httpBuildQuery(postVariables));\n      } else {\n        httpRequest.send(null);\n      }\n      return httpRequest.responseText;\n    }\n    return '';\n  }\n\n  /**\r\n   * Returns the response text of a certain service.\r\n   * @param {String} service - Service name.\r\n   * @param {String} postVariables - Post variables.\r\n   * @param {Boolean} get - True if the request is GET instead of POST. false otherwise.\r\n   * @returns {String} Service response text.\r\n   */\n  static getService(service, postVariables, get) {\n    let response;\n    if (get === true) {\n      const serviceUrl = \"\".concat(ServiceProvider.getServicePath(service), \"?\").concat(postVariables);\n      response = ServiceProvider.getUrl(serviceUrl);\n    } else {\n      const serviceUrl = ServiceProvider.getServicePath(service);\n      response = ServiceProvider.getUrl(serviceUrl, postVariables);\n    }\n    return response;\n  }\n\n  /**\r\n   * Returns the server language of a certain service. The possible values\r\n   * are: php, aspx, java and ruby.\r\n   * This method has backward compatibility purposes.\r\n   * @param {String} service - The configuration service.\r\n   * @returns {String} - The server technology associated with the configuration service.\r\n   */\n  static getServerLanguageFromService(service) {\n    if (service.indexOf('.php') !== -1) {\n      return 'php';\n    }\n    if (service.indexOf('.aspx') !== -1) {\n      return 'aspx';\n    }\n    if (service.indexOf('wirispluginengine') !== -1) {\n      return 'ruby';\n    }\n    return 'java';\n  }\n\n  /**\r\n   * Returns the URI associated with a certain service.\r\n   * @param {String} service - The service name.\r\n   * @return {String} The service path.\r\n   */\n  static createServiceURI(service) {\n    const extension = ServiceProvider.serverExtension();\n    return _util__WEBPACK_IMPORTED_MODULE_0__[\"default\"].concatenateUrl(ServiceProvider.parameters.URI, service) + extension;\n  }\n  static serverExtension() {\n    if (ServiceProvider.parameters.server.indexOf('php') !== -1) {\n      return '.php';\n    }\n    if (ServiceProvider.parameters.server.indexOf('aspx') !== -1) {\n      return '.aspx';\n    }\n    return '';\n  }\n}\n\n/**\r\n * @property {String} service - The service name.\r\n * @property {String} path - The service path.\r\n * @static\r\n */\nServiceProvider._servicePaths = {};\n\n/**\r\n * The integration path. Contains the path of the configuration service.\r\n * Used to define the path for all services.\r\n * @type {String}\r\n * @private\r\n */\nServiceProvider._integrationPath = '';\n\n/**\r\n * ServiceProvider static listeners.\r\n * @type {Listeners}\r\n * @private\r\n */\nServiceProvider._listeners = new _listeners__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n/**\r\n * Service provider parameters.\r\n * @type {ServiceProviderParameters}\r\n */\nServiceProvider._parameters = {};\n\n//# sourceURL=webpack:///./integration-js/src/serviceprovider.js?");

/***/ }),

/***/ "./integration-js/src/stringmanager.js":
/*!*********************************************!*\
  !*** ./integration-js/src/stringmanager.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StringManager; });\n/* harmony import */ var _lang_strings_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lang/strings.json */ \"./integration-js/lang/strings.json\");\nvar _lang_strings_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../lang/strings.json */ \"./integration-js/lang/strings.json\", 1);\n\n/**\r\n * This class represents a string manager. It's used to load localized strings.\r\n */\nclass StringManager {\n  constructor() {\n    throw new Error('Static class StringManager can not be instantiated.');\n  }\n\n  /**\r\n   * Returns the associated value of certain string key. If the associated value\r\n   * doesn't exits returns the original key.\r\n   * @param {string} key - string key\r\n   * @returns {string} correspondent value. If doesn't exists original key.\r\n   */\n  static get(key) {\n    let {\n      language\n    } = this;\n    if (!(language in this.strings)) {\n      console.warn(\"Unknown language \".concat(language, \" set in StringManager.\"));\n      language = 'en';\n    }\n    if (!(key in this.strings[language])) {\n      console.warn(\"Unknown key \".concat(key, \" in StringManager.\"));\n      return key;\n    }\n    return this.strings[language][key];\n  }\n}\n\n/**\r\n * Dictionary of dictionaries:\r\n * Key: language code\r\n * Value: Key: id of the string\r\n *        Value: translation of the string\r\n */\nStringManager.strings = _lang_strings_json__WEBPACK_IMPORTED_MODULE_0__;\n\n/**\r\n * Language of the translations; English by default\r\n */\nStringManager.language = 'en';\n\n//# sourceURL=webpack:///./integration-js/src/stringmanager.js?");

/***/ }),

/***/ "./integration-js/src/test.js":
/*!************************************!*\
  !*** ./integration-js/src/test.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Test; });\n/* harmony import */ var _serviceprovider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serviceprovider */ \"./integration-js/src/serviceprovider.js\");\n/* eslint-disable no-console */\n\n\nclass Test {\n  static init() {\n    Test.testServices();\n  }\n  static testServices() {\n    let data;\n    console.log('Testing configuration service...');\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('configurationjs', '', 'get'));\n    console.log('Testing showimage service...');\n    data = [];\n    data.mml = '<math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>x</mi><mn>2</mn></msup></math>';\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('showimage', data));\n    console.log('Testing createimage service...');\n    data = [];\n    data.mml = '<math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>x</mi><mn>2</mn></msup></math>';\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('createimage', data, 'post'));\n    console.log('Testing MathML2Latex service...');\n    data = [];\n    data.service = 'mathml2latex';\n    data.mml = '<math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>x</mi><mn>2</mn></msup></math>';\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('service', data));\n    console.log('Testing Latex2MathML service...');\n    data = [];\n    data.service = 'latex2mathml';\n    data.latex = 'x^2';\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('service', data));\n    console.log('Testing Mathml2Accesible service...');\n    data = [];\n    data.service = 'mathml2accessible';\n    data.mml = '<math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msup><mi>x</mi><mn>2</mn></msup></math>';\n    console.log(_serviceprovider__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getService('service', data));\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/test.js?");

/***/ }),

/***/ "./integration-js/src/textcache.js":
/*!*****************************************!*\
  !*** ./integration-js/src/textcache.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextCache; });\nclass TextCache {\n  /**\r\n   * @classdesc\r\n   * This class represent a client-side text cache class. Contains pairs of\r\n   * strings (key/value) which can be retrieved in any moment. Usually used\r\n   * to store AJAX responses for text services like mathml2latex\r\n   * (c.f {@link Latex} class) or mathml2accessible (c.f {@link Accessibility} class).\r\n   * @constructs\r\n   */\n  constructor() {\n    /**\r\n     * Cache array property storing the cache entries.\r\n     * @type {Array.<String>}\r\n     */\n    this.cache = [];\n  }\n\n  /**\r\n   * This method populates a key/value pair into the {@link this.cache} property.\r\n   * @param {String} key - Cache key, usually the service string parameter.\r\n   * @param {String} value - Cache value, usually the service response.\r\n   */\n  populate(key, value) {\n    this.cache[key] = value;\n  }\n\n  /**\r\n   * Returns the cache value associated to certain cache key.\r\n   * @param {String} key - Cache key, usually the service string parameter.\r\n   * @return {String} value - Cache value, if exists. False otherwise.\r\n   */\n  get(key) {\n    if (Object.prototype.hasOwnProperty.call(this.cache, key)) {\n      return this.cache[key];\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/textcache.js?");

/***/ }),

/***/ "./integration-js/src/util.js":
/*!************************************!*\
  !*** ./integration-js/src/util.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Util; });\n/* harmony import */ var _mathml__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathml */ \"./integration-js/src/mathml.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./configuration */ \"./integration-js/src/configuration.js\");\n/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./latex */ \"./integration-js/src/latex.js\");\n/* harmony import */ var _stringmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringmanager */ \"./integration-js/src/stringmanager.js\");\n/* eslint-disable no-bitwise */\n\n\n\n\n\n/**\r\n * This class represents an utility class.\r\n */\nclass Util {\n  /**\r\n   * Fires an event in a target.\r\n   * @param {EventTarget} eventTarget - target where event should be fired.\r\n   * @param {string} eventName event to fire.\r\n   * @static\r\n   */\n  static fireEvent(eventTarget, eventName) {\n    if (document.createEvent) {\n      const eventObject = document.createEvent('HTMLEvents');\n      eventObject.initEvent(eventName, true, true);\n      return !eventTarget.dispatchEvent(eventObject);\n    }\n    const eventObject = document.createEventObject();\n    return eventTarget.fireEvent(\"on\".concat(eventName), eventObject);\n  }\n\n  /**\r\n   * Cross-browser addEventListener/attachEvent function.\r\n   * @param {EventTarget} eventTarget - target to add the event.\r\n   * @param {string} eventName - specifies the type of event.\r\n   * @param {Function} callBackFunction - callback function.\r\n   * @static\r\n   */\n  static addEvent(eventTarget, eventName, callBackFunction) {\n    if (eventTarget.addEventListener) {\n      eventTarget.addEventListener(eventName, callBackFunction, true);\n    } else if (eventTarget.attachEvent) {\n      // Backwards compatibility.\n      eventTarget.attachEvent(\"on\".concat(eventName), callBackFunction);\n    }\n  }\n\n  /**\r\n   * Cross-browser removeEventListener/detachEvent function.\r\n   * @param {EventTarget} eventTarget - target to add the event.\r\n   * @param {string} eventName - specifies the type of event.\r\n   * @param {Function} callBackFunction - function to remove from the event target.\r\n   * @static\r\n   */\n  static removeEvent(eventTarget, eventName, callBackFunction) {\n    if (eventTarget.removeEventListener) {\n      eventTarget.removeEventListener(eventName, callBackFunction, true);\n    } else if (eventTarget.detachEvent) {\n      eventTarget.detachEvent(\"on\".concat(eventName), callBackFunction);\n    }\n  }\n\n  /**\r\n   * Adds the a callback function, for a certain event target, to the following event types:\r\n   * - dblclick\r\n   * - mousedown\r\n   * - mouseup\r\n   * @param {EventTarget} eventTarget - event target.\r\n   * @param {Function} doubleClickHandler - function to run when on dblclick event.\r\n   * @param {Function} mousedownHandler - function to run when on mousedown event.\r\n   * @param {Function} mouseupHandler - function to run when on mouseup event.\r\n   * @static\r\n   */\n  static addElementEvents(eventTarget, doubleClickHandler, mousedownHandler, mouseupHandler) {\n    if (doubleClickHandler) {\n      Util.addEvent(eventTarget, 'dblclick', event => {\n        const realEvent = event || window.event;\n        const element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n        doubleClickHandler(element, realEvent);\n      });\n    }\n    if (mousedownHandler) {\n      Util.addEvent(eventTarget, 'mousedown', event => {\n        const realEvent = event || window.event;\n        const element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n        mousedownHandler(element, realEvent);\n      });\n    }\n    if (mouseupHandler) {\n      Util.addEvent(eventTarget, 'mouseup', event => {\n        const realEvent = event || window.event;\n        const element = realEvent.srcElement ? realEvent.srcElement : realEvent.target;\n        mouseupHandler(element, realEvent);\n      });\n    }\n  }\n\n  /**\r\n   * Adds a class name to a HTMLElement.\r\n   * @param {HTMLElement} element - the HTML element.\r\n   * @param {string} className - the class name.\r\n   * @static\r\n   */\n  static addClass(element, className) {\n    if (!Util.containsClass(element, className)) {\n      element.className += \" \".concat(className);\n    }\n  }\n\n  /**\r\n   * Checks if a HTMLElement contains a certain class.\r\n   * @param {HTMLElement} element - the HTML element.\r\n   * @param {string} className - the className.\r\n   * @returns {boolean} true if the HTMLElement contains the class name. false otherwise.\r\n   * @static\r\n   */\n  static containsClass(element, className) {\n    if (element == null || !('className' in element)) {\n      return false;\n    }\n    const currentClasses = element.className.split(' ');\n    for (let i = currentClasses.length - 1; i >= 0; i -= 1) {\n      if (currentClasses[i] === className) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\r\n   * Remove a certain class for a HTMLElement.\r\n   * @param {HTMLElement} element - the HTML element.\r\n   * @param {string} className - the class name.\r\n   * @static\r\n   */\n  static removeClass(element, className) {\n    let newClassName = '';\n    const classes = element.className.split(' ');\n    for (let i = 0; i < classes.length; i += 1) {\n      if (classes[i] !== className) {\n        newClassName += \"\".concat(classes[i], \" \");\n      }\n    }\n    element.className = newClassName.trim();\n  }\n\n  /**\r\n   * Converts old xml initial text attribute (with «») to the correct one(with §lt;§gt;). It's\r\n   * used to parse old applets.\r\n   * @param {string} text - string containing safeXml characters\r\n   * @returns {string} a string with safeXml characters parsed.\r\n   * @static\r\n   */\n  static convertOldXmlinitialtextAttribute(text) {\n    // Used to fix a bug with Cas imported from Moodle 1.9 to Moodle 2.x.\n    // This could be removed in future.\n    const val = 'value=';\n    const xitpos = text.indexOf('xmlinitialtext');\n    const valpos = text.indexOf(val, xitpos);\n    const quote = text.charAt(valpos + val.length);\n    const startquote = valpos + val.length + 1;\n    const endquote = text.indexOf(quote, startquote);\n    const value = text.substring(startquote, endquote);\n    let newvalue = value.split('«').join('§lt;');\n    newvalue = newvalue.split('»').join('§gt;');\n    newvalue = newvalue.split('&').join('§');\n    newvalue = newvalue.split('¨').join('§quot;');\n    text = text.split(value).join(newvalue);\n    return text;\n  }\n\n  /**\r\n   * Cross-browser solution for creating new elements.\r\n   * @param {string} tagName - tag name of the wished element.\r\n   * @param {Object} attributes - an object where each key is a wished\r\n   * attribute name and each value is its value.\r\n   * @param {Object} [creator] - if supplied, this function will use\r\n   * the \"createElement\" method from this param. Otherwise\r\n   * document will be used as creator.\r\n   * @returns {Element} The DOM element with the specified attributes assigned.\r\n   * @static\r\n   */\n  static createElement(tagName, attributes, creator) {\n    if (attributes === undefined) {\n      attributes = {};\n    }\n    if (creator === undefined) {\n      creator = document;\n    }\n    let element;\n\n    /*\r\n    * Internet Explorer fix:\r\n    * If you create a new object dynamically, you can't set a non-standard attribute.\r\n    * For example, you can't set the \"src\" attribute on an \"applet\" object.\r\n    * Other browsers will throw an exception and will run the standard code.\r\n    */\n    try {\n      let html = \"<\".concat(tagName);\n      Object.keys(attributes).forEach(attributeName => {\n        html += \" \".concat(attributeName, \"=\\\"\").concat(Util.htmlEntities(attributes[attributeName]), \"\\\"\");\n      });\n      html += '>';\n      element = creator.createElement(html);\n    } catch (e) {\n      element = creator.createElement(tagName);\n      Object.keys(attributes).forEach(attributeName => {\n        element.setAttribute(attributeName, attributes[attributeName]);\n      });\n    }\n    return element;\n  }\n\n  /**\r\n   * Creates new HTML from it's HTML code as string.\r\n   * @param {string} objectCode - html code\r\n   * @returns {Element} the HTML element.\r\n   * @static\r\n   */\n  static createObject(objectCode, creator) {\n    if (creator === undefined) {\n      creator = document;\n    }\n\n    // Internet Explorer can't include \"param\" tag when is setting an innerHTML property.\n    objectCode = objectCode.split('<applet ').join('<span wirisObject=\"WirisApplet\" ').split('<APPLET ').join('<span wirisObject=\"WirisApplet\" '); // It is a 'span' because 'span' objects can contain 'br' nodes.\n    objectCode = objectCode.split('</applet>').join('</span>').split('</APPLET>').join('</span>');\n    objectCode = objectCode.split('<param ').join('<br wirisObject=\"WirisParam\" ').split('<PARAM ').join('<br wirisObject=\"WirisParam\" '); // It is a 'br' because 'br' can't contain nodes.\n    objectCode = objectCode.split('</param>').join('</br>').split('</PARAM>').join('</br>');\n    const container = Util.createElement('div', {}, creator);\n    container.innerHTML = objectCode;\n    function recursiveParamsFix(object) {\n      if (object.getAttribute && object.getAttribute('wirisObject') === 'WirisParam') {\n        const attributesParsed = {};\n        for (let i = 0; i < object.attributes.length; i += 1) {\n          if (object.attributes[i].nodeValue !== null) {\n            attributesParsed[object.attributes[i].nodeName] = object.attributes[i].nodeValue;\n          }\n        }\n        const param = Util.createElement('param', attributesParsed, creator);\n\n        // IE fix.\n        if (param.NAME) {\n          param.name = param.NAME;\n          param.value = param.VALUE;\n        }\n        param.removeAttribute('wirisObject');\n        object.parentNode.replaceChild(param, object);\n      } else if (object.getAttribute && object.getAttribute('wirisObject') === 'WirisApplet') {\n        const attributesParsed = {};\n        for (let i = 0; i < object.attributes.length; i += 1) {\n          if (object.attributes[i].nodeValue !== null) {\n            attributesParsed[object.attributes[i].nodeName] = object.attributes[i].nodeValue;\n          }\n        }\n        const applet = Util.createElement('applet', attributesParsed, creator);\n        applet.removeAttribute('wirisObject');\n        for (let i = 0; i < object.childNodes.length; i += 1) {\n          recursiveParamsFix(object.childNodes[i]);\n          if (object.childNodes[i].nodeName.toLowerCase() === 'param') {\n            applet.appendChild(object.childNodes[i]);\n            i -= 1; // When we insert the object child into the applet, object loses one child.\n          }\n        }\n        object.parentNode.replaceChild(applet, object);\n      } else {\n        for (let i = 0; i < object.childNodes.length; i += 1) {\n          recursiveParamsFix(object.childNodes[i]);\n        }\n      }\n    }\n    recursiveParamsFix(container);\n    return container.firstChild;\n  }\n\n  /**\r\n   * Converts an Element to its HTML code.\r\n   * @param {Element} element - entry element.\r\n   * @return {string} the HTML code of the input element.\r\n   * @static\r\n   */\n  static createObjectCode(element) {\n    // In case that the image was not created, the object can be null or undefined.\n    if (typeof element === 'undefined' || element === null) {\n      return null;\n    }\n    if (element.nodeType === 1) {\n      // ELEMENT_NODE.\n      let output = \"<\".concat(element.tagName);\n      for (let i = 0; i < element.attributes.length; i += 1) {\n        if (element.attributes[i].specified) {\n          output += \" \".concat(element.attributes[i].name, \"=\\\"\").concat(Util.htmlEntities(element.attributes[i].value), \"\\\"\");\n        }\n      }\n      if (element.childNodes.length > 0) {\n        output += '>';\n        for (let i = 0; i < element.childNodes.length; i += 1) {\n          output += Util.createObject(element.childNodes[i]);\n        }\n        output += \"</\".concat(element.tagName, \">\");\n      } else if (element.nodeName === 'DIV' || element.nodeName === 'SCRIPT') {\n        output += \"></\".concat(element.tagName, \">\");\n      } else {\n        output += '/>';\n      }\n      return output;\n    }\n    if (element.nodeType === 3) {\n      // TEXT_NODE.\n      return Util.htmlEntities(element.nodeValue);\n    }\n    return '';\n  }\n\n  /**\r\n   * Concatenates two URL paths.\r\n   * @param {string} path1 - first URL path\r\n   * @param {string} path2 - second URL path\r\n   * @returns {string} new URL.\r\n   */\n  static concatenateUrl(path1, path2) {\n    let separator = '';\n    if (path1.indexOf('/') !== path1.length && path2.indexOf('/') !== 0) {\n      separator = '/';\n    }\n    return (path1 + separator + path2).replace(/([^:]\\/)\\/+/g, '$1');\n  }\n\n  /**\r\n   * Parses a text and replaces all HTML special characters by their correspondent entities.\r\n   * @param {string} input - text to be parsed.\r\n   * @returns {string} the input text with all their special characters replaced by their entities.\r\n   * @static\r\n   */\n  static htmlEntities(input) {\n    return input.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&quot;');\n  }\n\n  /**\r\n   * Parses a text and replaces all the HTML entities by their characters.\r\n   * @param {string} input - text to be parsed\r\n   * @returns {string} the input text with all their entities replaced by characters.\r\n   * @static\r\n   */\n  static htmlEntitiesDecode(input) {\n    // Textarea element decodes when inner html is set.\n    const textarea = document.createElement('textarea');\n    textarea.innerHTML = input;\n    return textarea.value;\n  }\n\n  /**\r\n   * Returns a cross-browser http request.\r\n   * @return {object} httpRequest request object.\r\n   * @returns {XMLHttpRequest|ActiveXObject} the proper request object.\r\n   */\n  static createHttpRequest() {\n    const currentPath = window.location.toString().substr(0, window.location.toString().lastIndexOf('/') + 1);\n    if (currentPath.substr(0, 7) === 'file://') {\n      throw _stringmanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('exception_cross_site');\n    }\n    if (typeof XMLHttpRequest !== 'undefined') {\n      return new XMLHttpRequest();\n    }\n    try {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    } catch (e) {\n      try {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n      } catch (oc) {\n        return null;\n      }\n    }\n  }\n\n  /**\r\n   * Converts a hash to a HTTP query.\r\n   * @param {Object[]} properties - a key/value object.\r\n   * @returns {string} a HTTP query containing all the key value pairs with\r\n   * all the special characters replaced by their entities.\r\n   * @static\r\n   */\n  static httpBuildQuery(properties) {\n    let result = '';\n    Object.keys(properties).forEach(i => {\n      if (properties[i] != null) {\n        result += \"\".concat(Util.urlEncode(i), \"=\").concat(Util.urlEncode(properties[i]), \"&\");\n      }\n    });\n\n    // Deleting last '&' empty character.\n    if (result.substring(result.length - 1) === '&') {\n      result = result.substring(0, result.length - 1);\n    }\n    return result;\n  }\n\n  /**\r\n   * Convert a hash to string sorting keys to get a deterministic output\r\n   * @param {Object[]} hash - a key/value object.\r\n   * @returns {string} a string with the form key1=value1...keyn=valuen\r\n   * @static\r\n   */\n  static propertiesToString(hash) {\n    // 1. Sort keys. We sort the keys because we want a deterministic output.\n    const keys = [];\n    Object.keys(hash).forEach(key => {\n      if (Object.prototype.hasOwnProperty.call(hash, key)) {\n        keys.push(key);\n      }\n    });\n    const n = keys.length;\n    for (let i = 0; i < n; i += 1) {\n      for (let j = i + 1; j < n; j += 1) {\n        const s1 = keys[i];\n        const s2 = keys[j];\n        if (Util.compareStrings(s1, s2) > 0) {\n          // Swap.\n          keys[i] = s2;\n          keys[j] = s1;\n        }\n      }\n    }\n\n    // 2. Generate output.\n    let output = '';\n    for (let i = 0; i < n; i += 1) {\n      const key = keys[i];\n      output += key;\n      output += '=';\n      let value = hash[key];\n      value = value.replace('\\\\', '\\\\\\\\');\n      value = value.replace('\\n', '\\\\n');\n      value = value.replace('\\r', '\\\\r');\n      value = value.replace('\\t', '\\\\t');\n      output += value;\n      output += '\\n';\n    }\n    return output;\n  }\n\n  /**\r\n   * Compare two strings using charCodeAt method\r\n   * @param {string} a - first string to compare.\r\n   * @param {string} b - second string to compare.\r\n   * @returns {number} the difference between a and b\r\n   * @static\r\n   */\n  static compareStrings(a, b) {\n    let i;\n    const an = a.length;\n    const bn = b.length;\n    const n = an > bn ? bn : an;\n    for (i = 0; i < n; i += 1) {\n      const c = Util.fixedCharCodeAt(a, i) - Util.fixedCharCodeAt(b, i);\n      if (c !== 0) {\n        return c;\n      }\n    }\n    return a.length - b.length;\n  }\n\n  /**\r\n   * Fix charCodeAt() JavaScript function to handle non-Basic-Multilingual-Plane characters.\r\n   * @param {string} string - input string\r\n   * @param {number} idx - an integer greater than or equal to 0\r\n   * and less than the length of the string\r\n   * @returns {number} an integer representing the UTF-16 code of the string at the given index.\r\n   * @static\r\n   */\n  static fixedCharCodeAt(string, idx) {\n    idx = idx || 0;\n    const code = string.charCodeAt(idx);\n    let hi;\n    let low;\n\n    /* High surrogate (could change last hex to 0xDB7F to treat high\r\n    private surrogates as single characters) */\n\n    if (code >= 0xD800 && code <= 0xDBFF) {\n      hi = code;\n      low = string.charCodeAt(idx + 1);\n      if (Number.isNaN(low)) {\n        throw _stringmanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('exception_high_surrogate');\n      }\n      return (hi - 0xD800) * 0x400 + (low - 0xDC00) + 0x10000;\n    }\n    if (code >= 0xDC00 && code <= 0xDFFF) {\n      // Low surrogate.\n      /* We return false to allow loops to skip this iteration since should have\r\n      already handled high surrogate above in the previous iteration. */\n      return false;\n    }\n    return code;\n  }\n\n  /**\r\n   * Returns an URL with it's query params converted into array.\r\n   * @param {string} url - input URL.\r\n   * @returns {Object[]} an array containing all URL query params.\r\n   * @static\r\n   */\n  static urlToAssArray(url) {\n    let i;\n    i = url.indexOf('?');\n    if (i > 0) {\n      const query = url.substring(i + 1);\n      const ss = query.split('&');\n      const h = {};\n      for (i = 0; i < ss.length; i += 1) {\n        const s = ss[i];\n        const kv = s.split('=');\n        if (kv.length > 1) {\n          h[kv[0]] = decodeURIComponent(kv[1].replace(/\\+/g, ' '));\n        }\n      }\n      return h;\n    }\n    return {};\n  }\n\n  /**\r\n   * Returns an encoded URL by replacing each instance of certain characters by\r\n   * one, two, three or four escape sequences using encodeURIComponent method.\r\n   * !'()* . will not be encoded.\r\n   *\r\n   * @param {string} clearString - URL string to be encoded\r\n   * @returns {string} URL with it's special characters replaced.\r\n   * @static\r\n   */\n  static urlEncode(clearString) {\n    let output = '';\n    // Method encodeURIComponent doesn't encode !'()*~ .\n    output = encodeURIComponent(clearString);\n    return output;\n  }\n\n  // TODO: To parser?\n  /**\r\n   * Converts the HTML of a image into the output code that WIRIS must return.\r\n   * By default returns the MathML stored on data-mahml attribute (if imgCode is a formula)\r\n   * or the Wiriscas attribute of a WIRIS applet.\r\n   * @param {string} imgCode - the html code from a formula or a CAS image.\r\n   * @param {boolean} convertToXml - true if the image should be converted to XML.\r\n   * @param {boolean} convertToSafeXml - true if the image should be converted to safeXML.\r\n   * @returns {string} the XML or safeXML of a WIRIS image.\r\n   * @static\r\n   */\n  static getWIRISImageOutput(imgCode, convertToXml, convertToSafeXml) {\n    const imgObject = Util.createObject(imgCode);\n    if (imgObject) {\n      if (imgObject.className === _configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('imageClassName') || imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('imageMathmlAttribute'))) {\n        if (!convertToXml) {\n          return imgCode;\n        }\n        const dataMathML = imgObject.getAttribute(_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('imageMathmlAttribute'));\n        // To handle annotations, first we need the MathML in XML.\n        let mathML = _mathml__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlDecode(dataMathML);\n        if (!_configuration__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('saveHandTraces')) {\n          mathML = _mathml__WEBPACK_IMPORTED_MODULE_0__[\"default\"].removeAnnotation(mathML, 'application/json');\n        }\n        if (mathML == null) {\n          mathML = imgObject.getAttribute('alt');\n        }\n        if (convertToSafeXml) {\n          const safeMathML = _mathml__WEBPACK_IMPORTED_MODULE_0__[\"default\"].safeXmlEncode(mathML);\n          return safeMathML;\n        }\n        return mathML;\n      }\n    }\n    return imgCode;\n  }\n\n  /**\r\n   * Gets the node length in characters.\r\n   * @param {Node} node - HTML node.\r\n   * @returns {number} node length.\r\n   * @static\r\n   */\n  static getNodeLength(node) {\n    const staticNodeLengths = {\n      IMG: 1,\n      BR: 1\n    };\n    if (node.nodeType === 3) {\n      // TEXT_NODE.\n      return node.nodeValue.length;\n    }\n    if (node.nodeType === 1) {\n      // ELEMENT_NODE.\n      let length = staticNodeLengths[node.nodeName.toUpperCase()];\n      if (length === undefined) {\n        length = 0;\n      }\n      for (let i = 0; i < node.childNodes.length; i += 1) {\n        length += Util.getNodeLength(node.childNodes[i]);\n      }\n      return length;\n    }\n    return 0;\n  }\n\n  /**\r\n   * Gets a selected node or text from an editable HTMLElement.\r\n   * If the caret is on a text node, concatenates it with all the previous and next text nodes.\r\n   * @param {HTMLElement} target - the editable HTMLElement.\r\n   * @param {boolean} isIframe  - specifies if the target is an iframe or not\r\n   * @param {boolean} forceGetSelection - if true, ignores IE system to get\r\n   * the current selection and uses window.getSelection()\r\n   * @returns {object} an object with the 'node' key set if the item is an\r\n   * element or the keys 'node' and 'caretPosition' if the element is text.\r\n   * @static\r\n   */\n  static getSelectedItem(target, isIframe, forceGetSelection) {\n    let windowTarget;\n    if (isIframe) {\n      windowTarget = target.contentWindow;\n      windowTarget.focus();\n    } else {\n      windowTarget = window;\n      target.focus();\n    }\n    if (document.selection && !forceGetSelection) {\n      const range = windowTarget.document.selection.createRange();\n      if (range.parentElement) {\n        if (range.htmlText.length > 0) {\n          if (range.text.length === 0) {\n            return Util.getSelectedItem(target, isIframe, true);\n          }\n          return null;\n        }\n        windowTarget.document.execCommand('InsertImage', false, '#');\n        let temporalObject = range.parentElement();\n        if (temporalObject.nodeName.toUpperCase() !== 'IMG') {\n          // IE9 fix: parentElement() does not return the IMG node,\n          // returns the parent DIV node. In IE < 9, pasteHTML does not work well.\n          range.pasteHTML('<span id=\"wrs_openEditorWindow_temporalObject\"></span>');\n          temporalObject = windowTarget.document.getElementById('wrs_openEditorWindow_temporalObject');\n        }\n        let node;\n        let caretPosition;\n        if (temporalObject.nextSibling && temporalObject.nextSibling.nodeType === 3) {\n          // TEXT_NODE.\n          node = temporalObject.nextSibling;\n          caretPosition = 0;\n        } else if (temporalObject.previousSibling && temporalObject.previousSibling.nodeType === 3) {\n          node = temporalObject.previousSibling;\n          caretPosition = node.nodeValue.length;\n        } else {\n          node = windowTarget.document.createTextNode('');\n          temporalObject.parentNode.insertBefore(node, temporalObject);\n          caretPosition = 0;\n        }\n        temporalObject.parentNode.removeChild(temporalObject);\n        return {\n          node,\n          caretPosition\n        };\n      }\n      if (range.length > 1) {\n        return null;\n      }\n      return {\n        node: range.item(0)\n      };\n    }\n    if (windowTarget.getSelection) {\n      let range;\n      const selection = windowTarget.getSelection();\n      try {\n        range = selection.getRangeAt(0);\n      } catch (e) {\n        range = windowTarget.document.createRange();\n      }\n      const node = range.startContainer;\n      if (node.nodeType === 3) {\n        // TEXT_NODE.\n        return {\n          node,\n          caretPosition: range.startOffset\n        };\n      }\n      if (node !== range.endContainer) {\n        return null;\n      }\n      if (node.nodeType === 1) {\n        // ELEMENT_NODE.\n        const position = range.startOffset;\n        if (node.childNodes[position]) {\n          return {\n            node: node.childNodes[position]\n          };\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\r\n   * Returns null if there isn't any item or if it is malformed.\r\n   * Otherwise returns an object containing the node with the MathML image\r\n   * and the cursor position inside the textarea.\r\n   * @param {HTMLTextAreaElement} textarea - textarea element.\r\n   * @returns {Object} An object containing the node, the index of the\r\n   * beginning  of the selected text, caret position and the start and end position of the\r\n   * text node.\r\n   * @static\r\n   */\n  static getSelectedItemOnTextarea(textarea) {\n    const textNode = document.createTextNode(textarea.value);\n    const textNodeValues = _latex__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLatexFromTextNode(textNode, textarea.selectionStart);\n    if (textNodeValues === null) {\n      return null;\n    }\n    return {\n      node: textNode,\n      caretPosition: textarea.selectionStart,\n      startPosition: textNodeValues.startPosition,\n      endPosition: textNodeValues.endPosition\n    };\n  }\n\n  /**\r\n   * Looks for elements that match the given name in a HTML code string.\r\n   * Important: this function is very concrete for WIRIS code.\r\n   * It takes as preconditions lots of behaviors that are not the general case.\r\n   * @param {string} code -  HTML code.\r\n   * @param {string} name - element name.\r\n   * @param {boolean} autoClosed - true if the elements are autoClosed.\r\n   * @return {Object[]} an object containing all HTML elements of code matching the name argument.\r\n   * @static\r\n   */\n  static getElementsByNameFromString(code, name, autoClosed) {\n    const elements = [];\n    code = code.toLowerCase();\n    name = name.toLowerCase();\n    let start = code.indexOf(\"<\".concat(name, \" \"));\n    while (start !== -1) {\n      // Look for nodes.\n      let endString;\n      if (autoClosed) {\n        endString = '>';\n      } else {\n        endString = \"</\".concat(name, \">\");\n      }\n      let end = code.indexOf(endString, start);\n      if (end !== -1) {\n        end += endString.length;\n        elements.push({\n          start,\n          end\n        });\n      } else {\n        end = start + 1;\n      }\n      start = code.indexOf(\"<\".concat(name, \" \"), end);\n    }\n    return elements;\n  }\n\n  /**\r\n   * Returns the numeric value of a base64 character.\r\n   * @param  {string} character - base64 character.\r\n   * @returns {number} base64 character numeric value.\r\n   * @static\r\n   */\n  static decode64(character) {\n    const PLUS = '+'.charCodeAt(0);\n    const SLASH = '/'.charCodeAt(0);\n    const NUMBER = '0'.charCodeAt(0);\n    const LOWER = 'a'.charCodeAt(0);\n    const UPPER = 'A'.charCodeAt(0);\n    const PLUS_URL_SAFE = '-'.charCodeAt(0);\n    const SLASH_URL_SAFE = '_'.charCodeAt(0);\n    const code = character.charCodeAt(0);\n    if (code === PLUS || code === PLUS_URL_SAFE) {\n      return 62; // Char '+'.\n    }\n    if (code === SLASH || code === SLASH_URL_SAFE) {\n      return 63; // Char '/'.\n    }\n    if (code < NUMBER) {\n      return -1; // No match.\n    }\n    if (code < NUMBER + 10) {\n      return code - NUMBER + 26 + 26;\n    }\n    if (code < UPPER + 26) {\n      return code - UPPER;\n    }\n    if (code < LOWER + 26) {\n      return code - LOWER + 26;\n    }\n    return null;\n  }\n\n  /**\r\n   * Converts a base64 string to a array of bytes.\r\n   * @param {string} b64String - base64 string.\r\n   * @param {number} length - dimension of byte array (by default whole string).\r\n   * @return {Object[]} the resultant byte array.\r\n   * @static\r\n   */\n  static b64ToByteArray(b64String, length) {\n    let tmp;\n    if (b64String.length % 4 > 0) {\n      throw new Error('Invalid string. Length must be a multiple of 4'); // Tipped base64. Length is fixed.\n    }\n    const arr = [];\n    let l;\n    let placeHolders;\n    if (!length) {\n      // All b64String string.\n      if (b64String.charAt(b64String.length - 2) === '=') {\n        placeHolders = 2;\n      } else if (b64String.charAt(b64String.length - 1) === '=') {\n        placeHolders = 1;\n      } else {\n        placeHolders = 0;\n      }\n      l = placeHolders > 0 ? b64String.length - 4 : b64String.length;\n    } else {\n      l = length;\n    }\n    let i;\n    for (i = 0; i < l; i += 4) {\n      // Ignoring code checker standards (bitewise operators).\n      // See https://tracker.moodle.org/browse/CONTRIB-5862 for further information.\n      // @codingStandardsIgnoreStart\n      // eslint-disable-next-line max-len\n      tmp = Util.decode64(b64String.charAt(i)) << 18 | Util.decode64(b64String.charAt(i + 1)) << 12 | Util.decode64(b64String.charAt(i + 2)) << 6 | Util.decode64(b64String.charAt(i + 3));\n      arr.push(tmp >> 16 & 0xFF);\n      arr.push(tmp >> 8 & 0xFF);\n      arr.push(tmp & 0xFF);\n      // @codingStandardsIgnoreEnd\n    }\n    if (placeHolders) {\n      if (placeHolders === 2) {\n        // Ignoring code checker standards (bitewise operators).\n        // @codingStandardsIgnoreStart\n        // eslint-disable-next-line max-len\n        tmp = Util.decode64(b64String.charAt(i)) << 2 | Util.decode64(b64String.charAt(i + 1)) >> 4;\n        arr.push(tmp & 0xFF);\n      } else if (placeHolders === 1) {\n        // eslint-disable-next-line max-len\n        tmp = Util.decode64(b64String.charAt(i)) << 10 | Util.decode64(b64String.charAt(i + 1)) << 4 | Util.decode64(b64String.charAt(i + 2)) >> 2;\n        arr.push(tmp >> 8 & 0xFF);\n        arr.push(tmp & 0xFF);\n        // @codingStandardsIgnoreEnd\n      }\n    }\n    return arr;\n  }\n\n  /**\r\n   * Returns the first 32-bit signed integer from a byte array.\r\n   * @param {Object[]} bytes - array of bytes.\r\n   * @returns {number} the 32-bit signed integer.\r\n   * @static\r\n   */\n  static readInt32(bytes) {\n    if (bytes.length < 4) {\n      return false;\n    }\n    const int32 = bytes.splice(0, 4);\n    // @codingStandardsIgnoreStart\n    // eslint-disable-next-line no-mixed-operators\n    return int32[0] << 24 | int32[1] << 16 | int32[2] << 8 | int32[3] << 0;\n    // @codingStandardsIgnoreEnd\n  }\n\n  /**\r\n   * Read the first byte from a byte array.\r\n   * @param {Object} bytes - input byte array.\r\n   * @returns {number} first byte of the byte array.\r\n   * @static\r\n   */\n  static readByte(bytes) {\n    // @codingStandardsIgnoreStart\n    return bytes.shift() << 0;\n    // @codingStandardsIgnoreEnd\n  }\n\n  /**\r\n   * Read an arbitrary number of bytes, from a fixed position on a byte array.\r\n   * @param  {Object[]} bytes - byte array.\r\n   * @param  {number} pos - start position.\r\n   * @param  {number} len - number of bytes to read.\r\n   * @returns {Object[]} the byte array.\r\n   * @static\r\n   */\n  static readBytes(bytes, pos, len) {\n    return bytes.splice(pos, len);\n  }\n\n  /**\r\n   * Inserts or modifies formulas or CAS on a textarea.\r\n   * @param {HTMLTextAreaElement} textarea - textarea target.\r\n   * @param {string} text - text to add in the textarea. For example, to add the link to the image,\r\n   * call this function as (textarea, Parser.createImageSrc(mathml));\r\n   * @static\r\n   */\n  static updateTextArea(textarea, text) {\n    if (textarea && text) {\n      textarea.focus();\n      if (textarea.selectionStart != null) {\n        const {\n          selectionEnd\n        } = textarea;\n        const selectionStart = textarea.value.substring(0, textarea.selectionStart);\n        const selectionEndSub = textarea.value.substring(selectionEnd, textarea.value.length);\n        textarea.value = selectionStart + text + selectionEndSub;\n        textarea.selectionEnd = selectionEnd + text.length;\n      } else {\n        const selection = document.selection.createRange();\n        selection.text = text;\n      }\n    }\n  }\n\n  /**\r\n   * Modifies existing formula on a textarea.\r\n   * @param {HTMLTextAreaElement} textarea - text area target.\r\n   * @param {string} text - text to add in the textarea. For example, if you want to add the link\r\n   * to the image,you can call this function as\r\n   * Util.updateTextarea(textarea, Parser.createImageSrc(mathml));\r\n   * @param {number} start - beginning index from textarea where it needs to be replaced by text.\r\n   * @param {number} end - ending index from textarea where it needs to be replaced by text\r\n   * @static\r\n   */\n  static updateExistingTextOnTextarea(textarea, text, start, end) {\n    textarea.focus();\n    const textareaStart = textarea.value.substring(0, start);\n    textarea.value = textareaStart + text + textarea.value.substring(end, textarea.value.length);\n    textarea.selectionEnd = start + text.length;\n  }\n\n  /**\r\n   * Add a parameter with it's correspondent value to an URL (GET).\r\n   * @param {string} path - URL path\r\n   * @param {string} parameter - parameter\r\n   * @param {string} value - value\r\n   * @static\r\n   */\n  static addArgument(path, parameter, value) {\n    let sep;\n    if (path.indexOf('?') > 0) {\n      sep = '&';\n    } else {\n      sep = '?';\n    }\n    return \"\".concat(path + sep + parameter, \"=\").concat(value);\n  }\n}\n\n//# sourceURL=webpack:///./integration-js/src/util.js?");

/***/ }),

/***/ "./integration-js/styles/icons/general/close_icon.png":
/*!************************************************************!*\
  !*** ./integration-js/styles/icons/general/close_icon.png ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAABvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4J/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749Rgs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5ZA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLYJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7JkkS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpFaA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIAAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/general/close_icon.png?");

/***/ }),

/***/ "./integration-js/styles/icons/general/fulls_icon.png":
/*!************************************************************!*\
  !*** ./integration-js/styles/icons/general/fulls_icon.png ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQfSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7ns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4tKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1eoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYLCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y54+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Yg2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/general/fulls_icon.png?");

/***/ }),

/***/ "./integration-js/styles/icons/general/max_icon.png":
/*!**********************************************************!*\
  !*** ./integration-js/styles/icons/general/max_icon.png ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6V9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqROEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/general/max_icon.png?");

/***/ }),

/***/ "./integration-js/styles/icons/general/min_icon.png":
/*!**********************************************************!*\
  !*** ./integration-js/styles/icons/general/min_icon.png ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0koGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rOvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/general/min_icon.png?");

/***/ }),

/***/ "./integration-js/styles/icons/general/mins_icon.png":
/*!***********************************************************!*\
  !*** ./integration-js/styles/icons/general/mins_icon.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhOUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+cwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64g26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQiWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYuCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZNEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAqwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/general/mins_icon.png?");

/***/ }),

/***/ "./integration-js/styles/icons/hover/close_icon_h.png":
/*!************************************************************!*\
  !*** ./integration-js/styles/icons/hover/close_icon_h.png ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtEQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0XawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbzFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT96VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0GkoNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0Jryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4ARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/hover/close_icon_h.png?");

/***/ }),

/***/ "./integration-js/styles/icons/hover/fulls_icon_h.png":
/*!************************************************************!*\
  !*** ./integration-js/styles/icons/hover/fulls_icon_h.png ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0lPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOyvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6sFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcFmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmgpMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/hover/fulls_icon_h.png?");

/***/ }),

/***/ "./integration-js/styles/icons/hover/max_icon_h.png":
/*!**********************************************************!*\
  !*** ./integration-js/styles/icons/hover/max_icon_h.png ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+yT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBBfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+X1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/hover/max_icon_h.png?");

/***/ }),

/***/ "./integration-js/styles/icons/hover/min_icon_h.png":
/*!**********************************************************!*\
  !*** ./integration-js/styles/icons/hover/min_icon_h.png ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAApklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIKvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1BoCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26b1V6LAAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/hover/min_icon_h.png?");

/***/ }),

/***/ "./integration-js/styles/icons/hover/mins_icon_h.png":
/*!***********************************************************!*\
  !*** ./integration-js/styles/icons/hover/mins_icon_h.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4kT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeqrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqCN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmcuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyTIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXDbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack:///./integration-js/styles/icons/hover/mins_icon_h.png?");

/***/ }),

/***/ "./integration-js/styles/styles.css":
/*!******************************************!*\
  !*** ./integration-js/styles/styles.css ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../node_modules/css-loader!./styles.css */ \"./node_modules/css-loader/index.js!./integration-js/styles/styles.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack:///./integration-js/styles/styles.css?");

/***/ }),

/***/ "./node_modules/css-loader/index.js!./integration-js/styles/styles.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader!./integration-js/styles/styles.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var escape = __webpack_require__(/*! ../../node_modules/css-loader/lib/url/escape.js */ \"./node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \".wrs_modal_overlay {\\r\\n    position: fixed;\\r\\n    font-family: arial, sans-serif;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    background: rgba(0, 0, 0, 0.8);\\r\\n    z-index: 999998;\\r\\n    opacity: 0.65;\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_ios {\\r\\n    visibility: hidden;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_android {\\r\\n    visibility: hidden;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_ios.moodle {\\r\\n    position: fixed;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack {\\r\\n    background: rgba(0, 0, 0, 0);\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized {\\r\\n    background: rgba(0, 0, 0, 0.8);\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized {\\r\\n    background: rgba(0, 0, 0, 0);\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_closed {\\r\\n    background: rgba(0, 0, 0, 0);\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_title {\\r\\n    color: #fff;\\r\\n    padding: 5px 0 5px 10px;\\r\\n    -moz-user-select: none;\\r\\n    -webkit-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.wrs_modal_close_button {\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    color: #fff;\\r\\n    padding: 5px 10px 5px 0;\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/general/close_icon.png */ \"./integration-js/styles/icons/general/close_icon.png\")) + \");\\r\\n    background-size: 10px;\\r\\n    margin: 10px 7px 0 0;\\r\\n    background-repeat: no-repeat;\\r\\n}\\r\\n\\r\\n.wrs_modal_close_button:hover {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/hover/close_icon_h.png */ \"./integration-js/styles/icons/hover/close_icon_h.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_minimize_button {\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    color: #fff;\\r\\n    padding: 5px 10px 5px 0;\\r\\n    top: inherit;\\r\\n    margin: 10px 7px 0 0;\\r\\n    background-size: 10px;\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/general/min_icon.png */ \"./integration-js/styles/icons/general/min_icon.png\")) + \");\\r\\n    background-repeat: no-repeat;\\r\\n}\\r\\n\\r\\n.wrs_modal_minimize_button:hover {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/hover/min_icon_h.png */ \"./integration-js/styles/icons/hover/min_icon_h.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_minimize_button.wrs_minimized {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/general/max_icon.png */ \"./integration-js/styles/icons/general/max_icon.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_minimize_button.wrs_minimized:hover {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/hover/max_icon_h.png */ \"./integration-js/styles/icons/hover/max_icon_h.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_stack_button {\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    color: #fff;\\r\\n    margin: 10px 7px 0 0;\\r\\n    padding: 5px 10px 5px 0;\\r\\n    top: inherit;\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/general/mins_icon.png */ \"./integration-js/styles/icons/general/mins_icon.png\")) + \");\\r\\n    background-size: 10px;\\r\\n}\\r\\n\\r\\n.wrs_modal_stack_button.wrs_stack {\\r\\n    visibility: hidden;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_stack_button.wrs_minimized {\\r\\n    visibility: hidden;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_stack_button:hover {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/hover/mins_icon_h.png */ \"./integration-js/styles/icons/hover/mins_icon_h.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_maximize_button {\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    color: #fff;\\r\\n    margin: 10px 7px 0 0;\\r\\n    padding: 5px 10px 5px 0;\\r\\n    top: inherit;\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/general/fulls_icon.png */ \"./integration-js/styles/icons/general/fulls_icon.png\")) + \");\\r\\n    background-size: 10px;\\r\\n    background-repeat: no-repeat;\\r\\n}\\r\\n\\r\\n.wrs_modal_maximize_button.wrs_maximized {\\r\\n    visibility: hidden;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_maximize_button:hover {\\r\\n    background-image: url(\" + escape(__webpack_require__(/*! ./icons/hover/fulls_icon_h.png */ \"./integration-js/styles/icons/hover/fulls_icon_h.png\")) + \");\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper {\\r\\n    display: block;\\r\\n    margin: 6px;\\r\\n}\\r\\n\\r\\n.wrs_modal_title_bar {\\r\\n    display: block;\\r\\n    background-color: #778e9a;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer {\\r\\n    border: none;\\r\\n    background: #fafafa;\\r\\n    z-index: 999999;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop {\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized {\\r\\n    position: fixed;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized {\\r\\n    position: fixed;\\r\\n    top: inherit;\\r\\n    margin: 0;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_closed {\\r\\n    visibility: hidden;\\r\\n    display: none;\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n\\r\\n/* Class that exists but hasn't got css properties defined\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized.wrs_drag {} */\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack {\\r\\n    position: fixed;\\r\\n    bottom: 0;\\r\\n    right: 0;\\r\\n    box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_drag {\\r\\n    box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag {\\r\\n    box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_android {\\r\\n    margin: auto;\\r\\n    position: fixed;\\r\\n    width: 99%;\\r\\n    height: 99%;\\r\\n    overflow: hidden;\\r\\n    transform: translate(50%, -50%);\\r\\n    top: 50%;\\r\\n    right: 50% !important;\\r\\n    position: fixed;\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_ios {\\r\\n    margin: auto;\\r\\n    position: fixed;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n    transform: translate(50%, -50%);\\r\\n    top: 50%;\\r\\n    right: 50% !important;\\r\\n    position: fixed;\\r\\n}\\r\\n\\r\\n\\r\\n/* Class that exists but hasn't got css properties defined\\r\\n.wrs_content_container.wrs_maximized {} */\\r\\n\\r\\n.wrs_content_container.wrs_minimized {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n/* .wrs_editor {\\r\\n    flex-grow: 1;\\r\\n} */\\r\\n\\r\\n.wrs_content_container.wrs_modal_android {\\r\\n    width: 100%;\\r\\n    flex-grow: 1;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.wrs_content_container.wrs_modal_android > div:first-child {\\r\\n    flex-grow: 1;\\r\\n}\\r\\n\\r\\n.wrs_content_container.wrs_modal_ios > div:first-child {\\r\\n    flex-grow: 1;\\r\\n}\\r\\n\\r\\n.wrs_content_container.wrs_modal_desktop > div:first-child {\\r\\n    flex-grow: 1;\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper.wrs_modal_android {\\r\\n    margin: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.wrs_content_container.wrs_modal_desktop {\\r\\n    width: 100%;\\r\\n    flex-grow: 1;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.wrs_content_container.wrs_modal_ios {\\r\\n    width: 100%;\\r\\n    flex-grow: 1;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper.wrs_modal_ios {\\r\\n    margin: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.wrs_virtual_keyboard {\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    top: 0;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, 0%);\\r\\n}\\r\\n\\r\\n@media all and (orientation: portrait) {\\r\\n    .wrs_modal_dialogContainer.wrs_modal_mobile {\\r\\n        width: 100vmin;\\r\\n        height: 100vmin;\\r\\n        margin: auto;\\r\\n        border-width: 0;\\r\\n    }\\r\\n    .wrs_modal_wrapper.wrs_modal_mobile {\\r\\n        width: 100vmin;\\r\\n        height: 100vmin;\\r\\n        margin: auto;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media all and (orientation: landscape) {\\r\\n    .wrs_modal_dialogContainer.wrs_modal_mobile {\\r\\n        width: 100vmin;\\r\\n        height: 100vmin;\\r\\n        margin: auto;\\r\\n        border-width: 0;\\r\\n    }\\r\\n    .wrs_modal_wrapper.wrs_modal_mobile {\\r\\n        width: 100vmin;\\r\\n        height: 100vmin;\\r\\n        margin: auto;\\r\\n    }\\r\\n}\\r\\n\\r\\n.wrs_modal_dialogContainer.wrs_modal_badStock {\\r\\n    width: 100%;\\r\\n    height: 280px;\\r\\n    margin: 0 auto;\\r\\n    border-width: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper.wrs_modal_badStock {\\r\\n    width: 100%;\\r\\n    height: 280px;\\r\\n    margin: 0 auto;\\r\\n    border-width: 0;\\r\\n}\\r\\n.wrs_noselect {\\r\\n    -moz-user-select: none;\\r\\n    -khtml-user-select: none;\\r\\n    -webkit-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n}\\r\\n.wrs_bottom_right_resizer {\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    color: #778e9a;\\r\\n    position: absolute;\\r\\n    right: 4px;\\r\\n    bottom: 8px;\\r\\n    cursor: se-resize;\\r\\n    -moz-user-select: none;\\r\\n    -webkit-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n}\\r\\n.wrs_bottom_left_resizer {\\r\\n    width: 15px;\\r\\n    height: 15px;\\r\\n    color: #778e9a;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    cursor: se-resize;\\r\\n}\\r\\n\\r\\n.wrs_modal_controls {\\r\\n    height: 42px;\\r\\n    margin: 3px 0;\\r\\n    overflow: hidden;\\r\\n    line-height: normal;\\r\\n}\\r\\n\\r\\n.wrs_modal_links {\\r\\n    margin: 10px auto;\\r\\n    margin-bottom: 0;\\r\\n    font-family: arial, sans-serif;\\r\\n    padding: 6px;\\r\\n    display: inline;\\r\\n    float: right;\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.wrs_modal_links > a {\\r\\n    text-decoration: none;\\r\\n    color: #778e9a;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.wrs_modal_button_cancel,\\r\\n.wrs_modal_button_cancel:hover,\\r\\n.wrs_modal_button_cancel:visited,\\r\\n.wrs_modal_button_cancel:active,\\r\\n.wrs_modal_button_cancel:focus {\\r\\n    min-width: 80px;\\r\\n    font-size: 14px;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #778e9a;\\r\\n    padding: 6px 8px;\\r\\n    margin: 10px auto;\\r\\n    margin-left: 5px;\\r\\n    margin-bottom: 0;\\r\\n    cursor: pointer;\\r\\n    font-family: arial, sans-serif;\\r\\n    background-color: #DDDDDD;\\r\\n    height: 32px;\\r\\n}\\r\\n\\r\\n.wrs_modal_button_accept,\\r\\n.wrs_modal_button_accept:hover,\\r\\n.wrs_modal_button_accept:visited,\\r\\n.wrs_modal_button_accept:active,\\r\\n.wrs_modal_button_accept:focus {\\r\\n    min-width: 80px;\\r\\n    font-size: 14px;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #778e9a;\\r\\n    padding: 6px 8px;\\r\\n    margin: 10px auto;\\r\\n    margin-right: 5px;\\r\\n    margin-bottom: 0;\\r\\n    color: #fff;\\r\\n    background: #778e9a;\\r\\n    cursor: pointer;\\r\\n    font-family: arial, sans-serif;\\r\\n    height: 32px;\\r\\n}\\r\\n\\r\\n.wrs_editor_vertical_bar {\\r\\n    height: 20px;\\r\\n    float: right;\\r\\n    background: none;\\r\\n    width: 20px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.wrs_modal_buttons_container {\\r\\n    display: inline;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.wrs_modal_buttons_container.wrs_modalAndroid {\\r\\n    padding-left: 6px;\\r\\n}\\r\\n\\r\\n.wrs_modal_buttons_container.wrs_modalDesktop {\\r\\n    padding-left: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_buttons_container > button {\\r\\n    line-height: normal;\\r\\n    background-image: none;\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper {\\r\\n    margin: 6px;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n@media only screen and (max-device-width: 480px) and (orientation: portrait) {\\r\\n    #wrs_modal_wrapper {\\r\\n        width: 140%;\\r\\n    }\\r\\n}\\r\\n\\r\\n.wrs_popupmessage_overlay_envolture {\\r\\n    display: none;\\r\\n    width: 100%;\\r\\n}\\r\\n.wrs_popupmessage_overlay {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    bottom: 0;\\r\\n    background-color: rgba(0, 0, 0, 0.5);\\r\\n    z-index: 4;\\r\\n    cursor: pointer;\\r\\n}\\r\\n.wrs_popupmessage_panel {\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n    position: absolute;\\r\\n    background: white;\\r\\n    max-width: 500px;\\r\\n    width: 75%;\\r\\n    border-radius: 2px;\\r\\n    padding: 20px;\\r\\n    font-family: sans-serif;\\r\\n    font-size: 15px;\\r\\n    text-align: left;\\r\\n    color: #2e2e2e;\\r\\n    z-index: 5;\\r\\n    max-height: 75%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.wrs_popupmessage_button_area {\\r\\n    margin: 10px 0 0 0;\\r\\n}\\r\\n\\r\\n.wrs_panelContainer * {\\r\\n    border: 0;\\r\\n}\\r\\n\\r\\n.wrs_button_cancel,\\r\\n.wrs_button_cancel:hover,\\r\\n.wrs_button_cancel:visited,\\r\\n.wrs_button_cancel:active,\\r\\n.wrs_button_cancel:focus {\\r\\n    min-width: 80px;\\r\\n    font-size: 14px;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #778e9a;\\r\\n    padding: 6px 8px;\\r\\n    margin: 10px auto;\\r\\n    margin-left: 5px;\\r\\n    margin-bottom: 0;\\r\\n    cursor: pointer;\\r\\n    font-family: arial, sans-serif;\\r\\n    background-color: #DDDDDD;\\r\\n    background-image: none;\\r\\n    height: 32px;\\r\\n}\\r\\n\\r\\n.wrs_button_accept,\\r\\n.wrs_button_accept:hover,\\r\\n.wrs_button_accept:visited,\\r\\n.wrs_button_accept:active,\\r\\n.wrs_button_accept:focus {\\r\\n    min-width: 80px;\\r\\n    font-size: 14px;\\r\\n    border-radius: 3px;\\r\\n    border: 1px solid #778e9a;\\r\\n    padding: 6px 8px;\\r\\n    margin: 10px auto;\\r\\n    margin-right: 5px;\\r\\n    margin-bottom: 0;\\r\\n    color: #fff;\\r\\n    background: #778e9a;\\r\\n    cursor: pointer;\\r\\n    font-family: arial, sans-serif;\\r\\n    height: 32px;\\r\\n}\\r\\n\\r\\n.wrs_editor button{\\r\\n    box-shadow: none;\\r\\n}\\r\\n\\r\\n.wrs_editor .wrs_header button{\\r\\n    border-bottom: none;\\r\\n    border-bottom-left-radius: 0;\\r\\n    border-bottom-right-radius: 0;\\r\\n}\\r\\n\\r\\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active {\\r\\n    display: block;\\r\\n}\\r\\n/* Fix selection in drupal style */\\r\\n.wrs_toolbar tr:focus{\\r\\n    background: none;\\r\\n}\\r\\n.wrs_toolbar tr:hover{\\r\\n    background: none;\\r\\n}\\r\\n/* End of fix drupal */\\r\\n.wrs_modal_rtl .wrs_modal_button_cancel {\\r\\n    margin-right: 5px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n.wrs_modal_rtl .wrs_modal_button_accept {\\r\\n    margin-right: 0;\\r\\n    margin-left: 5px;\\r\\n}\\r\\n.wrs_modal_rtl .wrs_button_cancel {\\r\\n    margin-right: 5px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n.wrs_modal_rtl .wrs_button_accept {\\r\\n    margin-right: 0;\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./integration-js/styles/styles.css?./node_modules/css-loader");

/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack:///./node_modules/css-loader/lib/css-base.js?");

/***/ }),

/***/ "./node_modules/css-loader/lib/url/escape.js":
/*!***************************************************!*\
  !*** ./node_modules/css-loader/lib/url/escape.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n\n\n//# sourceURL=webpack:///./node_modules/css-loader/lib/url/escape.js?");

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ \"./node_modules/style-loader/lib/urls.js\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack:///./node_modules/style-loader/lib/addStyles.js?");

/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n//# sourceURL=webpack:///./node_modules/style-loader/lib/urls.js?");

/***/ }),

/***/ "./plugin.src.js":
/*!***********************!*\
  !*** ./plugin.src.js ***!
  \***********************/
/*! exports provided: instances, currentInstance, CKEditor4Integration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"instances\", function() { return instances; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentInstance\", function() { return currentInstance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CKEditor4Integration\", function() { return CKEditor4Integration; });\n/* harmony import */ var _integration_js_src_integrationmodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-js/src/integrationmodel */ \"./integration-js/src/integrationmodel.js\");\n/* harmony import */ var _integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integration-js/src/parser */ \"./integration-js/src/parser.js\");\n/* harmony import */ var _integration_js_src_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./integration-js/src/util */ \"./integration-js/src/util.js\");\n/* harmony import */ var _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./integration-js/src/configuration */ \"./integration-js/src/configuration.js\");\n\n\n\n\n\n/**\r\n * This property contains all Froala Integration instances.\r\n * @type {Object}\r\n */\nvar instances = {};\n/**\r\n * This property contains the current Froala integration instance,\r\n * which is the instance of the active editor.\r\n * @class\r\n * @type {IntegrationModel}\r\n */\nvar currentInstance = null;\n\n/**\r\n * This class represents the MathType integration from CKEditor4.\r\n * @extends {IntegrationModel}\r\n */\n\nclass CKEditor4Integration extends _integration_js_src_integrationmodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   *\r\n   * @param {IntegrationModelProperties}\r\n   */\n  constructor(ckeditorIntegrationModelProperties) {\n    /**\r\n     * CKEditor4 Integration.\r\n     *\r\n     * @param {IntegrationModelProperties} integrationModelAttributes\r\n     */\n    super(ckeditorIntegrationModelProperties);\n    /**\r\n     * Folder name used for the integration inside CKEditor plugins folder.\r\n     */\n    this.integrationFolderName = 'ckeditor_wiris';\n  }\n\n  /**@inheritdoc */\n  init() {\n    super.init();\n    const editor = this.editorObject;\n    if ('wiriseditorparameters' in editor.config) {\n      _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].update('editorParameters', editor.config.wiriseditorparameters);\n    }\n  }\n\n  /**\r\n  * When no language is set, ckeditor sets the toolbar to user's browser language.\r\n   * @inheritdoc\r\n   * @returns {String} - The CKEditor instance language.\r\n   * @override\r\n   */\n  getLanguage() {\n    // Returns the CKEDitor instance language.\n    return this.editorObject.langCode;\n  }\n\n  /**\r\n   * @override\r\n   */\n  getPath() {\n    // Delegates the responsability to get the path to CKEditor.\n    return this.editorObject.plugins.ckeditor_wiris.path;\n  }\n\n  /**\r\n   * Adds callbacks to the following CKEditor listeners:\r\n   * - 'focus' - updates the current instance.\r\n   * - 'contentDom' - adds 'doubleclick' callback.\r\n   * - 'doubleclick' - sets to null data.dialog property to avoid modifications for MathType formulas.\r\n   * - 'setData' - parses the data converting MathML into images.\r\n   * - 'afterSetData' - adds an observer to MathType formulas to avoid modifications.\r\n   * - 'getData' - parses the data converting images into selected save mode (MathML by default).\r\n   * - 'mode' - recalculates the active element.\r\n   */\n  addEditorListeners() {\n    const editor = this.editorObject;\n    if (typeof editor.config.wirislistenersdisabled == 'undefined' || !editor.config.wirislistenersdisabled) {\n      // First editor parsing.\n      editor.setData(_integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].initParse(editor.getData()));\n\n      // Maintain currentInstance updated.\n      editor.on('focus', function (event) {\n        WirisPlugin.currentInstance = WirisPlugin.instances[event.editor.name];\n      });\n      editor.on('contentDom', function () {\n        editor.on('doubleclick', function (event) {\n          if (event.data.element.$.nodeName.toLowerCase() == 'img' && _integration_js_src_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].containsClass(event.data.element.$, _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('imageClassName')) || _integration_js_src_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].containsClass(event.data.element.$, _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('CASClassName'))) {\n            event.data.dialog = null;\n          }\n        }.bind(this));\n      }.bind(this));\n      editor.on('setData', function (e) {\n        e.data.dataValue = _integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].initParse(e.data.dataValue || \"\");\n      }.bind(this));\n      editor.on('afterSetData', function (e) {\n        if (typeof _integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].observer !== 'undefined') {\n          Array.prototype.forEach.call(document.getElementsByClassName('Wirisformula'), function (wirisImages) {\n            _integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].observer.observe(wirisImages);\n          });\n        }\n      }.bind(this));\n      editor.on('getData', function (e) {\n        e.data.dataValue = _integration_js_src_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].endParse(e.data.dataValue || \"\");\n      }.bind(this));\n\n      // When CKEditors changes from WYSIWYG to source element, recalculate 'element' variable is mandatory.\n      editor.on('mode', function (e) {\n        this.checkElement();\n      }.bind(this));\n      this.checkElement();\n    } else {\n      // CKEditor replaces several times the element element during its execution, so we must assign the events again.\n      // We need to set a callback function to set 'element' variable inside CKEDITOR.plugins.add scope.\n      editor.on('instanceReady', function (params) {\n        this.checkElement();\n      }.bind(this));\n      editor.resetDirty();\n    }\n  }\n\n  /**\r\n   * Checks the current container and assign events in case that it doesn't have them.\r\n   * CKEditor replaces several times the element element during its execution,\r\n   * so we must assign the events again to editor element.\r\n   */\n  checkElement() {\n    const editor = this.editorObject;\n    const elem = document.getElementById('cke_contents_' + editor.name) ? document.getElementById('cke_contents_' + editor.name) : document.getElementById('cke_' + editor.name);\n    let newElement;\n    if (editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE) {\n      newElement = editor.container.$;\n    } else {\n      newElement = elem.getElementsByTagName('iframe')[0];\n    }\n    let _wrs_int_divIframe = false;\n    if (!newElement) {\n      // On this case, CKEditor uses a div area instead of and iframe as the editable area. Events must be integrated on the div area.\n      let dataContainer;\n      for (let classElementIndex in elem.classList) {\n        const classElement = elem.classList[classElementIndex];\n        if (classElement.search('cke_\\\\d') != -1) {\n          dataContainer = classElement;\n          break;\n        }\n      }\n      if (dataContainer) {\n        newElement = document.getElementById(dataContainer + '_contents');\n        _wrs_int_divIframe = true;\n      }\n    }\n\n    // If the element wasn't treated, add the events.\n    if (!newElement.wirisActive) {\n      if (editor.elementMode === CKEDITOR.ELEMENT_MODE_INLINE) {\n        if (newElement.tagName === 'TEXTAREA') {\n          // Inline editor from a textarea element. In this case the textarea will be replaced by a div element with inline editing enabled.\n          const eventElements = document.getElementsByClassName('cke_textarea_inline');\n          Array.prototype.forEach.call(eventElements, function (entry) {\n            this.setTarget(entry);\n            this.addEvents();\n          });\n        } else {\n          this.setTarget(newElement);\n          this.addEvents();\n        }\n        // Set the element as treated.\n        newElement.wirisActive = true;\n      } else if (!!newElement.contentWindow || _wrs_int_divIframe) {\n        this.setTarget(newElement);\n        this.addEvents();\n        // Set the element as treated.\n        newElement.wirisActive = true;\n      }\n    }\n  }\n\n  /**\r\n   * @inheritdoc\r\n   * @param {HTMLElement} element - HTMLElement target.\r\n   * @param {MouseEvent} event - Event which trigger the handler.\r\n   */\n  doubleClickHandler(element, event) {\n    if (element.nodeName.toLowerCase() == 'img') {\n      if (_integration_js_src_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].containsClass(element, _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('imageClassName'))) {\n        // Some plugins (image2, image) open a dialog on double click. On formulas\n        // doubleclick event ends here.\n        if (typeof event.stopPropagation != 'undefined') {\n          // old I.E compatibility.\n          event.stopPropagation();\n        } else {\n          event.returnValue = false;\n        }\n        this.core.getCustomEditors().disable();\n        const customEditorAttr = element.getAttribute(_integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('imageCustomEditorName'));\n        if (customEditorAttr) {\n          this.core.getCustomEditors().enable(customEditorAttr);\n        }\n        this.core.editionProperties.temporalImage = element;\n        this.openExistingFormulaEditor();\n      }\n    }\n  }\n\n  /** @inheritdoc */\n  getCorePath() {\n    return CKEDITOR.plugins.getPath(this.integrationFolderName);\n  }\n\n  /** @inheritdoc */\n  getSelection() {\n    this.editorObject.editable().$.focus();\n    return this.editorObject.getSelection().getNative();\n  }\n\n  /** @inheritdoc */\n  callbackFunction() {\n    super.callbackFunction();\n    this.addEditorListeners();\n  }\n}\n(function () {\n  CKEDITOR.plugins.add('ckeditor_wiris', {\n    'init': function (editor) {\n      editor.ui.addButton('ckeditor_wiris_formulaEditor', {\n        'label': 'Insert a math equation - MathType',\n        'command': 'ckeditor_wiris_openFormulaEditor',\n        'icon': CKEDITOR.plugins.getPath('ckeditor_wiris') + './icons/' + 'formula.png'\n      });\n      editor.ui.addButton('ckeditor_wiris_formulaEditorChemistry', {\n        'label': 'Insert a chemistry formula - ChemType',\n        'command': 'ckeditor_wiris_openFormulaEditorChemistry',\n        'icon': CKEDITOR.plugins.getPath('ckeditor_wiris') + './icons/' + 'chem.png'\n      });\n\n      // Is needed specify that our images are allowed.\n      let allowedContent = 'img[align,';\n      allowedContent += _integration_js_src_configuration__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get('imageMathmlAttribute');\n      allowedContent += ',src,alt](!Wirisformula)';\n\n      // MathType Editor.\n      editor.addCommand('ckeditor_wiris_openFormulaEditor', {\n        'async': false,\n        'canUndo': true,\n        'editorFocus': true,\n        'allowedContent': allowedContent,\n        'requiredContent': allowedContent,\n        'exec': editor => {\n          const ckeditorIntegrationInstance = WirisPlugin.instances[editor.name];\n          // Can be that previously custom editor was used. So is needed disable\n          // all the editors to avoid wrong behaviours.\n          ckeditorIntegrationInstance.core.getCustomEditors().disable();\n          ckeditorIntegrationInstance.openNewFormulaEditor();\n        }\n      });\n\n      // ChemType.\n      editor.addCommand('ckeditor_wiris_openFormulaEditorChemistry', {\n        'async': false,\n        'canUndo': true,\n        'editorFocus': true,\n        'allowedContent': allowedContent,\n        'requiredContent': allowedContent,\n        'exec': editor => {\n          const ckeditorIntegrationInstance = WirisPlugin.instances[editor.name];\n          ckeditorIntegrationInstance.core.getCustomEditors().enable('chemistry');\n          ckeditorIntegrationInstance.openNewFormulaEditor();\n        }\n      });\n      editor.on('instanceReady', function () {\n        /**\r\n         * Integration model constructor attributes.\r\n         * @type {integrationModelProperties}\r\n         */\n        let ckeditorIntegrationModelProperties = {};\n        ckeditorIntegrationModelProperties.editorObject = editor;\n        // In CKEditor always there is an iframe or a div container. To access, we use the property that\n        // the container has a class 'cke_wysiwyg_[container type]' where [container type] can be 'frame' or 'div'.\n        ckeditorIntegrationModelProperties.target = editor.container.$.querySelector('*[class^=cke_wysiwyg]');\n        ckeditorIntegrationModelProperties.serviceProviderProperties = {};\n        ckeditorIntegrationModelProperties.serviceProviderProperties.URI = 'integration';\n        ckeditorIntegrationModelProperties.serviceProviderProperties.server = 'aspx';\n        ckeditorIntegrationModelProperties.version = '7.17.0.1426';\n        ckeditorIntegrationModelProperties.scriptName = \"plugin.js\";\n        ckeditorIntegrationModelProperties.environment = {};\n        ckeditorIntegrationModelProperties.environment.editor = \"CKEditor4\";\n        // Updating integration paths if context path is overwritten by editor javascript configuration.\n        if ('wiriscontextpath' in editor.config) {\n          ckeditorIntegrationModelProperties.configurationService = editor.config.wiriscontextpath + ckeditorIntegrationModelProperties.configurationService;\n          console.warn('Deprecated property wiriscontextpath. Use mathTypeParameters on instead.', editor.config.wiriscontextpath);\n        }\n\n        // Overriding MathType integration parameters.\n        if ('mathTypeParameters' in editor.config) {\n          ckeditorIntegrationModelProperties.integrationParameters = editor.config.mathTypeParameters;\n        }\n        const ckeditorIntegrationInstance = new CKEditor4Integration(ckeditorIntegrationModelProperties);\n        ckeditorIntegrationInstance.init();\n        ckeditorIntegrationInstance.listeners.fire('onTargetReady', {});\n        WirisPlugin.instances[editor.name] = ckeditorIntegrationInstance;\n        WirisPlugin.currentInstance = ckeditorIntegrationInstance;\n      });\n    }\n  });\n})();\n\n//# sourceURL=webpack:///./plugin.src.js?");

/***/ })

/******/ });